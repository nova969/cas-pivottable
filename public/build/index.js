var mi=Object.defineProperty;var yi=(r,e,t)=>e in r?mi(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var We=(r,e,t)=>(yi(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();function he(){}function Ne(r,e){for(const t in e)r[t]=e[t];return r}function bi(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function Kn(r){return r()}function Nr(){return Object.create(null)}function Xe(r){r.forEach(Kn)}function Ve(r){return typeof r=="function"}function Le(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function _r(r){return Object.keys(r).length===0}function Re(r,e,t,n){if(r){const o=Xn(r,e,t,n);return r[0](o)}}function Xn(r,e,t,n){return r[1]&&n?Ne(t.ctx.slice(),r[1](n(e))):t.ctx}function Pe(r,e,t,n){if(r[2]&&n){const o=r[2](n(t));if(e.dirty===void 0)return o;if(typeof o=="object"){const s=[],i=Math.max(e.dirty.length,o.length);for(let l=0;l<i;l+=1)s[l]=e.dirty[l]|o[l];return s}return e.dirty|o}return e.dirty}function ke(r,e,t,n,o,s){if(o){const i=Xn(e,t,n,s);r.p(i,o)}}function Ge(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function jt(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function Et(r,e){const t={};e=new Set(e);for(const n in r)!e.has(n)&&n[0]!=="$"&&(t[n]=r[n]);return t}function _i(r){return r??""}function Ft(r){return r&&Ve(r.destroy)?r.destroy:he}function F(r,e){r.appendChild(e)}function X(r,e,t){r.insertBefore(e,t||null)}function Y(r){r.parentNode&&r.parentNode.removeChild(r)}function V(r){return document.createElement(r)}function ne(r){return document.createTextNode(r)}function x(){return ne(" ")}function He(){return ne("")}function ue(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function Bt(r){return function(e){return e.stopPropagation(),r.call(this,e)}}function N(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function vi(r){return Array.from(r.childNodes)}function ye(r,e){e=""+e,r.data!==e&&(r.data=e)}function Lr(r,e){r.value=e??""}function Oe(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function qr(r,e,t){r.classList.toggle(e,!!t)}function wi(r,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:n})}function Mr(r,e){return new r(e)}let Nt;function Qe(r){Nt=r}function Dr(){if(!Nt)throw new Error("Function called outside component initialization");return Nt}function xn(r){Dr().$$.on_mount.push(r)}function Ir(){const r=Dr();return(e,t,{cancelable:n=!1}={})=>{const o=r.$$.callbacks[e];if(o){const s=wi(e,t,{cancelable:n});return o.slice().forEach(i=>{i.call(r,s)}),!s.defaultPrevented}return!0}}function Jn(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const mt=[],Lt=[];let vt=[];const vr=[],Ei=Promise.resolve();let wr=!1;function Si(){wr||(wr=!0,Ei.then(Cr))}function Er(r){vt.push(r)}function Oi(r){vr.push(r)}const ar=new Set;let ht=0;function Cr(){if(ht!==0)return;const r=Nt;do{try{for(;ht<mt.length;){const e=mt[ht];ht++,Qe(e),Ti(e.$$)}}catch(e){throw mt.length=0,ht=0,e}for(Qe(null),mt.length=0,ht=0;Lt.length;)Lt.pop()();for(let e=0;e<vt.length;e+=1){const t=vt[e];ar.has(t)||(ar.add(t),t())}vt.length=0}while(mt.length);for(;vr.length;)vr.pop()();wr=!1,ar.clear(),Qe(r)}function Ti(r){if(r.fragment!==null){r.update(),Xe(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Er)}}function Ai(r){const e=[],t=[];vt.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),vt=e}const Xt=new Set;let ct;function ft(){ct={r:0,c:[],p:ct}}function dt(){ct.r||Xe(ct.c),ct=ct.p}function Q(r,e){r&&r.i&&(Xt.delete(r),r.i(e))}function ee(r,e,t,n){if(r&&r.o){if(Xt.has(r))return;Xt.add(r),ct.c.push(()=>{Xt.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function Ur(r,e){const t=e.token={};function n(o,s,i,l){if(e.token!==t)return;e.resolved=l;let a=e.ctx;i!==void 0&&(a=a.slice(),a[i]=l);const u=o&&(e.current=o)(a);let d=!1;e.block&&(e.blocks?e.blocks.forEach((c,f)=>{f!==s&&c&&(ft(),ee(c,1,1,()=>{e.blocks[f]===c&&(e.blocks[f]=null)}),dt())}):e.block.d(1),u.c(),Q(u,1),u.m(e.mount(),e.anchor),d=!0),e.block=u,e.blocks&&(e.blocks[s]=u),d&&Cr()}if(bi(r)){const o=Dr();if(r.then(s=>{Qe(o),n(e.then,1,e.value,s),Qe(null)},s=>{if(Qe(o),n(e.catch,2,e.error,s),Qe(null),!e.hasCatch)throw s}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,r),!0;e.resolved=r}}function Di(r,e,t){const n=e.slice(),{resolved:o}=r;r.current===r.then&&(n[r.value]=o),r.current===r.catch&&(n[r.error]=o),r.block.p(n,t)}function de(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function $e(r,e){r.d(1),e.delete(r.key)}function Zn(r,e){ee(r,1,1,()=>{e.delete(r.key)})}function Ye(r,e,t,n,o,s,i,l,a,u,d,c){let f=r.length,m=s.length,p=f;const h={};for(;p--;)h[r[p].key]=p;const y=[],b=new Map,_=new Map,E=[];for(p=m;p--;){const v=c(o,s,p),R=t(v);let D=i.get(R);D?n&&E.push(()=>D.p(v,e)):(D=u(R,v),D.c()),b.set(R,y[p]=D),R in h&&_.set(R,Math.abs(p-h[R]))}const I=new Set,A=new Set;function S(v){Q(v,1),v.m(l,d),i.set(v.key,v),d=v.first,m--}for(;f&&m;){const v=y[m-1],R=r[f-1],D=v.key,k=R.key;v===R?(d=v.first,f--,m--):b.has(k)?!i.has(D)||I.has(D)?S(v):A.has(k)?f--:_.get(D)>_.get(k)?(A.add(D),S(v)):(I.add(k),f--):(a(R,i),f--)}for(;f--;){const v=r[f];b.has(v.key)||a(v,i)}for(;m;)S(y[m-1]);return Xe(E),y}function qt(r,e){const t={},n={},o={$$scope:1};let s=r.length;for(;s--;){const i=r[s],l=e[s];if(l){for(const a in i)a in l||(n[a]=1);for(const a in l)o[a]||(t[a]=l[a],o[a]=1);r[s]=l}else for(const a in i)o[a]=1}for(const i in n)i in t||(t[i]=void 0);return t}function St(r){return typeof r=="object"&&r!==null?r:{}}function Ii(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function Ee(r){r&&r.c()}function _e(r,e,t){const{fragment:n,after_update:o}=r.$$;n&&n.m(e,t),Er(()=>{const s=r.$$.on_mount.map(Kn).filter(Ve);r.$$.on_destroy?r.$$.on_destroy.push(...s):Xe(s),r.$$.on_mount=[]}),o.forEach(Er)}function ve(r,e){const t=r.$$;t.fragment!==null&&(Ai(t.after_update),Xe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ci(r,e){r.$$.dirty[0]===-1&&(mt.push(r),Si(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function qe(r,e,t,n,o,s,i=null,l=[-1]){const a=Nt;Qe(r);const u=r.$$={fragment:null,ctx:[],props:s,update:he,not_equal:o,bound:Nr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Nr(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};i&&i(u.root);let d=!1;if(u.ctx=t?t(r,e.props||{},(c,f,...m)=>{const p=m.length?m[0]:f;return u.ctx&&o(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),d&&Ci(r,c)),f}):[],u.update(),d=!0,Xe(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const c=vi(e.target);u.fragment&&u.fragment.l(c),c.forEach(Y)}else u.fragment&&u.fragment.c();e.intro&&Q(r.$$.fragment),_e(r,e.target,e.anchor),Cr()}Qe(a)}class Me{constructor(){We(this,"$$");We(this,"$$set")}$destroy(){ve(this,1),this.$destroy=he}$on(e,t){if(!Ve(t))return he;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!_r(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ri="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ri);const Pi=function(r,e,t){const n=String(r).split(".");let o=n[0];const s=n.length>1?t+n[1]:"",i=/(\d+)(\d{3})/;for(;i.test(o);)o=o.replace(i,`$1${e}$2`);return o+s},Rr=function(r){const t=Object.assign({},{digitsAfterDecimal:2,scaler:1,thousandsSep:",",decimalSep:".",prefix:"",suffix:""},r);return function(n){if(isNaN(n)||!isFinite(n))return"";const o=Pi((t.scaler*n).toFixed(t.digitsAfterDecimal),t.thousandsSep,t.decimalSep);return`${t.prefix}${o}${t.suffix}`}},Hr=/(\d+)|(\D+)/g,Ht=/\d/,Vr=/^0/,bt=(r=null,e=null,t=!0)=>{if(e!==null&&r===null)return t?-1:1;if(r!==null&&e===null)return t?1:-1;if(typeof r=="number"&&isNaN(r))return-1;if(typeof e=="number"&&isNaN(e))return 1;const n=Number(r),o=Number(e);if(n<o)return-1;if(n>o)return 1;if(typeof r=="number"&&typeof e!="number")return-1;if(typeof e=="number"&&typeof r!="number")return 1;if(typeof r=="number"&&typeof e=="number")return 0;if(isNaN(o)&&!isNaN(n))return-1;if(isNaN(n)&&!isNaN(o))return 1;let s=String(r),i=String(e);if(s===i)return 0;if(!Ht.test(s)||!Ht.test(i))return s>i?1:-1;for(s=s.match(Hr),i=i.match(Hr);s.length&&i.length;){const l=s.shift(),a=i.shift();if(l!==a)return Ht.test(l)&&Ht.test(a)?l.replace(Vr,".0")-a.replace(Vr,".0"):l>a?1:-1}return s.length-i.length},ki=function(r){const e={},t={};for(const n in r){const o=r[n];e[o]=n,typeof o=="string"&&(t[o.toLowerCase()]=n)}return function(n=null,o=null,s=!0){return o!==null&&n===null?s?-1:1:n!==null&&o===null?s?1:-1:n in e&&o in e?e[n]-e[o]:n in e?-1:o in e?1:n in t&&o in t?t[n]-t[o]:n in t?-1:o in t?1:bt(n,o,s)}},Pr=function(r,e){if(r){if(typeof r=="function"){const t=r(e);if(typeof t=="function")return t}else if(e in r)return r[e]}return bt},De=Rr(),It=Rr({digitsAfterDecimal:0}),lt=Rr({digitsAfterDecimal:1,scaler:100,suffix:"%"}),pe={count(r=It){return()=>function(){return{count:0,push(){this.count++},value(){return this.count},format:r}}},uniques(r,e=It){return function([t]){return function(){return{uniq:[],push(n){Array.from(this.uniq).includes(n[t])||this.uniq.push(n[t])},value(){return r(this.uniq)},format:e,numInputs:typeof t<"u"?0:1}}}},sum(r=De){return function([e]){return function(){return{sum:0,push(t){isNaN(parseFloat(t[e]))||(this.sum+=parseFloat(t[e]))},value(){return this.sum},format:r,numInputs:typeof e<"u"?0:1}}}},extremes(r,e=De){return function([t]){return function(n){return{val:null,sorter:Pr(typeof n<"u"?n.sorters:null,t),push(o){let s=o[t];["min","max"].includes(r)&&(s=parseFloat(s),isNaN(s)||(this.val=Math[r](s,this.val!==null?this.val:s))),r==="first"&&this.sorter(s,this.val!==null?this.val:s)<=0&&(this.val=s),r==="last"&&this.sorter(s,this.val!==null?this.val:s)>=0&&(this.val=s)},value(){return this.val},format(o){return isNaN(o)?o:e(o)},numInputs:typeof t<"u"?0:1}}}},quantile(r,e=De){return function([t]){return function(){return{vals:[],push(n){const o=parseFloat(n[t]);isNaN(o)||this.vals.push(o)},value(){if(this.vals.length===0)return null;this.vals.sort((o,s)=>o-s);const n=(this.vals.length-1)*r;return(this.vals[Math.floor(n)]+this.vals[Math.ceil(n)])/2},format:e,numInputs:typeof t<"u"?0:1}}}},runningStat(r="mean",e=1,t=De){return function([n]){return function(){return{n:0,m:0,s:0,push(o){const s=parseFloat(o[n]);if(isNaN(s))return;this.n+=1,this.n===1&&(this.m=s);const i=this.m+(s-this.m)/this.n;this.s=this.s+(s-this.m)*(s-i),this.m=i},value(){if(r==="mean")return this.n===0?0/0:this.m;if(this.n<=e)return 0;switch(r){case"var":return this.s/(this.n-e);case"stdev":return Math.sqrt(this.s/(this.n-e));default:throw new Error("unknown mode for runningStat")}},format:t,numInputs:typeof n<"u"?0:1}}}},sumOverSum(r=De){return function([e,t]){return function(){return{sumNum:0,sumDenom:0,push(n){isNaN(parseFloat(n[e]))||(this.sumNum+=parseFloat(n[e])),isNaN(parseFloat(n[t]))||(this.sumDenom+=parseFloat(n[t]))},value(){return this.sumNum/this.sumDenom},format:r,numInputs:typeof e<"u"&&typeof t<"u"?0:2}}}},fractionOf(r,e="total",t=lt){return(...n)=>function(o,s,i){return{selector:{total:[[],[]],row:[s,[]],col:[[],i]}[e],inner:r(...Array.from(n||[]))(o,s,i),push(l){this.inner.push(l)},format:t,value(){return this.inner.value()/o.getAggregator(...Array.from(this.selector||[])).inner.value()},numInputs:r(...Array.from(n||[]))().numInputs}}}};pe.countUnique=r=>pe.uniques(e=>e.length,r);pe.listUnique=r=>pe.uniques(e=>e.join(r),e=>e);pe.max=r=>pe.extremes("max",r);pe.min=r=>pe.extremes("min",r);pe.first=r=>pe.extremes("first",r);pe.last=r=>pe.extremes("last",r);pe.median=r=>pe.quantile(.5,r);pe.average=r=>pe.runningStat("mean",1,r);pe.var=(r,e)=>pe.runningStat("var",r,e);pe.stdev=(r,e)=>pe.runningStat("stdev",r,e);const Qn=(r=>({Count:r.count(It),"Count Unique Values":r.countUnique(It),"List Unique Values":r.listUnique(", "),Sum:r.sum(De),"Integer Sum":r.sum(It),Average:r.average(De),Median:r.median(De),"Sample Variance":r.var(1,De),"Sample Standard Deviation":r.stdev(1,De),Minimum:r.min(De),Maximum:r.max(De),First:r.first(De),Last:r.last(De),"Sum over Sum":r.sumOverSum(De),"Sum as Fraction of Total":r.fractionOf(r.sum(),"total",lt),"Sum as Fraction of Rows":r.fractionOf(r.sum(),"row",lt),"Sum as Fraction of Columns":r.fractionOf(r.sum(),"col",lt),"Count as Fraction of Total":r.fractionOf(r.count(),"total",lt),"Count as Fraction of Rows":r.fractionOf(r.count(),"row",lt),"Count as Fraction of Columns":r.fractionOf(r.count(),"col",lt)}))(pe),Wr=r=>r.map((e,t)=>r.slice(0,t+1));class Ke{constructor(e={}){this.props=Object.assign({},Ke.defaultProps,e),this.aggregator=this.props.aggregator(this.props.vals),this.tree={},this.rowKeys=[],this.colKeys=[],this.rowTotals={},this.colTotals={},this.allTotal=this.aggregator(this,[],[]),this.sorted=!1,Ke.forEachRecord(this.props.data,this.props.derivedAttributes,t=>{this.filter(t)&&this.processRecord(t)})}filter(e){for(const t in this.props.valueFilter)if(e[t]in this.props.valueFilter[t])return!1;return!0}forEachMatchingRecord(e,t){return Ke.forEachRecord(this.props.data,this.props.derivedAttributes,n=>{if(this.filter(n)){for(const o in e)if(e[o]!==(o in n?n[o]:"null"))return;t(n)}})}arrSort(e,t){let n;const o=(()=>{const s=[];for(n of Array.from(e))s.push(Pr(this.props.sorters,n));return s})();return function(s,i){for(const l of Object.keys(o||{})){const a=o[l],u=a(s[l],i[l],t);if(u!==0)return u}return 0}}sortKeys(){if(!this.sorted){this.sorted=!0;const e=(t,n)=>this.getAggregator(t,n).value();switch(this.props.rowOrder){case"value_a_to_z":this.rowKeys.sort((t,n)=>bt(e(t,[]),e(n,[])));break;case"value_z_to_a":this.rowKeys.sort((t,n)=>-bt(e(t,[]),e(n,[])));break;default:this.rowKeys.sort(this.arrSort(this.props.rows,this.props.rowGroupBefore))}switch(this.props.colOrder){case"value_a_to_z":this.colKeys.sort((t,n)=>bt(e([],t),e([],n)));break;case"value_z_to_a":this.colKeys.sort((t,n)=>-bt(e([],t),e([],n)));break;default:this.colKeys.sort(this.arrSort(this.props.cols,this.props.colGroupBefore))}}}getColKeys(e=!1){return this.sortKeys(),e?this.colKeys:this.colKeys.filter(t=>t.length===this.props.cols.length)}getRowKeys(e=!1){return this.sortKeys(),e?this.rowKeys:this.rowKeys.filter(t=>t.length===this.props.rows.length)}processRecord(e){let t=[],n=[];for(const o of Array.from(this.props.cols))t.push(o in e?e[o]:"null");for(const o of Array.from(this.props.rows))n.push(o in e?e[o]:"null");t=this.props.grouping?Wr(t):[t],n=this.props.grouping?Wr(n):[n],this.allTotal.push(e);for(const o of n){const s=o.join(String.fromCharCode(0));for(const i of t){const l=i.join(String.fromCharCode(0));o.length!==0&&(this.rowTotals[s]||(this.rowKeys.push(o),this.rowTotals[s]=this.aggregator(this,o,[])),this.props.grouping&&i.length!==1||this.rowTotals[s].push(e)),i.length!==0&&(this.colTotals[l]||(this.colKeys.push(i),this.colTotals[l]=this.aggregator(this,[],i)),this.props.grouping&&o.length!==1||this.colTotals[l].push(e)),i.length!==0&&o.length!==0&&(this.tree[s]||(this.tree[s]={}),this.tree[s][l]||(this.tree[s][l]=this.aggregator(this,o,i)),this.tree[s][l].push(e))}}}getAggregator(e,t){let n;const o=e.join(String.fromCharCode(0)),s=t.join(String.fromCharCode(0));return e.length===0&&t.length===0?n=this.allTotal:e.length===0?n=this.colTotals[s]:t.length===0?n=this.rowTotals[o]:n=this.tree[o][s],n||{value(){return null},format(){return""}}}}Ke.forEachRecord=function(r,e,t){let n,o;if(Object.getOwnPropertyNames(e).length===0?n=t:n=function(s){for(const i in e){const l=e[i](s);l!==null&&(s[i]=l)}return t(s)},typeof r=="function")return r(n);if(Array.isArray(r))return Array.isArray(r[0])?(()=>{const s=[];for(const i of Object.keys(r||{})){const l=r[i];if(+i>0){o={};for(const a of Object.keys(r[0]||{})){const u=r[0][a];o[u]=l[a]}s.push(n(o))}}return s})():(()=>{const s=[];for(o of Array.from(r))s.push(n(o));return s})();throw new Error("unknown input format")};Ke.defaultProps={aggregators:Qn,cols:[],rows:[],vals:[],aggregatorName:"Count",sorters:{},valueFilter:{},rowOrder:"key_a_to_z",colOrder:"key_a_to_z",derivedAttributes:{},grouping:!1,rowGroupBefore:!0,colGroupBefore:!1};function Gi(r){let e;return{c(){e=V("textarea"),e.value=r[0],e.readOnly=!0},m(t,n){X(t,e,n),r[7](e)},p(t,[n]){n&1&&(e.value=t[0])},i:he,o:he,d(t){t&&Y(e),r[7](null)}}}function ji(r,e,t){let n,o,s,i,l,a,u;xn(()=>{t(1,u.style.width=u.parentElement.clientWidth+"px",u),t(1,u.style.height=u.parentElement.clientHeight+"px",u)});function d(c){Lt[c?"unshift":"push"](()=>{u=c,t(1,u)})}return r.$$set=c=>{t(8,e=Ne(Ne({},e),jt(c)))},r.$$.update=()=>{{t(2,n=e),t(3,o=new Ke(n)),t(4,s=o.getRowKeys()),t(5,i=o.getColKeys()),s.length===0&&s.push([]),i.length===0&&i.push([]),t(6,l=o.props.rows.map(f=>f)),i.length===1&&i[0].length===0?l.push(n.aggregatorName):i.map(f=>l.push(f.join("-")));const c=s.map(f=>{const m=f.map(p=>p);return i.map(p=>{const h=o.getAggregator(f,p).value();m.push(h||"")}),m});c.unshift(l),t(0,a=c.map(f=>f.join("	")).join(`
`))}},e=jt(e),[a,u,n,o,s,i,l,d]}class Fi extends Me{constructor(e){super(),qe(this,e,ji,Gi,Le,{})}}function zr(r,e,t){const n=r.slice();n[36]=e[t],n[40]=t;const o=n[0].getAggregator([],n[36]);n[37]=o;const s=n[5].length-n[36].length;return n[38]=s,n}function Yr(r,e,t){const n=r.slice();n[41]=e[t],n[40]=t;const o=n[0].getAggregator(n[41],[]);n[37]=o;const s=n[4].length-n[41].length;return n[42]=s,n}function Kr(r,e,t){const n=r.slice();n[36]=e[t],n[46]=t;const o=n[0].getAggregator(n[41],n[36]);n[44]=o;const s=n[5].length-n[36].length;return n[38]=s,n}function Xr(r,e,t){const n=r.slice();n[47]=e[t],n[46]=t;const o=n[1]&&n[4].length>n[46]+1;n[48]=o;const s=n[8]?1:n[16](n[2],n[40],n[46],n[7]);return n[49]=s,n}function xr(r,e,t){const n=r.slice();n[51]=e[t],n[40]=t;const o=n[1]&&n[4].length>n[40]+1;n[48]=o;const s=n[2].filter(function(...l){return r[28](n[40],...l)});return n[52]=s,n}function Jr(r,e,t){const n=r.slice();n[54]=e[t],n[46]=t;const o=n[1]&&n[5].length>n[46]+1;n[48]=o;const s=n[3].filter(function(...l){return r[26](n[46],...l)});return n[52]=s,n}function Zr(r,e,t){const n=r.slice();n[36]=e[t],n[40]=t;const o=n[16](n[3],n[40],n[46]);return n[49]=o,n}function Qr(r){let e,t,n;return{c(){e=V("th"),N(e,"colspan",t=r[4].length),N(e,"rowspan",n=r[5].length)},m(o,s){X(o,e,s)},p(o,s){s[0]&16&&t!==(t=o[4].length)&&N(e,"colspan",t),s[0]&32&&n!==(n=o[5].length)&&N(e,"rowspan",n)},d(o){o&&Y(e)}}}function $r(r){let e,t=(r[36][r[46]]??"")+"",n,o,s,i,l,a;function u(...d){return r[25](r[36],r[46],...d)}return{c(){e=V("th"),n=ne(t),N(e,"class",o="pvtColLabel"+r[15](r[48]&&r[36][r[46]],r[17]([r[36].slice(0,r[46]+1)]))),N(e,"colspan",s=r[49]),N(e,"rowspan",i=r[46]===r[5].length-1&&r[4].length!==0?2:1)},m(d,c){X(d,e,c),F(e,n),l||(a=ue(e,"click",function(){Ve(r[48]&&r[36][r[46]]?u:null)&&(r[48]&&r[36][r[46]]?u:null).apply(this,arguments)}),l=!0)},p(d,c){r=d,c[0]&40&&t!==(t=(r[36][r[46]]??"")+"")&&ye(n,t),c[0]&32810&&o!==(o="pvtColLabel"+r[15](r[48]&&r[36][r[46]],r[17]([r[36].slice(0,r[46]+1)])))&&N(e,"class",o),c[0]&40&&s!==(s=r[49])&&N(e,"colspan",s),c[0]&48&&i!==(i=r[46]===r[5].length-1&&r[4].length!==0?2:1)&&N(e,"rowspan",i)},d(d){d&&Y(e),l=!1,a()}}}function en(r,e){let t,n,o=e[49]!==-1&&$r(e);return{key:r,first:null,c(){t=He(),o&&o.c(),n=He(),this.first=t},m(s,i){X(s,t,i),o&&o.m(s,i),X(s,n,i)},p(s,i){e=s,e[49]!==-1?o?o.p(e,i):(o=$r(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(s){s&&(Y(t),Y(n)),o&&o.d(s)}}}function tn(r){let e,t,n;return{c(){e=V("th"),t=ne("Totals"),N(e,"class","pvtTotalLabel"),N(e,"rowspan",n=r[5].length+(r[4].length===0?0:1))},m(o,s){X(o,e,s),F(e,t)},p(o,s){s[0]&48&&n!==(n=o[5].length+(o[4].length===0?0:1))&&N(e,"rowspan",n)},d(o){o&&Y(e)}}}function rn(r,e){let t,n,o,s=e[54]+"",i,l,a,u=[],d=new Map,c,f,m,p=e[46]===0&&e[4].length!==0&&Qr(e);function h(...E){return e[24](e[52],...E)}let y=de(e[3]);const b=E=>`colKey${E[40]}`;for(let E=0;E<y.length;E+=1){let I=Zr(e,y,E),A=b(I);d.set(A,u[E]=en(A,I))}let _=e[46]===0&&tn(e);return{key:r,first:null,c(){t=V("tr"),p&&p.c(),n=x(),o=V("th"),i=ne(s),a=x();for(let E=0;E<u.length;E+=1)u[E].c();c=x(),_&&_.c(),N(o,"class",l="pvtAxisLabel"+e[15](e[48],e[17](e[52]))),this.first=t},m(E,I){X(E,t,I),p&&p.m(t,null),F(t,n),F(t,o),F(o,i),F(t,a);for(let A=0;A<u.length;A+=1)u[A]&&u[A].m(t,null);F(t,c),_&&_.m(t,null),f||(m=ue(o,"click",function(){Ve(e[48]?h:null)&&(e[48]?h:null).apply(this,arguments)}),f=!0)},p(E,I){e=E,e[46]===0&&e[4].length!==0?p?p.p(e,I):(p=Qr(e),p.c(),p.m(t,n)):p&&(p.d(1),p=null),I[0]&32&&s!==(s=e[54]+"")&&ye(i,s),I[0]&32810&&l!==(l="pvtAxisLabel"+e[15](e[48],e[17](e[52])))&&N(o,"class",l),I[0]&491578&&(y=de(e[3]),u=Ye(u,I,b,1,e,y,d,t,$e,en,c,Zr)),e[46]===0?_?_.p(e,I):(_=tn(e),_.c(),_.m(t,null)):_&&(_.d(1),_=null)},d(E){E&&Y(t),p&&p.d();for(let I=0;I<u.length;I+=1)u[I].d();_&&_.d(),f=!1,m()}}}function nn(r){let e,t=[],n=new Map,o,s,i=r[5].length===0?"Totals":"",l,a=de(r[4]);const u=d=>`rowAttr${d[40]}`;for(let d=0;d<a.length;d+=1){let c=xr(r,a,d),f=u(c);n.set(f,t[d]=on(f,c))}return{c(){e=V("tr");for(let d=0;d<t.length;d+=1)t[d].c();o=x(),s=V("th"),l=ne(i),N(s,"class","pvtTotalLabel")},m(d,c){X(d,e,c);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);F(e,o),F(e,s),F(s,l)},p(d,c){c[0]&426006&&(a=de(d[4]),t=Ye(t,c,u,1,d,a,n,e,$e,on,o,xr)),c[0]&32&&i!==(i=d[5].length===0?"Totals":"")&&ye(l,i)},d(d){d&&Y(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function on(r,e){let t,n=e[51]+"",o,s,i,l;function a(...u){return e[27](e[52],...u)}return{key:r,first:null,c(){t=V("th"),o=ne(n),N(t,"class",s="pvtAxisLabel"+e[15](e[48],e[17](e[52]))),this.first=t},m(u,d){X(u,t,d),F(t,o),i||(l=ue(t,"click",function(){Ve(e[48]?a:null)&&(e[48]?a:null).apply(this,arguments)}),i=!0)},p(u,d){e=u,d[0]&16&&n!==(n=e[51]+"")&&ye(o,n),d[0]&32790&&s!==(s="pvtAxisLabel"+e[15](e[48],e[17](e[52])))&&N(t,"class",s)},d(u){u&&Y(t),i=!1,l()}}}function sn(r){let e,t=r[47]+"",n,o,s,i,l,a;function u(...d){return r[29](r[41],r[46],...d)}return{c(){e=V("th"),n=ne(t),N(e,"class",o="pvtRowLabel"+r[15](r[48]&&r[41][r[46]],r[17]([r[41].slice(0,r[46]+1)]))),N(e,"rowspan",s=r[49]),N(e,"colspan",i=r[8]?r[4].length+1:r[46]===r[4].length-1&&r[5].length!==0?2:1),Oe(e,"padding-left",r[8]?`calc(var(--pvt-row-padding, 5px) + ${r[46]} * var(--pvt-row-indent, 20px))`:null)},m(d,c){X(d,e,c),F(e,n),l||(a=ue(e,"click",function(){Ve(r[48]&&r[41][r[46]]?u:null)&&(r[48]&&r[41][r[46]]?u:null).apply(this,arguments)}),l=!0)},p(d,c){r=d,c[0]&4&&t!==(t=r[47]+"")&&ye(n,t),c[0]&32790&&o!==(o="pvtRowLabel"+r[15](r[48]&&r[41][r[46]],r[17]([r[41].slice(0,r[46]+1)])))&&N(e,"class",o),c[0]&388&&s!==(s=r[49])&&N(e,"rowspan",s),c[0]&308&&i!==(i=r[8]?r[4].length+1:r[46]===r[4].length-1&&r[5].length!==0?2:1)&&N(e,"colspan",i),c[0]&260&&Oe(e,"padding-left",r[8]?`calc(var(--pvt-row-padding, 5px) + ${r[46]} * var(--pvt-row-indent, 20px))`:null)},d(d){d&&Y(e),l=!1,a()}}}function an(r,e){let t,n,o=!(e[8]&&e[46]<e[41].length-1||e[49]===-1)&&sn(e);return{key:r,first:null,c(){t=He(),o&&o.c(),n=He(),this.first=t},m(s,i){X(s,t,i),o&&o.m(s,i),X(s,n,i)},p(s,i){e=s,e[8]&&e[46]<e[41].length-1||e[49]===-1?o&&(o.d(1),o=null):o?o.p(e,i):(o=sn(e),o.c(),o.m(n.parentNode,n))},d(s){s&&(Y(t),Y(n)),o&&o.d(s)}}}function ln(r){let e,t="Total ("+r[41][r[41].length-1]+")",n,o;return{c(){e=V("th"),n=ne(t),N(e,"class","pvtRowLabel"),N(e,"colspan",o=r[42]+1)},m(s,i){X(s,e,i),F(e,n)},p(s,i){i[0]&4&&t!==(t="Total ("+s[41][s[41].length-1]+")")&&ye(n,t),i[0]&20&&o!==(o=s[42]+1)&&N(e,"colspan",o)},d(s){s&&Y(e)}}}function un(r,e){let t,n=e[44].format(e[44].value())+"",o,s,i,l,a,u;return{key:r,first:null,c(){t=V("td"),o=ne(n),s=x(),N(t,"class",i="pvtVal"+(e[38]?" pvtLevel"+e[38]:"")),N(t,"style",l=e[9](e[41],e[36],e[44].value())),this.first=t},m(d,c){X(d,t,c),F(t,o),F(t,s),a||(u=ue(t,"click",function(){Ve(e[12]&&e[12](e[44].value(),e[41],e[36]))&&(e[12]&&e[12](e[44].value(),e[41],e[36])).apply(this,arguments)}),a=!0)},p(d,c){e=d,c[0]&13&&n!==(n=e[44].format(e[44].value())+"")&&ye(o,n),c[0]&40&&i!==(i="pvtVal"+(e[38]?" pvtLevel"+e[38]:""))&&N(t,"class",i),c[0]&525&&l!==(l=e[9](e[41],e[36],e[44].value()))&&N(t,"style",l)},d(d){d&&Y(t),a=!1,u()}}}function cn(r,e){let t,n=[],o=new Map,s,i,l=[],a=new Map,u,d,c=e[37].format(e[37].value())+"",f,m,p,h,y,b=de(e[41]);const _=S=>`rowKeyLabel${S[40]}-${S[46]}`;for(let S=0;S<b.length;S+=1){let v=Xr(e,b,S),R=_(v);o.set(R,n[S]=an(R,v))}let E=!e[8]&&e[42]&&ln(e),I=de(e[3]);const A=S=>`pvtVal${S[40]}-${S[46]}`;for(let S=0;S<I.length;S+=1){let v=Kr(e,I,S),R=A(v);a.set(R,l[S]=un(R,v))}return{key:r,first:null,c(){t=V("tr");for(let S=0;S<n.length;S+=1)n[S].c();s=x(),E&&E.c(),i=x();for(let S=0;S<l.length;S+=1)l[S].c();u=x(),d=V("td"),f=ne(c),N(d,"class","pvtTotal"),N(d,"style",m=e[11](e[37].value())),N(t,"class",p=e[42]?"pvtLevel"+e[42]:"pvtData"),this.first=t},m(S,v){X(S,t,v);for(let R=0;R<n.length;R+=1)n[R]&&n[R].m(t,null);F(t,s),E&&E.m(t,null),F(t,i);for(let R=0;R<l.length;R+=1)l[R]&&l[R].m(t,null);F(t,u),F(t,d),F(d,f),h||(y=ue(d,"click",function(){Ve(e[12]&&e[12](e[37].value(),e[41],[null]))&&(e[12]&&e[12](e[37].value(),e[41],[null])).apply(this,arguments)}),h=!0)},p(S,v){e=S,v[0]&491958&&(b=de(e[41]),n=Ye(n,v,_,1,e,b,o,t,$e,an,s,Xr)),!e[8]&&e[42]?E?E.p(e,v):(E=ln(e),E.c(),E.m(t,i)):E&&(E.d(1),E=null),v[0]&4653&&(I=de(e[3]),l=Ye(l,v,A,1,e,I,a,t,$e,un,u,Kr)),v[0]&5&&c!==(c=e[37].format(e[37].value())+"")&&ye(f,c),v[0]&2053&&m!==(m=e[11](e[37].value()))&&N(d,"style",m),v[0]&20&&p!==(p=e[42]?"pvtLevel"+e[42]:"pvtData")&&N(t,"class",p)},d(S){S&&Y(t);for(let v=0;v<n.length;v+=1)n[v].d();E&&E.d();for(let v=0;v<l.length;v+=1)l[v].d();h=!1,y()}}}function fn(r,e){let t,n=e[37].format(e[37].value())+"",o,s,i,l,a,u;return{key:r,first:null,c(){t=V("td"),o=ne(n),s=x(),N(t,"class",i="pvtTotal"+(e[38]?" pvtLevel"+e[38]:"")),N(t,"style",l=e[10](e[37].value())),this.first=t},m(d,c){X(d,t,c),F(t,o),F(t,s),a||(u=ue(t,"click",function(){Ve(e[12]&&e[12](e[37].value(),[null],e[36]))&&(e[12]&&e[12](e[37].value(),[null],e[36])).apply(this,arguments)}),a=!0)},p(d,c){e=d,c[0]&9&&n!==(n=e[37].format(e[37].value())+"")&&ye(o,n),c[0]&40&&i!==(i="pvtTotal"+(e[38]?" pvtLevel"+e[38]:""))&&N(t,"class",i),c[0]&1033&&l!==(l=e[10](e[37].value()))&&N(t,"style",l)},d(d){d&&Y(t),a=!1,u()}}}function Bi(r){let e,t,n=[],o=new Map,s,i,l,a=[],u=new Map,d,c,f,m,p,h,y=[],b=new Map,_,E,I=r[6].format(r[6].value())+"",A,S,v,R,D=de(r[5]);const k=q=>`colAttr${q[46]}`;for(let q=0;q<D.length;q+=1){let H=Jr(r,D,q),W=k(H);o.set(W,n[q]=rn(W,H))}let j=r[4].length!==0&&nn(r),C=de(r[2]);const g=q=>`rowKeyRow${q[40]}`;for(let q=0;q<C.length;q+=1){let H=Yr(r,C,q),W=g(H);u.set(W,a[q]=cn(W,H))}let w=de(r[3]);const B=q=>`total${q[40]}`;for(let q=0;q<w.length;q+=1){let H=zr(r,w,q),W=B(H);b.set(W,y[q]=fn(W,H))}return{c(){e=V("table"),t=V("thead");for(let q=0;q<n.length;q+=1)n[q].c();s=x(),j&&j.c(),i=x(),l=V("tbody");for(let q=0;q<a.length;q+=1)a[q].c();d=x(),c=V("tr"),f=V("th"),m=ne("Totals"),h=x();for(let q=0;q<y.length;q+=1)y[q].c();_=x(),E=V("td"),A=ne(I),N(f,"class","pvtTotalLabel"),N(f,"colspan",p=r[4].length+(r[5].length===0?0:1)),N(E,"class","pvtGrandTotal"),N(e,"class",S=`pvtTable ${r[13]} ${r[14]}`)},m(q,H){X(q,e,H),F(e,t);for(let W=0;W<n.length;W+=1)n[W]&&n[W].m(t,null);F(t,s),j&&j.m(t,null),F(e,i),F(e,l);for(let W=0;W<a.length;W+=1)a[W]&&a[W].m(l,null);F(l,d),F(l,c),F(c,f),F(f,m),F(c,h);for(let W=0;W<y.length;W+=1)y[W]&&y[W].m(c,null);F(c,_),F(c,E),F(E,A),v||(R=ue(E,"click",function(){Ve(r[12]&&r[12](r[6].value(),[null],[null]))&&(r[12]&&r[12](r[6].value(),[null],[null])).apply(this,arguments)}),v=!0)},p(q,H){r=q,H[0]&491578&&(D=de(r[5]),n=Ye(n,H,k,1,r,D,o,t,$e,rn,s,Jr)),r[4].length!==0?j?j.p(r,H):(j=nn(r),j.c(),j.m(t,null)):j&&(j.d(1),j=null),H[0]&498623&&(C=de(r[2]),a=Ye(a,H,g,1,r,C,u,l,$e,cn,d,Yr)),H[0]&48&&p!==(p=r[4].length+(r[5].length===0?0:1))&&N(f,"colspan",p),H[0]&5161&&(w=de(r[3]),y=Ye(y,H,B,1,r,w,b,c,$e,fn,_,zr)),H[0]&64&&I!==(I=r[6].format(r[6].value())+"")&&ye(A,I),H[0]&24576&&S!==(S=`pvtTable ${r[13]} ${r[14]}`)&&N(e,"class",S)},i:he,o:he,d(q){q&&Y(e);for(let H=0;H<n.length;H+=1)n[H].d();j&&j.d();for(let H=0;H<a.length;H+=1)a[H].d();for(let H=0;H<y.length;H+=1)y[H].d();v=!1,R()}}}function Ni(r){const e=Math.min.apply(Math,r),t=Math.max.apply(Math,r);return n=>{const o=255-Math.round(255*(n-e)/(t-e));return`background-color: rgb(255,${o},${o})`}}function Li(r,e,t){let n,o;const s=["tableColorScaleGenerator","tableOptions","compactRows","opts"];let i=Et(e,s),{tableColorScaleGenerator:l=Ni}=e,{tableOptions:a={}}=e,{compactRows:u=!0}=e,{opts:d={}}=e,c=new Ke(i);const f=function(T,G,L,z=!1){let K;if(G!==0){let M,oe,ce=!0;for(K=0,oe=L,M=oe>=0;M?K<=oe:K>=oe;M?K++:K--)T[G-1][K]!==T[G][K]&&(ce=!1);if(ce)return-1}let ie=0;for(;G+ie<T.length;){let M,oe,ce=!1;for(K=z?L:0,oe=L,M=oe>=0;M?K<=oe:K>=oe;M?K++:K--)T[G][K]!==T[G+ie][K]&&(ce=!0);if(ce)break;ie++}return ie},m=T=>T.join(String.fromCharCode(0)),p=(T,G)=>G.every(T.has,T),h=(T,G)=>G.forEach(T.add,T)||T,y=(T,G)=>G.forEach(T.delete,T)||T,b=(T,G)=>(p(T,G)?y:h)(T,G);let _,E,I,A,S=new Set;const v=T=>p(S,T.map(m)),R=T=>t(23,S=b(new Set(S),T.map(m)));let D,k,j=(T,G,L)=>"",C=(T,G,L)=>"",g=T=>"",w,B,q,H;const W=(T,G)=>R(T),Ie=(T,G,L)=>R([T.slice(0,G+1)]),se=(T,G)=>G.length===T+1,Te=(T,G)=>R(T),P=(T,G)=>G.length===T+1,O=(T,G,L)=>R([T.slice(0,G+1)]);return r.$$set=T=>{e=Ne(Ne({},e),jt(T)),t(35,i=Et(e,s)),"tableColorScaleGenerator"in T&&t(19,l=T.tableColorScaleGenerator),"tableOptions"in T&&t(20,a=T.tableOptions),"compactRows"in T&&t(21,u=T.compactRows),"opts"in T&&t(22,d=T.opts)},r.$$.update=()=>{if(t(0,c=new Ke(i)),r.$$.dirty[0]&1&&t(5,n=c.props.cols),r.$$.dirty[0]&1&&t(4,o=c.props.rows),r.$$.dirty[0]&1&&t(6,_=c.getAggregator([],[])),r.$$.dirty[0]&1&&t(1,E=c.props.grouping),r.$$.dirty[0]&2097154&&t(8,A=E&&u),r.$$.dirty[0]&3&&t(7,I=E&&!c.props.rowGroupBefore),r.$$.dirty[0]&13107215){if(t(2,D=c.getRowKeys(!0)),t(3,k=c.getColKeys(!0)),E)for(const T of S){const G=T+String.fromCharCode(0);t(3,k=k.filter(L=>!m(L).startsWith(G))),t(2,D=D.filter(L=>!m(L).startsWith(G)))}if(d.heatmapMode){const T=l,G=k.map(z=>c.getAggregator([],z).value());t(10,C=T(G));const L=D.map(z=>c.getAggregator(z,[]).value());if(t(11,g=T(L)),d.heatmapMode==="full"){const z=[];D.map(ie=>k.map(M=>z.push(c.getAggregator(ie,M).value())));const K=T(z);t(9,j=(ie,M,oe)=>K(oe))}else if(d.heatmapMode==="row"){const z={};D.map(K=>{const ie=k.map(M=>c.getAggregator(K,M).value());z[K]=T(ie)}),t(9,j=(K,ie,M)=>z[K](M))}else if(d.heatmapMode==="col"){const z={};k.map(K=>{const ie=D.map(M=>c.getAggregator(M,K).value());z[K]=T(ie)}),t(9,j=(K,ie,M)=>z[ie](M))}}}r.$$.dirty[0]&1048625&&t(12,w=a&&a.clickCallback?(T,G,L)=>{const z={};for(const K of Object.keys(n||{})){const ie=n[K];L[K]!==null&&(z[ie]=L[K])}for(const K of Object.keys(o||{})){const ie=o[K];G[K]!==null&&(z[ie]=G[K])}return K=>a.clickCallback(K,T,z,c)}:null),r.$$.dirty[0]&3&&t(13,B=E?c.props.rowGroupBefore?"rowGroupBefore":"rowGroupAfter":""),r.$$.dirty[0]&3&&t(14,q=E?c.props.colGroupBefore?"colGroupBefore":"colGroupAfter":"")},t(15,H=(T,G)=>T?" pvtClickable"+(G?" closed":""):""),[c,E,D,k,o,n,_,I,A,j,C,g,w,B,q,H,f,v,R,l,a,u,d,S,W,Ie,se,Te,P,O]}class Vt extends Me{constructor(e){super(),qe(this,e,Li,Bi,Le,{tableColorScaleGenerator:19,tableOptions:20,compactRows:21,opts:22},null,[-1,-1])}}function lr(r,e={}){return new Proxy(r,{construct(t,[n],o){return n.props={...n.props,...e},Reflect.construct(t,[n],o)}})}function qi(r){function e(t){r&&!r.contains(t.target)&&!t.defaultPrevented&&r.dispatchEvent(new CustomEvent("outside",r))}return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function Mi(r,e){const t=r.querySelector(e);function n(o){o.defaultPrevented||r.dispatchEvent(new CustomEvent("close",t))}return t.addEventListener("click",n,!0),{destroy(){t.removeEventListener("click",n,!0)}}}const $n={Table:Vt,"Table Heatmap":lr(Vt,{opts:{heatmapMode:"full"}}),"Table Col Heatmap":lr(Vt,{opts:{heatmapMode:"col"}}),"Table Row Heatmap":lr(Vt,{opts:{heatmapMode:"row"}}),TsvExport:Fi};function Ui(r){let e,t,n;const o=[r[1]];var s=r[0];function i(l,a){let u={};if(a!==void 0&&a&2)u=qt(o,[St(l[1])]);else for(let d=0;d<o.length;d+=1)u=Ne(u,o[d]);return{props:u}}return s&&(e=Mr(s,i(r))),{c(){e&&Ee(e.$$.fragment),t=He()},m(l,a){e&&_e(e,l,a),X(l,t,a),n=!0},p(l,[a]){if(a&1&&s!==(s=l[0])){if(e){ft();const u=e;ee(u.$$.fragment,1,0,()=>{ve(u,1)}),dt()}s?(e=Mr(s,i(l,a)),Ee(e.$$.fragment),Q(e.$$.fragment,1),_e(e,t.parentNode,t)):e=null}else if(s){const u=a&2?qt(o,[St(l[1])]):{};e.$set(u)}},i(l){n||(e&&Q(e.$$.fragment,l),n=!0)},o(l){e&&ee(e.$$.fragment,l),n=!1},d(l){l&&Y(t),e&&ve(e,l)}}}function Hi(r,e,t){const n=["renderer"];let o=Et(e,n),{renderer:s=$n.Table}=e;return r.$$set=i=>{e=Ne(Ne({},e),jt(i)),t(1,o=Et(e,n)),"renderer"in i&&t(0,s=i.renderer)},[s,o]}class Vi extends Me{constructor(e){super(),qe(this,e,Hi,Ui,Le,{renderer:0})}}function dn(r,e,t){const n=r.slice();return n[7]=e[t],n}function Wi(r){let e;return{c(){e=V("span"),e.textContent=" "},m(t,n){X(t,e,n)},p:he,d(t){t&&Y(e)}}}function zi(r){let e;return{c(){e=ne(r[0])},m(t,n){X(t,e,n)},p(t,n){n&1&&ye(e,t[0])},d(t){t&&Y(e)}}}function hn(r){let e,t=[],n=new Map,o=de(r[1]);const s=i=>i[7];for(let i=0;i<o.length;i+=1){let l=dn(r,o,i),a=s(l);n.set(a,t[i]=pn(a,l))}return{c(){e=V("div");for(let i=0;i<t.length;i+=1)t[i].c();N(e,"class","pvtDropdownMenu"),Oe(e,"z-index","100")},m(i,l){X(i,e,l);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(i,l){l&27&&(o=de(i[1]),t=Ye(t,l,s,1,i,o,n,e,$e,pn,null,dn))},d(i){i&&Y(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function pn(r,e){let t,n=e[7]+"",o,s,i,l;function a(){return e[5](e[7])}return{key:r,first:null,c(){t=V("div"),o=ne(n),s=x(),N(t,"role","button"),N(t,"class","pvtDropdownValue"),qr(t,"pvtDropdownActiveValue",e[7]===e[0]),this.first=t},m(u,d){X(u,t,d),F(t,o),F(t,s),i||(l=ue(t,"click",Bt(a)),i=!0)},p(u,d){e=u,d&2&&n!==(n=e[7]+"")&&ye(o,n),d&3&&qr(t,"pvtDropdownActiveValue",e[7]===e[0])},d(u){u&&Y(t),i=!1,l()}}}function Yi(r){let e,t,n,o=r[2]?"×":"▾",s,i,l,a,u,d;function c(h,y){return h[0]?zi:Wi}let f=c(r),m=f(r),p=r[2]&&hn(r);return{c(){e=V("div"),t=V("button"),n=V("div"),s=ne(o),i=x(),m.c(),a=x(),p&&p.c(),N(n,"class","pvtDropdownIcon"),N(t,"class",l="pvtDropdownValue pvtDropdownCurrent "+(r[2]?"pvtDropdownCurrentOpen":"")),N(e,"class","pvtDropdown")},m(h,y){X(h,e,y),F(e,t),F(t,n),F(n,s),F(t,i),m.m(t,null),F(e,a),p&&p.m(e,null),u||(d=[ue(t,"click",Bt(r[4])),Ft(qi.call(null,e)),ue(e,"outside",r[6])],u=!0)},p(h,[y]){y&4&&o!==(o=h[2]?"×":"▾")&&ye(s,o),f===(f=c(h))&&m?m.p(h,y):(m.d(1),m=f(h),m&&(m.c(),m.m(t,null))),y&4&&l!==(l="pvtDropdownValue pvtDropdownCurrent "+(h[2]?"pvtDropdownCurrentOpen":""))&&N(t,"class",l),h[2]?p?p.p(h,y):(p=hn(h),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i:he,o:he,d(h){h&&Y(e),m.d(),p&&p.d(),u=!1,Xe(d)}}}function Ki(r,e,t){const n=Ir();let{current:o,values:s=[]}=e,i=!1;const l=()=>t(2,i=!i),a=d=>{o!==d&&n("change",t(0,o=d)),l()},u=()=>t(2,i=!1);return r.$$set=d=>{"current"in d&&t(0,o=d.current),"values"in d&&t(1,s=d.values)},[o,s,i,n,l,a,u]}class kr extends Me{constructor(e){super(),qe(this,e,Ki,Yi,Le,{current:0,values:1})}}function gn(r,e,t){const n=r.slice();return n[11]=e[t],n[13]=t,n}function mn(r){let e;return{c(){e=V("br")},m(t,n){X(t,e,n)},d(t){t&&Y(e)}}}function yn(r){let e;return{c(){e=V("br")},m(t,n){X(t,e,n)},d(t){t&&Y(e)}}}function bn(r,e){let t,n,o,s,i;function l(...u){return e[9](e[13],...u)}n=new kr({props:{current:e[5][e[13]],values:e[4]}}),n.$on("change",l);let a=e[13]+1!==e[6]&&yn();return{key:r,first:null,c(){t=He(),Ee(n.$$.fragment),o=x(),a&&a.c(),s=He(),this.first=t},m(u,d){X(u,t,d),_e(n,u,d),X(u,o,d),a&&a.m(u,d),X(u,s,d),i=!0},p(u,d){e=u;const c={};d&96&&(c.current=e[5][e[13]]),d&16&&(c.values=e[4]),n.$set(c),e[13]+1!==e[6]?a||(a=yn(),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},i(u){i||(Q(n.$$.fragment,u),i=!0)},o(u){ee(n.$$.fragment,u),i=!1},d(u){u&&(Y(t),Y(o),Y(s)),ve(n,u),a&&a.d(u)}}}function Xi(r){let e,t,n,o=[],s=new Map,i,l;e=new kr({props:{current:r[2],values:Object.keys(r[3])}}),e.$on("change",r[8]);let a=r[6]>0&&mn(),u=de(new Array(r[6]).fill());const d=c=>c[13];for(let c=0;c<u.length;c+=1){let f=gn(r,u,c),m=d(f);s.set(m,o[c]=bn(m,f))}return{c(){Ee(e.$$.fragment),t=x(),a&&a.c(),n=x();for(let c=0;c<o.length;c+=1)o[c].c();i=He()},m(c,f){_e(e,c,f),X(c,t,f),a&&a.m(c,f),X(c,n,f);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(c,f);X(c,i,f),l=!0},p(c,[f]){const m={};f&4&&(m.current=c[2]),f&8&&(m.values=Object.keys(c[3])),e.$set(m),c[6]>0?a||(a=mn(),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),f&242&&(u=de(new Array(c[6]).fill()),ft(),o=Ye(o,f,d,1,c,u,s,i.parentNode,Zn,bn,i,gn),dt())},i(c){if(!l){Q(e.$$.fragment,c);for(let f=0;f<u.length;f+=1)Q(o[f]);l=!0}},o(c){ee(e.$$.fragment,c);for(let f=0;f<o.length;f+=1)ee(o[f]);l=!1},d(c){c&&(Y(t),Y(n),Y(i)),ve(e,c),a&&a.d(c);for(let f=0;f<o.length;f+=1)o[f].d(c)}}}function xi(r,e,t){let{onChange:n,onUpdate:o}=e,{aggregatorName:s}=e,{aggregators:i}=e,{valAttrs:l}=e,{vals:a}=e,u;const d=(m,p,h)=>Object.assign([],m,{[p]:h}),c=m=>n(m.detail),f=(m,p)=>o(d(a,m,p.detail));return r.$$set=m=>{"onChange"in m&&t(0,n=m.onChange),"onUpdate"in m&&t(1,o=m.onUpdate),"aggregatorName"in m&&t(2,s=m.aggregatorName),"aggregators"in m&&t(3,i=m.aggregators),"valAttrs"in m&&t(4,l=m.valAttrs),"vals"in m&&t(5,a=m.vals)},r.$$.update=()=>{r.$$.dirty&12&&t(6,u=i[s]([])().numInputs||0)},[n,o,s,i,l,a,u,d,c,f]}class Ji extends Me{constructor(e){super(),qe(this,e,xi,Xi,Le,{onChange:0,onUpdate:1,aggregatorName:2,aggregators:3,valAttrs:4,vals:5})}}/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function _n(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function Ze(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_n(Object(t),!0).forEach(function(n){Zi(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_n(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function xt(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xt=function(e){return typeof e}:xt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(r)}function Zi(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function tt(){return tt=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},tt.apply(this,arguments)}function Qi(r,e){if(r==null)return{};var t={},n=Object.keys(r),o,s;for(s=0;s<n.length;s++)o=n[s],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function $i(r,e){if(r==null)return{};var t=Qi(r,e),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(o=0;o<s.length;o++)n=s[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}var eo="1.15.0";function et(r){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(r)}var rt=et(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Mt=et(/Edge/i),vn=et(/firefox/i),Ct=et(/safari/i)&&!et(/chrome/i)&&!et(/android/i),ei=et(/iP(ad|od|hone)/i),ti=et(/chrome/i)&&et(/android/i),ri={capture:!1,passive:!1};function re(r,e,t){r.addEventListener(e,t,!rt&&ri)}function te(r,e,t){r.removeEventListener(e,t,!rt&&ri)}function er(r,e){if(e){if(e[0]===">"&&(e=e.substring(1)),r)try{if(r.matches)return r.matches(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e)}catch{return!1}return!1}}function to(r){return r.host&&r!==document&&r.host.nodeType?r.host:r.parentNode}function xe(r,e,t,n){if(r){t=t||document;do{if(e!=null&&(e[0]===">"?r.parentNode===t&&er(r,e):er(r,e))||n&&r===t)return r;if(r===t)break}while(r=to(r))}return null}var wn=/\s+/g;function je(r,e,t){if(r&&e)if(r.classList)r.classList[t?"add":"remove"](e);else{var n=(" "+r.className+" ").replace(wn," ").replace(" "+e+" "," ");r.className=(n+(t?" "+e:"")).replace(wn," ")}}function J(r,e,t){var n=r&&r.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(r,""):r.currentStyle&&(t=r.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function wt(r,e){var t="";if(typeof r=="string")t=r;else do{var n=J(r,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(r=r.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function ni(r,e,t){if(r){var n=r.getElementsByTagName(e),o=0,s=n.length;if(t)for(;o<s;o++)t(n[o],o);return n}return[]}function Je(){var r=document.scrollingElement;return r||document.documentElement}function be(r,e,t,n,o){if(!(!r.getBoundingClientRect&&r!==window)){var s,i,l,a,u,d,c;if(r!==window&&r.parentNode&&r!==Je()?(s=r.getBoundingClientRect(),i=s.top,l=s.left,a=s.bottom,u=s.right,d=s.height,c=s.width):(i=0,l=0,a=window.innerHeight,u=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(e||t)&&r!==window&&(o=o||r.parentNode,!rt))do if(o&&o.getBoundingClientRect&&(J(o,"transform")!=="none"||t&&J(o,"position")!=="static")){var f=o.getBoundingClientRect();i-=f.top+parseInt(J(o,"border-top-width")),l-=f.left+parseInt(J(o,"border-left-width")),a=i+s.height,u=l+s.width;break}while(o=o.parentNode);if(n&&r!==window){var m=wt(o||r),p=m&&m.a,h=m&&m.d;m&&(i/=h,l/=p,c/=p,d/=h,a=i+d,u=l+c)}return{top:i,left:l,bottom:a,right:u,width:c,height:d}}}function En(r,e,t){for(var n=ot(r,!0),o=be(r)[e];n;){var s=be(n)[t],i=void 0;if(t==="top"||t==="left"?i=o>=s:i=o<=s,!i)return n;if(n===Je())break;n=ot(n,!1)}return!1}function Ot(r,e,t,n){for(var o=0,s=0,i=r.children;s<i.length;){if(i[s].style.display!=="none"&&i[s]!==Z.ghost&&(n||i[s]!==Z.dragged)&&xe(i[s],t.draggable,r,!1)){if(o===e)return i[s];o++}s++}return null}function Gr(r,e){for(var t=r.lastElementChild;t&&(t===Z.ghost||J(t,"display")==="none"||e&&!er(t,e));)t=t.previousElementSibling;return t||null}function Ue(r,e){var t=0;if(!r||!r.parentNode)return-1;for(;r=r.previousElementSibling;)r.nodeName.toUpperCase()!=="TEMPLATE"&&r!==Z.clone&&(!e||er(r,e))&&t++;return t}function Sn(r){var e=0,t=0,n=Je();if(r)do{var o=wt(r),s=o.a,i=o.d;e+=r.scrollLeft*s,t+=r.scrollTop*i}while(r!==n&&(r=r.parentNode));return[e,t]}function ro(r,e){for(var t in r)if(r.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===r[t][n])return Number(t)}return-1}function ot(r,e){if(!r||!r.getBoundingClientRect)return Je();var t=r,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=J(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Je();if(n||e)return t;n=!0}}while(t=t.parentNode);return Je()}function no(r,e){if(r&&e)for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function ur(r,e){return Math.round(r.top)===Math.round(e.top)&&Math.round(r.left)===Math.round(e.left)&&Math.round(r.height)===Math.round(e.height)&&Math.round(r.width)===Math.round(e.width)}var Rt;function ii(r,e){return function(){if(!Rt){var t=arguments,n=this;t.length===1?r.call(n,t[0]):r.apply(n,t),Rt=setTimeout(function(){Rt=void 0},e)}}}function io(){clearTimeout(Rt),Rt=void 0}function oi(r,e,t){r.scrollLeft+=e,r.scrollTop+=t}function si(r){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(r).cloneNode(!0):t?t(r).clone(!0)[0]:r.cloneNode(!0)}var Be="Sortable"+new Date().getTime();function oo(){var r=[],e;return{captureAnimationState:function(){if(r=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(o){if(!(J(o,"display")==="none"||o===Z.ghost)){r.push({target:o,rect:be(o)});var s=Ze({},r[r.length-1].rect);if(o.thisAnimationDuration){var i=wt(o,!0);i&&(s.top-=i.f,s.left-=i.e)}o.fromRect=s}})}},addAnimationState:function(n){r.push(n)},removeAnimationState:function(n){r.splice(ro(r,{target:n}),1)},animateAll:function(n){var o=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var s=!1,i=0;r.forEach(function(l){var a=0,u=l.target,d=u.fromRect,c=be(u),f=u.prevFromRect,m=u.prevToRect,p=l.rect,h=wt(u,!0);h&&(c.top-=h.f,c.left-=h.e),u.toRect=c,u.thisAnimationDuration&&ur(f,c)&&!ur(d,c)&&(p.top-c.top)/(p.left-c.left)===(d.top-c.top)/(d.left-c.left)&&(a=ao(p,f,m,o.options)),ur(c,d)||(u.prevFromRect=d,u.prevToRect=c,a||(a=o.options.animation),o.animate(u,p,c,a)),a&&(s=!0,i=Math.max(i,a),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},a),u.thisAnimationDuration=a)}),clearTimeout(e),s?e=setTimeout(function(){typeof n=="function"&&n()},i):typeof n=="function"&&n(),r=[]},animate:function(n,o,s,i){if(i){J(n,"transition",""),J(n,"transform","");var l=wt(this.el),a=l&&l.a,u=l&&l.d,d=(o.left-s.left)/(a||1),c=(o.top-s.top)/(u||1);n.animatingX=!!d,n.animatingY=!!c,J(n,"transform","translate3d("+d+"px,"+c+"px,0)"),this.forRepaintDummy=so(n),J(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),J(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){J(n,"transition",""),J(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},i)}}}}function so(r){return r.offsetWidth}function ao(r,e,t,n){return Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var pt=[],cr={initializeByDefault:!0},Ut={mount:function(e){for(var t in cr)cr.hasOwnProperty(t)&&!(t in e)&&(e[t]=cr[t]);pt.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),pt.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var s=e+"Global";pt.forEach(function(i){t[i.pluginName]&&(t[i.pluginName][s]&&t[i.pluginName][s](Ze({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](Ze({sortable:t},n)))})},initializePlugins:function(e,t,n,o){pt.forEach(function(l){var a=l.pluginName;if(!(!e.options[a]&&!l.initializeByDefault)){var u=new l(e,t,e.options);u.sortable=e,u.options=e.options,e[a]=u,tt(n,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var i=this.modifyOption(e,s,e.options[s]);typeof i<"u"&&(e.options[s]=i)}},getEventProperties:function(e,t){var n={};return pt.forEach(function(o){typeof o.eventProperties=="function"&&tt(n,o.eventProperties.call(t[o.pluginName],e))}),n},modifyOption:function(e,t,n){var o;return pt.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[t]=="function"&&(o=s.optionListeners[t].call(e[s.pluginName],n))}),o}};function lo(r){var e=r.sortable,t=r.rootEl,n=r.name,o=r.targetEl,s=r.cloneEl,i=r.toEl,l=r.fromEl,a=r.oldIndex,u=r.newIndex,d=r.oldDraggableIndex,c=r.newDraggableIndex,f=r.originalEvent,m=r.putSortable,p=r.extraEventProperties;if(e=e||t&&t[Be],!!e){var h,y=e.options,b="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!rt&&!Mt?h=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent(n,!0,!0)),h.to=i||t,h.from=l||t,h.item=o||t,h.clone=s,h.oldIndex=a,h.newIndex=u,h.oldDraggableIndex=d,h.newDraggableIndex=c,h.originalEvent=f,h.pullMode=m?m.lastPutMode:void 0;var _=Ze(Ze({},p),Ut.getEventProperties(n,e));for(var E in _)h[E]=_[E];t&&t.dispatchEvent(h),y[b]&&y[b].call(e,h)}}var uo=["evt"],Ce=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.evt,s=$i(n,uo);Ut.pluginEvent.bind(Z)(e,t,Ze({dragEl:U,parentEl:fe,ghostEl:$,rootEl:ae,nextEl:ut,lastDownEl:Jt,cloneEl:le,cloneHidden:it,dragStarted:Tt,putSortable:we,activeSortable:Z.active,originalEvent:o,oldIndex:_t,oldDraggableIndex:Pt,newIndex:Fe,newDraggableIndex:nt,hideGhostForTarget:ci,unhideGhostForTarget:fi,cloneNowHidden:function(){it=!0},cloneNowShown:function(){it=!1},dispatchSortableEvent:function(l){Ae({sortable:t,name:l,originalEvent:o})}},s))};function Ae(r){lo(Ze({putSortable:we,cloneEl:le,targetEl:U,rootEl:ae,oldIndex:_t,oldDraggableIndex:Pt,newIndex:Fe,newDraggableIndex:nt},r))}var U,fe,$,ae,ut,Jt,le,it,_t,Fe,Pt,nt,Wt,we,yt=!1,tr=!1,rr=[],st,ze,fr,dr,On,Tn,Tt,gt,kt,Gt=!1,zt=!1,Zt,Se,hr=[],Sr=!1,nr=[],or=typeof document<"u",Yt=ei,An=Mt||rt?"cssFloat":"float",co=or&&!ti&&!ei&&"draggable"in document.createElement("div"),ai=function(){if(or){if(rt)return!1;var r=document.createElement("x");return r.style.cssText="pointer-events:auto",r.style.pointerEvents==="auto"}}(),li=function(e,t){var n=J(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),s=Ot(e,0,t),i=Ot(e,1,t),l=s&&J(s),a=i&&J(i),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+be(s).width,d=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+be(i).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&l.float&&l.float!=="none"){var c=l.float==="left"?"left":"right";return i&&(a.clear==="both"||a.clear===c)?"vertical":"horizontal"}return s&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=o&&n[An]==="none"||i&&n[An]==="none"&&u+d>o)?"vertical":"horizontal"},fo=function(e,t,n){var o=n?e.left:e.top,s=n?e.right:e.bottom,i=n?e.width:e.height,l=n?t.left:t.top,a=n?t.right:t.bottom,u=n?t.width:t.height;return o===l||s===a||o+i/2===l+u/2},ho=function(e,t){var n;return rr.some(function(o){var s=o[Be].options.emptyInsertThreshold;if(!(!s||Gr(o))){var i=be(o),l=e>=i.left-s&&e<=i.right+s,a=t>=i.top-s&&t<=i.bottom+s;if(l&&a)return n=o}}),n},ui=function(e){function t(s,i){return function(l,a,u,d){var c=l.options.group.name&&a.options.group.name&&l.options.group.name===a.options.group.name;if(s==null&&(i||c))return!0;if(s==null||s===!1)return!1;if(i&&s==="clone")return s;if(typeof s=="function")return t(s(l,a,u,d),i)(l,a,u,d);var f=(i?l:a).options.group.name;return s===!0||typeof s=="string"&&s===f||s.join&&s.indexOf(f)>-1}}var n={},o=e.group;(!o||xt(o)!="object")&&(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},ci=function(){!ai&&$&&J($,"display","none")},fi=function(){!ai&&$&&J($,"display","")};or&&!ti&&document.addEventListener("click",function(r){if(tr)return r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.stopImmediatePropagation&&r.stopImmediatePropagation(),tr=!1,!1},!0);var at=function(e){if(U){e=e.touches?e.touches[0]:e;var t=ho(e.clientX,e.clientY);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Be]._onDragOver(n)}}},po=function(e){U&&U.parentNode[Be]._isOutsideThisEl(e.target)};function Z(r,e){if(!(r&&r.nodeType&&r.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(r));this.el=r,this.options=e=tt({},e),r[Be]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(r.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return li(r,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,l){i.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Z.supportPointer!==!1&&"PointerEvent"in window&&!Ct,emptyInsertThreshold:5};Ut.initializePlugins(this,r,t);for(var n in t)!(n in e)&&(e[n]=t[n]);ui(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:co,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?re(r,"pointerdown",this._onTapStart):(re(r,"mousedown",this._onTapStart),re(r,"touchstart",this._onTapStart)),this.nativeDraggable&&(re(r,"dragover",this),re(r,"dragenter",this)),rr.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),tt(this,oo())}Z.prototype={constructor:Z,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(gt=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,U):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,s=o.preventOnFilter,i=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,a=(l||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,d=o.filter;if(Eo(n),!U&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||o.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Ct&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=xe(a,o.draggable,n,!1),!(a&&a.animated)&&Jt!==a)){if(_t=Ue(a),Pt=Ue(a,o.draggable),typeof d=="function"){if(d.call(this,e,a,this)){Ae({sortable:t,rootEl:u,name:"filter",targetEl:a,toEl:n,fromEl:n}),Ce("filter",t,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(c){if(c=xe(u,c.trim(),n,!1),c)return Ae({sortable:t,rootEl:c,name:"filter",targetEl:a,fromEl:n,toEl:n}),Ce("filter",t,{evt:e}),!0}),d)){s&&e.cancelable&&e.preventDefault();return}o.handle&&!xe(u,o.handle,n,!1)||this._prepareDragStart(e,l,a)}}},_prepareDragStart:function(e,t,n){var o=this,s=o.el,i=o.options,l=s.ownerDocument,a;if(n&&!U&&n.parentNode===s){var u=be(n);if(ae=s,U=n,fe=U.parentNode,ut=U.nextSibling,Jt=n,Wt=i.group,Z.dragged=U,st={target:U,clientX:(t||e).clientX,clientY:(t||e).clientY},On=st.clientX-u.left,Tn=st.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,U.style["will-change"]="all",a=function(){if(Ce("delayEnded",o,{evt:e}),Z.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!vn&&o.nativeDraggable&&(U.draggable=!0),o._triggerDragStart(e,t),Ae({sortable:o,name:"choose",originalEvent:e}),je(U,i.chosenClass,!0)},i.ignore.split(",").forEach(function(d){ni(U,d.trim(),pr)}),re(l,"dragover",at),re(l,"mousemove",at),re(l,"touchmove",at),re(l,"mouseup",o._onDrop),re(l,"touchend",o._onDrop),re(l,"touchcancel",o._onDrop),vn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,U.draggable=!0),Ce("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Mt||rt))){if(Z.eventCanceled){this._onDrop();return}re(l,"mouseup",o._disableDelayedDrag),re(l,"touchend",o._disableDelayedDrag),re(l,"touchcancel",o._disableDelayedDrag),re(l,"mousemove",o._delayedDragTouchMoveHandler),re(l,"touchmove",o._delayedDragTouchMoveHandler),i.supportPointer&&re(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(a,i.delay)}else a()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){U&&pr(U),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;te(e,"mouseup",this._disableDelayedDrag),te(e,"touchend",this._disableDelayedDrag),te(e,"touchcancel",this._disableDelayedDrag),te(e,"mousemove",this._delayedDragTouchMoveHandler),te(e,"touchmove",this._delayedDragTouchMoveHandler),te(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?re(document,"pointermove",this._onTouchMove):t?re(document,"touchmove",this._onTouchMove):re(document,"mousemove",this._onTouchMove):(re(U,"dragend",this),re(ae,"dragstart",this._onDragStart));try{document.selection?Qt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(yt=!1,ae&&U){Ce("dragStarted",this,{evt:t}),this.nativeDraggable&&re(document,"dragover",po);var n=this.options;!e&&je(U,n.dragClass,!1),je(U,n.ghostClass,!0),Z.active=this,e&&this._appendGhost(),Ae({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ze){this._lastX=ze.clientX,this._lastY=ze.clientY,ci();for(var e=document.elementFromPoint(ze.clientX,ze.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ze.clientX,ze.clientY),e!==t);)t=e;if(U.parentNode[Be]._isOutsideThisEl(e),t)do{if(t[Be]){var n=void 0;if(n=t[Be]._onDragOver({clientX:ze.clientX,clientY:ze.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);fi()}},_onTouchMove:function(e){if(st){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,s=e.touches?e.touches[0]:e,i=$&&wt($,!0),l=$&&i&&i.a,a=$&&i&&i.d,u=Yt&&Se&&Sn(Se),d=(s.clientX-st.clientX+o.x)/(l||1)+(u?u[0]-hr[0]:0)/(l||1),c=(s.clientY-st.clientY+o.y)/(a||1)+(u?u[1]-hr[1]:0)/(a||1);if(!Z.active&&!yt){if(n&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if($){i?(i.e+=d-(fr||0),i.f+=c-(dr||0)):i={a:1,b:0,c:0,d:1,e:d,f:c};var f="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");J($,"webkitTransform",f),J($,"mozTransform",f),J($,"msTransform",f),J($,"transform",f),fr=d,dr=c,ze=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!$){var e=this.options.fallbackOnBody?document.body:ae,t=be(U,!0,Yt,!0,e),n=this.options;if(Yt){for(Se=e;J(Se,"position")==="static"&&J(Se,"transform")==="none"&&Se!==document;)Se=Se.parentNode;Se!==document.body&&Se!==document.documentElement?(Se===document&&(Se=Je()),t.top+=Se.scrollTop,t.left+=Se.scrollLeft):Se=Je(),hr=Sn(Se)}$=U.cloneNode(!0),je($,n.ghostClass,!1),je($,n.fallbackClass,!0),je($,n.dragClass,!0),J($,"transition",""),J($,"transform",""),J($,"box-sizing","border-box"),J($,"margin",0),J($,"top",t.top),J($,"left",t.left),J($,"width",t.width),J($,"height",t.height),J($,"opacity","0.8"),J($,"position",Yt?"absolute":"fixed"),J($,"zIndex","100000"),J($,"pointerEvents","none"),Z.ghost=$,e.appendChild($),J($,"transform-origin",On/parseInt($.style.width)*100+"% "+Tn/parseInt($.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,s=n.options;if(Ce("dragStart",this,{evt:e}),Z.eventCanceled){this._onDrop();return}Ce("setupClone",this),Z.eventCanceled||(le=si(U),le.removeAttribute("id"),le.draggable=!1,le.style["will-change"]="",this._hideClone(),je(le,this.options.chosenClass,!1),Z.clone=le),n.cloneId=Qt(function(){Ce("clone",n),!Z.eventCanceled&&(n.options.removeCloneOnHide||ae.insertBefore(le,U),n._hideClone(),Ae({sortable:n,name:"clone"}))}),!t&&je(U,s.dragClass,!0),t?(tr=!0,n._loopId=setInterval(n._emulateDragOver,50)):(te(document,"mouseup",n._onDrop),te(document,"touchend",n._onDrop),te(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",s.setData&&s.setData.call(n,o,U)),re(document,"drop",n),J(U,"transform","translateZ(0)")),yt=!0,n._dragStartId=Qt(n._dragStarted.bind(n,t,e)),re(document,"selectstart",n),Tt=!0,Ct&&J(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,o,s,i,l=this.options,a=l.group,u=Z.active,d=Wt===a,c=l.sort,f=we||u,m,p=this,h=!1;if(Sr)return;function y(W,Ie){Ce(W,p,Ze({evt:e,isOwner:d,axis:m?"vertical":"horizontal",revert:i,dragRect:o,targetRect:s,canSort:c,fromSortable:f,target:n,completed:_,onMove:function(Te,P){return Kt(ae,t,U,o,Te,be(Te),e,P)},changed:E},Ie))}function b(){y("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function _(W){return y("dragOverCompleted",{insertion:W}),W&&(d?u._hideClone():u._showClone(p),p!==f&&(je(U,we?we.options.ghostClass:u.options.ghostClass,!1),je(U,l.ghostClass,!0)),we!==p&&p!==Z.active?we=p:p===Z.active&&we&&(we=null),f===p&&(p._ignoreWhileAnimating=n),p.animateAll(function(){y("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(n===U&&!U.animated||n===t&&!n.animated)&&(gt=null),!l.dragoverBubble&&!e.rootEl&&n!==document&&(U.parentNode[Be]._isOutsideThisEl(e.target),!W&&at(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),h=!0}function E(){Fe=Ue(U),nt=Ue(U,l.draggable),Ae({sortable:p,name:"change",toEl:t,newIndex:Fe,newDraggableIndex:nt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=xe(n,l.draggable,t,!0),y("dragOver"),Z.eventCanceled)return h;if(U.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||p._ignoreWhileAnimating===n)return _(!1);if(tr=!1,u&&!l.disabled&&(d?c||(i=fe!==ae):we===this||(this.lastPutMode=Wt.checkPull(this,u,U,e))&&a.checkPut(this,u,U,e))){if(m=this._getDirection(e,n)==="vertical",o=be(U),y("dragOverValid"),Z.eventCanceled)return h;if(i)return fe=ae,b(),this._hideClone(),y("revert"),Z.eventCanceled||(ut?ae.insertBefore(U,ut):ae.appendChild(U)),_(!0);var I=Gr(t,l.draggable);if(!I||bo(e,m,this)&&!I.animated){if(I===U)return _(!1);if(I&&t===e.target&&(n=I),n&&(s=be(n)),Kt(ae,t,U,o,n,s,e,!!n)!==!1)return b(),I&&I.nextSibling?t.insertBefore(U,I.nextSibling):t.appendChild(U),fe=t,E(),_(!0)}else if(I&&yo(e,m,this)){var A=Ot(t,0,l,!0);if(A===U)return _(!1);if(n=A,s=be(n),Kt(ae,t,U,o,n,s,e,!1)!==!1)return b(),t.insertBefore(U,A),fe=t,E(),_(!0)}else if(n.parentNode===t){s=be(n);var S=0,v,R=U.parentNode!==t,D=!fo(U.animated&&U.toRect||o,n.animated&&n.toRect||s,m),k=m?"top":"left",j=En(n,"top","top")||En(U,"top","top"),C=j?j.scrollTop:void 0;gt!==n&&(v=s[k],Gt=!1,zt=!D&&l.invertSwap||R),S=_o(e,n,s,m,D?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,zt,gt===n);var g;if(S!==0){var w=Ue(U);do w-=S,g=fe.children[w];while(g&&(J(g,"display")==="none"||g===$))}if(S===0||g===n)return _(!1);gt=n,kt=S;var B=n.nextElementSibling,q=!1;q=S===1;var H=Kt(ae,t,U,o,n,s,e,q);if(H!==!1)return(H===1||H===-1)&&(q=H===1),Sr=!0,setTimeout(mo,30),b(),q&&!B?t.appendChild(U):n.parentNode.insertBefore(U,q?B:n),j&&oi(j,0,C-j.scrollTop),fe=U.parentNode,v!==void 0&&!zt&&(Zt=Math.abs(v-be(n)[k])),E(),_(!0)}if(t.contains(U))return _(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){te(document,"mousemove",this._onTouchMove),te(document,"touchmove",this._onTouchMove),te(document,"pointermove",this._onTouchMove),te(document,"dragover",at),te(document,"mousemove",at),te(document,"touchmove",at)},_offUpEvents:function(){var e=this.el.ownerDocument;te(e,"mouseup",this._onDrop),te(e,"touchend",this._onDrop),te(e,"pointerup",this._onDrop),te(e,"touchcancel",this._onDrop),te(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(Fe=Ue(U),nt=Ue(U,n.draggable),Ce("drop",this,{evt:e}),fe=U&&U.parentNode,Fe=Ue(U),nt=Ue(U,n.draggable),Z.eventCanceled){this._nulling();return}yt=!1,zt=!1,Gt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Or(this.cloneId),Or(this._dragStartId),this.nativeDraggable&&(te(document,"drop",this),te(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ct&&J(document.body,"user-select",""),J(U,"transform",""),e&&(Tt&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),$&&$.parentNode&&$.parentNode.removeChild($),(ae===fe||we&&we.lastPutMode!=="clone")&&le&&le.parentNode&&le.parentNode.removeChild(le),U&&(this.nativeDraggable&&te(U,"dragend",this),pr(U),U.style["will-change"]="",Tt&&!yt&&je(U,we?we.options.ghostClass:this.options.ghostClass,!1),je(U,this.options.chosenClass,!1),Ae({sortable:this,name:"unchoose",toEl:fe,newIndex:null,newDraggableIndex:null,originalEvent:e}),ae!==fe?(Fe>=0&&(Ae({rootEl:fe,name:"add",toEl:fe,fromEl:ae,originalEvent:e}),Ae({sortable:this,name:"remove",toEl:fe,originalEvent:e}),Ae({rootEl:fe,name:"sort",toEl:fe,fromEl:ae,originalEvent:e}),Ae({sortable:this,name:"sort",toEl:fe,originalEvent:e})),we&&we.save()):Fe!==_t&&Fe>=0&&(Ae({sortable:this,name:"update",toEl:fe,originalEvent:e}),Ae({sortable:this,name:"sort",toEl:fe,originalEvent:e})),Z.active&&((Fe==null||Fe===-1)&&(Fe=_t,nt=Pt),Ae({sortable:this,name:"end",toEl:fe,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ce("nulling",this),ae=U=fe=$=ut=le=Jt=it=st=ze=Tt=Fe=nt=_t=Pt=gt=kt=we=Wt=Z.dragged=Z.ghost=Z.clone=Z.active=null,nr.forEach(function(e){e.checked=!0}),nr.length=fr=dr=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":U&&(this._onDragOver(e),go(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,o=0,s=n.length,i=this.options;o<s;o++)t=n[o],xe(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||wo(t));return e},sort:function(e,t){var n={},o=this.el;this.toArray().forEach(function(s,i){var l=o.children[i];xe(l,this.options.draggable,o,!1)&&(n[s]=l)},this),t&&this.captureAnimationState(),e.forEach(function(s){n[s]&&(o.removeChild(n[s]),o.appendChild(n[s]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return xe(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var o=Ut.modifyOption(this,e,t);typeof o<"u"?n[e]=o:n[e]=t,e==="group"&&ui(n)},destroy:function(){Ce("destroy",this);var e=this.el;e[Be]=null,te(e,"mousedown",this._onTapStart),te(e,"touchstart",this._onTapStart),te(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(te(e,"dragover",this),te(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),rr.splice(rr.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!it){if(Ce("hideClone",this),Z.eventCanceled)return;J(le,"display","none"),this.options.removeCloneOnHide&&le.parentNode&&le.parentNode.removeChild(le),it=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(it){if(Ce("showClone",this),Z.eventCanceled)return;U.parentNode==ae&&!this.options.group.revertClone?ae.insertBefore(le,U):ut?ae.insertBefore(le,ut):ae.appendChild(le),this.options.group.revertClone&&this.animate(U,le),J(le,"display",""),it=!1}}};function go(r){r.dataTransfer&&(r.dataTransfer.dropEffect="move"),r.cancelable&&r.preventDefault()}function Kt(r,e,t,n,o,s,i,l){var a,u=r[Be],d=u.options.onMove,c;return window.CustomEvent&&!rt&&!Mt?a=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("move",!0,!0)),a.to=e,a.from=r,a.dragged=t,a.draggedRect=n,a.related=o||e,a.relatedRect=s||be(e),a.willInsertAfter=l,a.originalEvent=i,r.dispatchEvent(a),d&&(c=d.call(u,a,i)),c}function pr(r){r.draggable=!1}function mo(){Sr=!1}function yo(r,e,t){var n=be(Ot(t.el,0,t.options,!0)),o=10;return e?r.clientX<n.left-o||r.clientY<n.top&&r.clientX<n.right:r.clientY<n.top-o||r.clientY<n.bottom&&r.clientX<n.left}function bo(r,e,t){var n=be(Gr(t.el,t.options.draggable)),o=10;return e?r.clientX>n.right+o||r.clientX<=n.right&&r.clientY>n.bottom&&r.clientX>=n.left:r.clientX>n.right&&r.clientY>n.top||r.clientX<=n.right&&r.clientY>n.bottom+o}function _o(r,e,t,n,o,s,i,l){var a=n?r.clientY:r.clientX,u=n?t.height:t.width,d=n?t.top:t.left,c=n?t.bottom:t.right,f=!1;if(!i){if(l&&Zt<u*o){if(!Gt&&(kt===1?a>d+u*s/2:a<c-u*s/2)&&(Gt=!0),Gt)f=!0;else if(kt===1?a<d+Zt:a>c-Zt)return-kt}else if(a>d+u*(1-o)/2&&a<c-u*(1-o)/2)return vo(e)}return f=f||i,f&&(a<d+u*s/2||a>c-u*s/2)?a>d+u/2?1:-1:0}function vo(r){return Ue(U)<Ue(r)?1:-1}function wo(r){for(var e=r.tagName+r.className+r.src+r.href+r.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function Eo(r){nr.length=0;for(var e=r.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&nr.push(n)}}function Qt(r){return setTimeout(r,0)}function Or(r){return clearTimeout(r)}or&&re(document,"touchmove",function(r){(Z.active||yt)&&r.cancelable&&r.preventDefault()});Z.utils={on:re,off:te,css:J,find:ni,is:function(e,t){return!!xe(e,t,e,!1)},extend:no,throttle:ii,closest:xe,toggleClass:je,clone:si,index:Ue,nextTick:Qt,cancelNextTick:Or,detectDirection:li,getChild:Ot};Z.get=function(r){return r[Be]};Z.mount=function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(Z.utils=Ze(Ze({},Z.utils),n.utils)),Ut.mount(n)})};Z.create=function(r,e){return new Z(r,e)};Z.version=eo;var me=[],At,Tr,Ar=!1,gr,mr,ir,Dt;function So(){function r(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return r.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?re(document,"dragover",this._handleAutoScroll):this.options.supportPointer?re(document,"pointermove",this._handleFallbackAutoScroll):n.touches?re(document,"touchmove",this._handleFallbackAutoScroll):re(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?te(document,"dragover",this._handleAutoScroll):(te(document,"pointermove",this._handleFallbackAutoScroll),te(document,"touchmove",this._handleFallbackAutoScroll),te(document,"mousemove",this._handleFallbackAutoScroll)),Dn(),$t(),io()},nulling:function(){ir=Tr=At=Ar=Dt=gr=mr=null,me.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var o=this,s=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(s,i);if(ir=t,n||this.options.forceAutoScrollFallback||Mt||rt||Ct){yr(t,this.options,l,n);var a=ot(l,!0);Ar&&(!Dt||s!==gr||i!==mr)&&(Dt&&Dn(),Dt=setInterval(function(){var u=ot(document.elementFromPoint(s,i),!0);u!==a&&(a=u,$t()),yr(t,o.options,u,n)},10),gr=s,mr=i)}else{if(!this.options.bubbleScroll||ot(l,!0)===Je()){$t();return}yr(t,this.options,ot(l,!1),!1)}}},tt(r,{pluginName:"scroll",initializeByDefault:!0})}function $t(){me.forEach(function(r){clearInterval(r.pid)}),me=[]}function Dn(){clearInterval(Dt)}var yr=ii(function(r,e,t,n){if(e.scroll){var o=(r.touches?r.touches[0]:r).clientX,s=(r.touches?r.touches[0]:r).clientY,i=e.scrollSensitivity,l=e.scrollSpeed,a=Je(),u=!1,d;Tr!==t&&(Tr=t,$t(),At=e.scroll,d=e.scrollFn,At===!0&&(At=ot(t,!0)));var c=0,f=At;do{var m=f,p=be(m),h=p.top,y=p.bottom,b=p.left,_=p.right,E=p.width,I=p.height,A=void 0,S=void 0,v=m.scrollWidth,R=m.scrollHeight,D=J(m),k=m.scrollLeft,j=m.scrollTop;m===a?(A=E<v&&(D.overflowX==="auto"||D.overflowX==="scroll"||D.overflowX==="visible"),S=I<R&&(D.overflowY==="auto"||D.overflowY==="scroll"||D.overflowY==="visible")):(A=E<v&&(D.overflowX==="auto"||D.overflowX==="scroll"),S=I<R&&(D.overflowY==="auto"||D.overflowY==="scroll"));var C=A&&(Math.abs(_-o)<=i&&k+E<v)-(Math.abs(b-o)<=i&&!!k),g=S&&(Math.abs(y-s)<=i&&j+I<R)-(Math.abs(h-s)<=i&&!!j);if(!me[c])for(var w=0;w<=c;w++)me[w]||(me[w]={});(me[c].vx!=C||me[c].vy!=g||me[c].el!==m)&&(me[c].el=m,me[c].vx=C,me[c].vy=g,clearInterval(me[c].pid),(C!=0||g!=0)&&(u=!0,me[c].pid=setInterval((function(){n&&this.layer===0&&Z.active._onTouchMove(ir);var B=me[this.layer].vy?me[this.layer].vy*l:0,q=me[this.layer].vx?me[this.layer].vx*l:0;typeof d=="function"&&d.call(Z.dragged.parentNode[Be],q,B,r,ir,me[this.layer].el)!=="continue"||oi(me[this.layer].el,q,B)}).bind({layer:c}),24))),c++}while(e.bubbleScroll&&f!==a&&(f=ot(f,!1)));Ar=u}},30),di=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,s=e.activeSortable,i=e.dispatchSortableEvent,l=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var u=n||s;l();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(d.clientX,d.clientY);a(),u&&!u.el.contains(c)&&(i("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function jr(){}jr.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=Ot(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:di};tt(jr,{pluginName:"revertOnSpill"});function Fr(){}Fr.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,o=n||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:di};tt(Fr,{pluginName:"removeOnSpill"});Z.mount(new So);Z.mount(Fr,jr);function In(r,e,t){const n=r.slice();return n[7]=e[t],n}const Oo=r=>({item:r&1}),Cn=r=>({item:r[7]});function Rn(r,e){let t,n;const o=e[4].default,s=Re(o,e,e[3],Cn);return{key:r,first:null,c(){t=He(),s&&s.c(),this.first=t},m(i,l){X(i,t,l),s&&s.m(i,l),n=!0},p(i,l){e=i,s&&s.p&&(!n||l&9)&&ke(s,o,e,e[3],n?Pe(o,e[3],l,Oo):Ge(e[3]),Cn)},i(i){n||(Q(s,i),n=!0)},o(i){ee(s,i),n=!1},d(i){i&&Y(t),s&&s.d(i)}}}function To(r){let e,t,n=[],o=new Map,s,i,l,a,u=de(r[0]);const d=c=>c[7];for(let c=0;c<u.length;c+=1){let f=In(r,u,c),m=d(f);o.set(m,n[c]=Rn(m,f))}return{c(){e=V("div"),e.innerHTML="",t=x();for(let c=0;c<n.length;c+=1)n[c].c();s=He()},m(c,f){X(c,e,f),X(c,t,f);for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(c,f);X(c,s,f),i=!0,l||(a=Ft(r[1].call(null,e)),l=!0)},p(c,[f]){f&9&&(u=de(c[0]),ft(),n=Ye(n,f,d,1,c,u,o,s.parentNode,Zn,Rn,s,In),dt())},i(c){if(!i){for(let f=0;f<u.length;f+=1)Q(n[f]);i=!0}},o(c){for(let f=0;f<n.length;f+=1)ee(n[f]);i=!1},d(c){c&&(Y(e),Y(t),Y(s));for(let f=0;f<n.length;f+=1)n[f].d(c);l=!1,a()}}}function Ao(r,e,t){let{$$slots:n={},$$scope:o}=e;const s=Ir();function i(d){const c=[...d.children].map(f=>f.dataset.id);s("change",c)}let{options:l={}}=e,{items:a=[]}=e;function u(d){const c=Z.create(d.parentNode,{...l,onUpdate:f=>i(f.to),onAdd:f=>i(f.to),onRemove:f=>i(f.from)});return d.parentNode.removeChild(d),{update(){},onDestroy(){c.destroy()}}}return r.$$set=d=>{"options"in d&&t(2,l=d.options),"items"in d&&t(0,a=d.items),"$$scope"in d&&t(3,o=d.$$scope)},[a,u,l,o,n]}class Do extends Me{constructor(e){super(),qe(this,e,Ao,To,Le,{options:2,items:0})}}function Io(r){let e,t,n,o,s;const i=r[8].default,l=Re(i,r,r[7],null);return{c(){e=V("section"),l&&l.c(),Oe(e,"left",r[1]+"px"),Oe(e,"top",r[2]+"px"),N(e,"class",_i("draggable")+" svelte-dstjc1")},m(a,u){X(a,e,u),l&&l.m(e,null),n=!0,o||(s=[ue(window,"mouseup",r[4]),ue(window,"mousemove",r[3]),Ft(r[5].call(null,e)),Ft(t=Mi.call(null,e,r[0])),ue(e,"close",r[9])],o=!0)},p(a,[u]){l&&l.p&&(!n||u&128)&&ke(l,i,a,a[7],n?Pe(i,a[7],u,null):Ge(a[7]),null),(!n||u&2)&&Oe(e,"left",a[1]+"px"),(!n||u&4)&&Oe(e,"top",a[2]+"px"),t&&Ve(t.update)&&u&1&&t.update.call(null,a[0])},i(a){n||(Q(l,a),n=!0)},o(a){ee(l,a),n=!1},d(a){a&&Y(e),l&&l.d(a),o=!1,Xe(s)}}}function Co(r,e,t){let{$$slots:n={},$$scope:o}=e,{handle:s}=e,{close:i}=e,l=0,a=0,u=!1;function d(){u=!0}function c(h){u&&(t(1,l+=h.movementX),t(2,a+=h.movementY))}function f(){u=!1}function m(h){const y=h.querySelector(s)??h;return y.addEventListener("mousedown",d,!0),{destroy(){y.removeEventListener("mousedown",d,!0)}}}function p(h){Jn.call(this,r,h)}return r.$$set=h=>{"handle"in h&&t(6,s=h.handle),"close"in h&&t(0,i=h.close),"$$scope"in h&&t(7,o=h.$$scope)},[i,l,a,c,f,m,s,o,n,p]}class Ro extends Me{constructor(e){super(),qe(this,e,Co,Io,Le,{handle:6,close:0})}}function Pn(r,e,t){const n=r.slice();return n[18]=e[t],n}function Po(r){let e;return{c(){e=V("p"),e.textContent="(too many values to show)"},m(t,n){X(t,e,n)},p:he,d(t){t&&Y(e)}}}function ko(r){let e,t,n,o,s,i,l,a=(r[2].length===r[5].length?"All":r[5].length)+"",u,d,c=" ",f,m,p,h,y=(r[2].length===r[5].length?"All":r[5].length)+"",b,_,E,I=[],A=new Map,S,v,R=de(r[5]);const D=k=>k[18];for(let k=0;k<R.length;k+=1){let j=Pn(r,R,k),C=D(j);A.set(C,I[k]=kn(C,j))}return{c(){e=V("p"),t=V("input"),n=x(),o=V("br"),s=x(),i=V("button"),l=ne("Select "),u=ne(a),d=x(),f=ne(c),m=x(),p=V("button"),h=ne("Deselect "),b=ne(y),_=x(),E=V("div");for(let k=0;k<I.length;k+=1)I[k].c();N(t,"type","text"),N(t,"placeholder","Filter values"),N(t,"class","pvtSearch"),N(i,"class","pvtButton"),N(p,"class","pvtButton"),N(E,"class","pvtCheckContainer")},m(k,j){X(k,e,j),F(e,t),Lr(t,r[4]),F(e,n),F(e,o),F(e,s),F(e,i),F(i,l),F(i,u),F(i,d),F(e,f),F(e,m),F(e,p),F(p,h),F(p,b),X(k,_,j),X(k,E,j);for(let C=0;C<I.length;C+=1)I[C]&&I[C].m(E,null);S||(v=[ue(t,"input",r[10]),ue(i,"click",Bt(r[8](!0))),ue(p,"click",Bt(r[8](!1)))],S=!0)},p(k,j){j&16&&t.value!==k[4]&&Lr(t,k[4]),j&36&&a!==(a=(k[2].length===k[5].length?"All":k[5].length)+"")&&ye(u,a),j&36&&y!==(y=(k[2].length===k[5].length?"All":k[5].length)+"")&&ye(b,y),j&225&&(R=de(k[5]),I=Ye(I,j,D,1,k,R,A,E,$e,kn,null,Pn))},d(k){k&&(Y(e),Y(_),Y(E));for(let j=0;j<I.length;j+=1)I[j].d();S=!1,Xe(v)}}}function Go(r){let e=r[18]+"",t;return{c(){t=ne(e)},m(n,o){X(n,t,o)},p(n,o){o&32&&e!==(e=n[18]+"")&&ye(t,e)},d(n){n&&Y(t)}}}function jo(r){let e;return{c(){e=V("em"),e.textContent="null"},m(t,n){X(t,e,n)},p:he,d(t){t&&Y(e)}}}function kn(r,e){let t,n,o,s,i,l,a,u,d;function c(){return e[11](e[18])}function f(y,b){return y[18]===""?jo:Go}let m=f(e),p=m(e);function h(){return e[12](e[18])}return{key:r,first:null,c(){t=V("p"),n=V("a"),n.textContent="only",o=x(),s=V("span"),s.textContent=" ",i=x(),p.c(),l=x(),N(n,"class","pvtOnly"),N(s,"class","pvtOnlySpacer"),N(t,"class",a=e[18]in e[0]?"":"selected"),this.first=t},m(y,b){X(y,t,b),F(t,n),F(t,o),F(t,s),F(t,i),p.m(t,null),F(t,l),u||(d=[ue(n,"click",Bt(c)),ue(t,"click",h),ue(t,"keypress",e[9])],u=!0)},p(y,b){e=y,m===(m=f(e))&&p?p.p(e,b):(p.d(1),p=m(e),p&&(p.c(),p.m(t,l))),b&33&&a!==(a=e[18]in e[0]?"":"selected")&&N(t,"class",a)},d(y){y&&Y(t),p.d(),u=!1,Xe(d)}}}function Fo(r){let e,t,n,o,s,i,l,a,u,d;function c(p,h){return p[2].length<p[3]?ko:Po}let f=c(r),m=f(r);return{c(){e=V("div"),t=V("span"),t.textContent="×",n=x(),o=V("span"),o.textContent="☰",s=x(),i=V("h4"),l=ne(r[1]),a=x(),m.c(),N(t,"class","pvtCloseX"),N(o,"class","pvtDragHandle"),N(e,"class","pvtFilterBox"),Oe(e,"display","block"),Oe(e,"cursor","initial")},m(p,h){X(p,e,h),F(e,t),F(e,n),F(e,o),F(e,s),F(e,i),F(i,l),F(e,a),m.m(e,null),u||(d=Ft(No.call(null,e)),u=!0)},p(p,[h]){h&2&&ye(l,p[1]),f===(f=c(p))&&m?m.p(p,h):(m.d(1),m=f(p),m&&(m.c(),m.m(e,null)))},i:he,o:he,d(p){p&&Y(e),m.d(),u=!1,d()}}}let Bo=1e3;function No(r){r.style.zIndex=""+Bo++}function Lo(r,e,t){const n=Ir();let{name:o}=e,{values:s}=e,{valueFilter:i={}}=e,{menuLimit:l=500}=e,a="",u;function d(A){A in i?m([A]):f([A]),n("change",i)}function c(A){Object.keys(i).forEach(S=>delete i[S]),f(A)}function f(A){A.forEach(S=>t(0,i[S]=!0,i))}function m(A){A.forEach(S=>delete i[S])}function p(A){return A.toLowerCase().trim().includes(a.toLowerCase().trim())}function h(A){c(s.filter(S=>S!==A)),n("change",i)}function y(A){const S=A?m:f;return function(){S(s.filter(p)),n("change",i)}}function b(A){Jn.call(this,r,A)}function _(){a=this.value,t(4,a)}const E=A=>h(A),I=A=>d(A);return r.$$set=A=>{"name"in A&&t(1,o=A.name),"values"in A&&t(2,s=A.values),"valueFilter"in A&&t(0,i=A.valueFilter),"menuLimit"in A&&t(3,l=A.menuLimit)},r.$$.update=()=>{r.$$.dirty&20&&t(5,u=s.filter(p))},[i,o,s,l,a,u,d,h,y,b,_,E,I]}class qo extends Me{constructor(e){super(),qe(this,e,Lo,Fo,Le,{name:1,values:2,valueFilter:0,menuLimit:3})}}function Gn(r){let e,t;return e=new Ro({props:{handle:".pvtDragHandle",close:".pvtCloseX",$$slots:{default:[Mo]},$$scope:{ctx:r}}}),e.$on("click",r[6]),e.$on("close",r[6]),{c(){Ee(e.$$.fragment)},m(n,o){_e(e,n,o),t=!0},p(n,o){const s={};o&287&&(s.$$scope={dirty:o,ctx:n}),e.$set(s)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ee(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function Mo(r){let e,t;return e=new qo({props:{name:r[1],valueFilter:r[0],values:r[2],menuLimit:r[3]}}),e.$on("change",r[7]),{c(){Ee(e.$$.fragment)},m(n,o){_e(e,n,o),t=!0},p(n,o){const s={};o&2&&(s.name=n[1]),o&1&&(s.valueFilter=n[0]),o&4&&(s.values=n[2]),o&8&&(s.menuLimit=n[3]),e.$set(s)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ee(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function Uo(r){let e,t,n,o,s,i,l,a,u,d,c=r[5]&&Gn(r);return{c(){e=V("li"),t=V("span"),n=ne(r[1]),o=x(),s=V("span"),s.textContent=` 
            ▾`,l=x(),c&&c.c(),N(s,"class","pvtTriangle"),N(t,"class",i=`pvtAttr ${_r(r[0])?"":"pvtFilteredAttribute"}`),N(e,"data-id",r[1])},m(f,m){X(f,e,m),F(e,t),F(t,n),F(t,o),F(t,s),F(e,l),c&&c.m(e,null),a=!0,u||(d=[ue(s,"click",r[6]),ue(s,"keypress",r[6])],u=!0)},p(f,[m]){(!a||m&2)&&ye(n,f[1]),(!a||m&1&&i!==(i=`pvtAttr ${_r(f[0])?"":"pvtFilteredAttribute"}`))&&N(t,"class",i),f[5]?c?(c.p(f,m),m&32&&Q(c,1)):(c=Gn(f),c.c(),Q(c,1),c.m(e,null)):c&&(ft(),ee(c,1,1,()=>{c=null}),dt()),(!a||m&2)&&N(e,"data-id",f[1])},i(f){a||(Q(c),a=!0)},o(f){ee(c),a=!1},d(f){f&&Y(e),c&&c.d(),u=!1,Xe(d)}}}function Ho(r,e,t){let{valueFilter:n}=e,{name:o}=e,{attrValues:s}=e,{menuLimit:i}=e,{updateValuesInFilter:l}=e,a=!1;const u=()=>t(5,a=!a),d=c=>l(o,c.detail);return r.$$set=c=>{"valueFilter"in c&&t(0,n=c.valueFilter),"name"in c&&t(1,o=c.name),"attrValues"in c&&t(2,s=c.attrValues),"menuLimit"in c&&t(3,i=c.menuLimit),"updateValuesInFilter"in c&&t(4,l=c.updateValuesInFilter)},[n,o,s,i,l,a,u,d]}class Vo extends Me{constructor(e){super(),qe(this,e,Ho,Uo,Le,{valueFilter:0,name:1,attrValues:2,menuLimit:3,updateValuesInFilter:4})}}function Wo(r){let e,t;return e=new Vo({props:{attrValues:r[5](r[7]),name:r[7],valueFilter:r[0][r[7]]||{},menuLimit:r[3],updateValuesInFilter:r[6]}}),{c(){Ee(e.$$.fragment)},m(n,o){_e(e,n,o),t=!0},p(n,o){const s={};o&128&&(s.attrValues=n[5](n[7])),o&128&&(s.name=n[7]),o&129&&(s.valueFilter=n[0][n[7]]||{}),o&8&&(s.menuLimit=n[3]),e.$set(s)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ee(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function zo(r){let e,t;return e=new Do({props:{items:r[1],options:r[4],$$slots:{default:[Wo,({item:n})=>({7:n}),({item:n})=>n?128:0]},$$scope:{ctx:r}}}),e.$on("change",r[11]),{c(){Ee(e.$$.fragment)},m(n,o){_e(e,n,o),t=!0},p(n,[o]){const s={};o&2&&(s.items=n[1]),o&4233&&(s.$$scope={dirty:o,ctx:n}),e.$set(s)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ee(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function Yo(r,e,t){let{items:n,onChange:o,valueFilter:s,attrValues:i,sorters:l,menuLimit:a,onUpdate:u}=e;const d={group:"shared",ghostClass:"pvtPlaceholder",filter:".pvtFilterBox",preventOnFilter:!1};let c;function f(h){const y=i[h]??{},b=Pr(l,h);return Object.keys(y).sort(b)}function m(h,y){t(0,s[h]=y,s),u(s)}const p=h=>o(h.detail);return r.$$set=h=>{"items"in h&&t(1,n=h.items),"onChange"in h&&t(2,o=h.onChange),"valueFilter"in h&&t(0,s=h.valueFilter),"attrValues"in h&&t(8,i=h.attrValues),"sorters"in h&&t(9,l=h.sorters),"menuLimit"in h&&t(3,a=h.menuLimit),"onUpdate"in h&&t(10,u=h.onUpdate)},[s,n,o,a,d,f,m,c,i,l,u,p]}class Br extends Me{constructor(e){super(),qe(this,e,Yo,zo,Le,{items:1,onChange:2,valueFilter:0,attrValues:8,sorters:9,menuLimit:3,onUpdate:10})}}const Ko=r=>({}),jn=r=>({}),Xo=r=>({}),Fn=r=>({}),xo=r=>({}),Bn=r=>({}),Jo=r=>({}),Nn=r=>({}),Zo=r=>({}),Ln=r=>({}),Qo=r=>({}),qn=r=>({}),$o=r=>({}),Mn=r=>({}),es=r=>({}),Un=r=>({}),ts=r=>({}),Hn=r=>({}),rs=r=>({}),Vn=r=>({}),ns=r=>({}),Wn=r=>({}),is=r=>({}),zn=r=>({});function os(r){let e,t,n,o,s,i,l,a,u,d,c,f,m,p,h,y;const b=r[2].rendererCell,_=Re(b,r,r[1],qn),E=r[2].aggregatorCell,I=Re(E,r,r[1],Ln),A=r[2].colAttrsCell,S=Re(A,r,r[1],Nn),v=r[2].unusedAttrsCell,R=Re(v,r,r[1],Bn),D=r[2].rowAttrsCell,k=Re(D,r,r[1],Fn),j=r[2].outputCell,C=Re(j,r,r[1],jn);return{c(){e=V("table"),t=V("tbody"),n=V("tr"),o=V("td"),_&&_.c(),s=x(),i=V("td"),I&&I.c(),l=x(),a=V("td"),S&&S.c(),u=x(),d=V("tr"),c=V("td"),R&&R.c(),f=x(),m=V("td"),k&&k.c(),p=x(),h=V("td"),C&&C.c(),N(o,"class","pvtRenderers"),N(i,"class","pvtVals"),N(a,"class","pvtAxisContainer pvtHorizList pvtCols"),N(c,"class","pvtAxisContainer pvtUnused pvtVertList"),N(m,"class","pvtAxisContainer pvtVertList pvtRows"),N(h,"class","pvtOutput"),N(e,"class","pvtUi")},m(g,w){X(g,e,w),F(e,t),F(t,n),F(n,o),_&&_.m(o,null),F(n,s),F(n,i),I&&I.m(i,null),F(n,l),F(n,a),S&&S.m(a,null),F(t,u),F(t,d),F(d,c),R&&R.m(c,null),F(d,f),F(d,m),k&&k.m(m,null),F(d,p),F(d,h),C&&C.m(h,null),y=!0},p(g,w){_&&_.p&&(!y||w&2)&&ke(_,b,g,g[1],y?Pe(b,g[1],w,Qo):Ge(g[1]),qn),I&&I.p&&(!y||w&2)&&ke(I,E,g,g[1],y?Pe(E,g[1],w,Zo):Ge(g[1]),Ln),S&&S.p&&(!y||w&2)&&ke(S,A,g,g[1],y?Pe(A,g[1],w,Jo):Ge(g[1]),Nn),R&&R.p&&(!y||w&2)&&ke(R,v,g,g[1],y?Pe(v,g[1],w,xo):Ge(g[1]),Bn),k&&k.p&&(!y||w&2)&&ke(k,D,g,g[1],y?Pe(D,g[1],w,Xo):Ge(g[1]),Fn),C&&C.p&&(!y||w&2)&&ke(C,j,g,g[1],y?Pe(j,g[1],w,Ko):Ge(g[1]),jn)},i(g){y||(Q(_,g),Q(I,g),Q(S,g),Q(R,g),Q(k,g),Q(C,g),y=!0)},o(g){ee(_,g),ee(I,g),ee(S,g),ee(R,g),ee(k,g),ee(C,g),y=!1},d(g){g&&Y(e),_&&_.d(g),I&&I.d(g),S&&S.d(g),R&&R.d(g),k&&k.d(g),C&&C.d(g)}}}function ss(r){let e,t,n,o,s,i,l,a,u,d,c,f,m,p,h,y,b;const _=r[2].rendererCell,E=Re(_,r,r[1],zn),I=r[2].unusedAttrsCell,A=Re(I,r,r[1],Wn),S=r[2].aggregatorCell,v=Re(S,r,r[1],Vn),R=r[2].colAttrsCell,D=Re(R,r,r[1],Hn),k=r[2].rowAttrsCell,j=Re(k,r,r[1],Un),C=r[2].outputCell,g=Re(C,r,r[1],Mn);return{c(){e=V("table"),t=V("tbody"),n=V("tr"),o=V("td"),E&&E.c(),s=x(),i=V("td"),A&&A.c(),l=x(),a=V("tr"),u=V("td"),v&&v.c(),d=x(),c=V("td"),D&&D.c(),f=x(),m=V("tr"),p=V("td"),j&&j.c(),h=x(),y=V("td"),g&&g.c(),N(o,"class","pvtRenderers"),N(i,"class","pvtAxisContainer pvtUnused pvtHorizList"),N(u,"class","pvtVals"),N(c,"class","pvtAxisContainer pvtHorizList pvtCols"),N(p,"class","pvtAxisContainer pvtVertList pvtRows"),N(y,"class","pvtOutput"),N(e,"class","pvtUi")},m(w,B){X(w,e,B),F(e,t),F(t,n),F(n,o),E&&E.m(o,null),F(n,s),F(n,i),A&&A.m(i,null),F(t,l),F(t,a),F(a,u),v&&v.m(u,null),F(a,d),F(a,c),D&&D.m(c,null),F(t,f),F(t,m),F(m,p),j&&j.m(p,null),F(m,h),F(m,y),g&&g.m(y,null),b=!0},p(w,B){E&&E.p&&(!b||B&2)&&ke(E,_,w,w[1],b?Pe(_,w[1],B,is):Ge(w[1]),zn),A&&A.p&&(!b||B&2)&&ke(A,I,w,w[1],b?Pe(I,w[1],B,ns):Ge(w[1]),Wn),v&&v.p&&(!b||B&2)&&ke(v,S,w,w[1],b?Pe(S,w[1],B,rs):Ge(w[1]),Vn),D&&D.p&&(!b||B&2)&&ke(D,R,w,w[1],b?Pe(R,w[1],B,ts):Ge(w[1]),Hn),j&&j.p&&(!b||B&2)&&ke(j,k,w,w[1],b?Pe(k,w[1],B,es):Ge(w[1]),Un),g&&g.p&&(!b||B&2)&&ke(g,C,w,w[1],b?Pe(C,w[1],B,$o):Ge(w[1]),Mn)},i(w){b||(Q(E,w),Q(A,w),Q(v,w),Q(D,w),Q(j,w),Q(g,w),b=!0)},o(w){ee(E,w),ee(A,w),ee(v,w),ee(D,w),ee(j,w),ee(g,w),b=!1},d(w){w&&Y(e),E&&E.d(w),A&&A.d(w),v&&v.d(w),D&&D.d(w),j&&j.d(w),g&&g.d(w)}}}function as(r){let e,t,n,o;const s=[ss,os],i=[];function l(a,u){return a[0]?0:1}return e=l(r),t=i[e]=s[e](r),{c(){t.c(),n=He()},m(a,u){i[e].m(a,u),X(a,n,u),o=!0},p(a,[u]){let d=e;e=l(a),e===d?i[e].p(a,u):(ft(),ee(i[d],1,1,()=>{i[d]=null}),dt(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),Q(t,1),t.m(n.parentNode,n))},i(a){o||(Q(t),o=!0)},o(a){ee(t),o=!1},d(a){a&&Y(n),i[e].d(a)}}}function ls(r,e,t){let{$$slots:n={},$$scope:o}=e,{horizUnused:s}=e;return r.$$set=i=>{"horizUnused"in i&&t(0,s=i.horizUnused),"$$scope"in i&&t(1,o=i.$$scope)},[s,o,n]}class us extends Me{constructor(e){super(),qe(this,e,ls,as,Le,{horizUnused:0})}}function cs(r){let e,t,n;function o(i){r[34](i)}let s={slot:"rendererCell",values:Object.keys(r[6])};return r[0]!==void 0&&(s.current=r[0]),e=new kr({props:s}),Lt.push(()=>Ii(e,"current",o)),{c(){Ee(e.$$.fragment)},m(i,l){_e(e,i,l),n=!0},p(i,l){const a={};l[0]&64&&(a.values=Object.keys(i[6])),!t&&l[0]&1&&(t=!0,a.current=i[0],Oi(()=>t=!1)),e.$set(a)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){ee(e.$$.fragment,i),n=!1},d(i){ve(e,i)}}}function fs(r){let e,t;return e=new Ji({props:{slot:"aggregatorCell",aggregatorName:r[1],aggregators:r[7],valAttrs:r[18],onChange:r[32],onUpdate:r[33],vals:r[4]}}),{c(){Ee(e.$$.fragment)},m(n,o){_e(e,n,o),t=!0},p(n,o){const s={};o[0]&2&&(s.aggregatorName=n[1]),o[0]&128&&(s.aggregators=n[7]),o[0]&262144&&(s.valAttrs=n[18]),o[0]&2&&(s.onChange=n[32]),o[0]&16&&(s.onUpdate=n[33]),o[0]&16&&(s.vals=n[4]),e.$set(s)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ee(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function ds(r){let e,t;return e=new Br({props:{slot:"unusedAttrsCell",sorters:r[10],valueFilter:r[5],attrValues:r[13],items:r[16],onChange:r[30],onUpdate:r[31],menuLimit:r[8]}}),{c(){Ee(e.$$.fragment)},m(n,o){_e(e,n,o),t=!0},p(n,o){const s={};o[0]&1024&&(s.sorters=n[10]),o[0]&32&&(s.valueFilter=n[5]),o[0]&8192&&(s.attrValues=n[13]),o[0]&65536&&(s.items=n[16]),o[0]&4096&&(s.onChange=n[30]),o[0]&32&&(s.onUpdate=n[31]),o[0]&256&&(s.menuLimit=n[8]),e.$set(s)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ee(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function hs(r){let e,t;return e=new Br({props:{slot:"colAttrsCell",sorters:r[10],valueFilter:r[5],attrValues:r[13],items:r[14],onChange:r[28],onUpdate:r[29],menuLimit:r[8]}}),{c(){Ee(e.$$.fragment)},m(n,o){_e(e,n,o),t=!0},p(n,o){const s={};o[0]&1024&&(s.sorters=n[10]),o[0]&32&&(s.valueFilter=n[5]),o[0]&8192&&(s.attrValues=n[13]),o[0]&16384&&(s.items=n[14]),o[0]&4&&(s.onChange=n[28]),o[0]&32&&(s.onUpdate=n[29]),o[0]&256&&(s.menuLimit=n[8]),e.$set(s)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ee(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function ps(r){let e,t;return e=new Br({props:{slot:"rowAttrsCell",sorters:r[10],valueFilter:r[5],attrValues:r[13],items:r[15],onChange:r[26],onUpdate:r[27],menuLimit:r[8]}}),{c(){Ee(e.$$.fragment)},m(n,o){_e(e,n,o),t=!0},p(n,o){const s={};o[0]&1024&&(s.sorters=n[10]),o[0]&32&&(s.valueFilter=n[5]),o[0]&8192&&(s.attrValues=n[13]),o[0]&32768&&(s.items=n[15]),o[0]&8&&(s.onChange=n[26]),o[0]&32&&(s.onUpdate=n[27]),o[0]&256&&(s.menuLimit=n[8]),e.$set(s)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ee(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function gs(r){let e,t;const n=[{slot:"outputCell"},{renderer:r[19]},r[21],{cols:r[2]},{rows:r[3]},{vals:r[4]},{derivedAttributes:r[9]},{aggregator:r[20]},{data:r[11]},{sorters:r[10]},{valueFilter:r[5]}];let o={};for(let s=0;s<n.length;s+=1)o=Ne(o,n[s]);return e=new Vi({props:o}),{c(){Ee(e.$$.fragment)},m(s,i){_e(e,s,i),t=!0},p(s,i){const l=i[0]&3673660?qt(n,[n[0],i[0]&524288&&{renderer:s[19]},i[0]&2097152&&St(s[21]),i[0]&4&&{cols:s[2]},i[0]&8&&{rows:s[3]},i[0]&16&&{vals:s[4]},i[0]&512&&{derivedAttributes:s[9]},i[0]&1048576&&{aggregator:s[20]},i[0]&2048&&{data:s[11]},i[0]&1024&&{sorters:s[10]},i[0]&32&&{valueFilter:s[5]}]):{};e.$set(l)},i(s){t||(Q(e.$$.fragment,s),t=!0)},o(s){ee(e.$$.fragment,s),t=!1},d(s){ve(e,s)}}}function ms(r){let e,t;return e=new us({props:{horizUnused:r[17],$$slots:{outputCell:[gs],rowAttrsCell:[ps],colAttrsCell:[hs],unusedAttrsCell:[ds],aggregatorCell:[fs],rendererCell:[cs]},$$scope:{ctx:r}}}),{c(){Ee(e.$$.fragment)},m(n,o){_e(e,n,o),t=!0},p(n,o){const s={};o[0]&131072&&(s.horizUnused=n[17]),o[0]&4063231|o[1]&32&&(s.$$scope={dirty:o,ctx:n}),e.$set(s)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){ee(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function ys(r,e,t){const n=["rendererName","renderers","aggregatorName","aggregators","hiddenAttributes","hiddenFromAggregators","hiddenFromDragDrop","unusedOrientationCutoff","menuLimit","derivedAttributes","cols","rows","vals","sorters","valueFilter","data"];let o=Et(e,n),{rendererName:s="Table",renderers:i=$n,aggregatorName:l="Count",aggregators:a=Qn,hiddenAttributes:u=[],hiddenFromAggregators:d=[],hiddenFromDragDrop:c=[],unusedOrientationCutoff:f=85,menuLimit:m=500}=e,{derivedAttributes:p,cols:h,rows:y,vals:b,sorters:_,valueFilter:E}=Ke.defaultProps,{derivedAttributes:I=p,cols:A=h,rows:S=y,vals:v=b,sorters:R=_,valueFilter:D=E}=e,{data:k}=e,j=[],C={};function g(M){return!u.includes(M)&&!c.includes(M)}let w,B,q,H,W,Ie,se;const Te=M=>t(3,S=M),P=M=>t(5,D=M),O=M=>t(2,A=M),T=M=>t(5,D=M),G=M=>t(12,j=M),L=M=>t(5,D=M),z=M=>t(1,l=M),K=M=>t(4,v=M);function ie(M){s=M,t(0,s),t(6,i)}return r.$$set=M=>{e=Ne(Ne({},e),jt(M)),t(21,o=Et(e,n)),"rendererName"in M&&t(0,s=M.rendererName),"renderers"in M&&t(6,i=M.renderers),"aggregatorName"in M&&t(1,l=M.aggregatorName),"aggregators"in M&&t(7,a=M.aggregators),"hiddenAttributes"in M&&t(22,u=M.hiddenAttributes),"hiddenFromAggregators"in M&&t(23,d=M.hiddenFromAggregators),"hiddenFromDragDrop"in M&&t(24,c=M.hiddenFromDragDrop),"unusedOrientationCutoff"in M&&t(25,f=M.unusedOrientationCutoff),"menuLimit"in M&&t(8,m=M.menuLimit),"derivedAttributes"in M&&t(9,I=M.derivedAttributes),"cols"in M&&t(2,A=M.cols),"rows"in M&&t(3,S=M.rows),"vals"in M&&t(4,v=M.vals),"sorters"in M&&t(10,R=M.sorters),"valueFilter"in M&&t(5,D=M.valueFilter),"data"in M&&t(11,k=M.data)},r.$$.update=()=>{if(r.$$.dirty[0]&10752){t(13,C={});let M=0;Ke.forEachRecord(k,I,function(oe){for(const ce of Object.keys(oe))ce in C||(t(13,C[ce]={},C),M>0&&t(13,C[ce].null=M,C));for(const ce in C){const sr=ce in oe?oe[ce]:"null";sr in C[ce]||t(13,C[ce][sr]=0,C),t(13,C[ce][sr]++,C)}M++})}if(r.$$.dirty[0]&4&&t(14,w=A.filter(g)),r.$$.dirty[0]&8&&t(15,B=S.filter(g)),r.$$.dirty[0]&46264320){t(16,q=Object.keys(C).filter(oe=>!w.includes(oe)&&!B.includes(oe)&&g(oe)).sort(ki(j)));const M=q.reduce((oe,ce)=>oe+ce.length,0);t(17,H=M<f),t(18,W=Object.keys(C).filter(oe=>!u.includes(oe)&&!d.includes(oe)))}r.$$.dirty[0]&65&&(t(0,s=s in i?s:Object.keys(i)[0]),t(19,Ie=i[s])),r.$$.dirty[0]&130&&(t(1,l=l in a?l:Object.keys(a)[0]),t(20,se=a[l]))},[s,l,A,S,v,D,i,a,m,I,R,k,j,C,w,B,q,H,W,Ie,se,o,u,d,c,f,Te,P,O,T,G,L,z,K,ie]}class hi extends Me{constructor(e){super(),qe(this,e,ys,ms,Le,{rendererName:0,renderers:6,aggregatorName:1,aggregators:7,hiddenAttributes:22,hiddenFromAggregators:23,hiddenFromDragDrop:24,unusedOrientationCutoff:25,menuLimit:8,derivedAttributes:9,cols:2,rows:3,vals:4,sorters:10,valueFilter:5,data:11},null,[-1,-1])}}var bs={exports:{}},br={exports:{}},Yn;function _s(){return Yn||(Yn=1,function(r,e){(function(t,n){r.exports=n()})(self,()=>(()=>{var t={};return(()=>{var n=t;Object.defineProperty(n,"__esModule",{value:!0}),n.ElementBase=void 0;class o extends HTMLElement{memoizedTemplate(){const i=this.is();if(o.TEMPLATE_CACHE[i])return o.TEMPLATE_CACHE[i];const l=this.template();return window.ShadyCSS&&window.ShadyCSS.prepareTemplate(l,this.is()),o.TEMPLATE_CACHE[i]=l,l}connectedCallback(){const i=this.memoizedTemplate();window.ShadyCSS&&window.ShadyCSS.styleElement(this),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(document.importNode(i.content,!0)),requestAnimationFrame(()=>this.dispatchEvent(new CustomEvent("ready"))))}whenReady(i){this.shadowRoot?i():this.addEventListener("ready",()=>i())}}n.ElementBase=o,o.TEMPLATE_CACHE={}})(),t})())}(br)),br.exports}(function(r,e){(function(t,n){r.exports=n(_s())})(self,t=>(()=>{var n={917:l=>{l.exports=t}},o={};function s(l){var a=o[l];if(a!==void 0)return a.exports;var u=o[l]={exports:{}};return n[l](u,u.exports,s),u.exports}var i={};return(()=>{var l=i;Object.defineProperty(l,"__esModule",{value:!0}),l.Group=void 0;const a=s(917);class u extends a.ElementBase{is(){return u.ID}template(){const c=document.createElement("template");return c.innerHTML=`
            <style>
                :host {
                    display: block;
                    overflow: visible;
                    background: var(--sd-group-background-color, white);
                    padding: var(--sd-group-padding, 24px);
                }
            </style>
            <slot name="caption"></slot>
            <slot></slot>
        `,c}}l.Group=u,u.ID="sd-group",customElements.get(u.ID)||customElements.define(u.ID,u)})(),i})())})(bs);var pi={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(self,function(){return function(){var t={613:function(s,i,l){l.r(i),i.default={"color-base-red-50":"#ffeeef","color-base-red-100":"#ffe2e5","color-base-red-150":"#ffccd2","color-base-red-200":"#ffb7bf","color-base-red-300":"#ff97a3","color-base-red-400":"#f96778","color-base-red-450":"#f14558","color-base-red-500":"#ea2138","color-base-red-600":"#e2001a","color-base-red-700":"#cc0017","color-base-red-800":"#b50015","color-base-red-900":"#9f0012","color-base-orange-50":"#fff5ef","color-base-orange-100":"#ffefe5","color-base-orange-150":"#ffe3d1","color-base-orange-200":"#ffd7be","color-base-orange-300":"#ffc19b","color-base-orange-400":"#ffa670","color-base-orange-450":"#ff9250","color-base-orange-500":"#ff7e30","color-base-orange-600":"#ff6b11","color-base-orange-700":"#e95f0c","color-base-orange-800":"#d65404","color-base-orange-900":"#bf4800","color-base-yellow-50":"#fffaeb","color-base-yellow-100":"#fff6de","color-base-yellow-150":"#fff0cc","color-base-yellow-200":"#ffeab6","color-base-yellow-300":"#ffe39d","color-base-yellow-400":"#ffd97b","color-base-yellow-450":"#ffcf58","color-base-yellow-500":"#ffc434","color-base-yellow-600":"#ffbb11","color-base-yellow-700":"#e9aa0c","color-base-yellow-800":"#d69a04","color-base-yellow-900":"#bf8800","color-base-green-50":"#f6faec","color-base-green-100":"#f0f7df","color-base-green-150":"#e8f2d0","color-base-green-200":"#deedbc","color-base-green-300":"#cee49c","color-base-green-400":"#bedb79","color-base-green-450":"#add154","color-base-green-500":"#9bc730","color-base-green-600":"#8abd0c","color-base-green-700":"#7baa0b","color-base-green-800":"#6e970a","color-base-green-900":"#618508","color-base-dark-green-50":"#eaf4ec","color-base-dark-green-100":"#dff2e3","color-base-dark-green-150":"#ccecd3","color-base-dark-green-200":"#b1dfbb","color-base-dark-green-300":"#93d3a2","color-base-dark-green-400":"#72c584","color-base-dark-green-450":"#4cb563","color-base-dark-green-500":"#26a642","color-base-dark-green-600":"#009621","color-base-dark-green-700":"#00871e","color-base-dark-green-800":"#00781a","color-base-dark-green-900":"#006917","color-base-cyan-50":"#e3f0f5","color-base-cyan-100":"#d5eff8","color-base-cyan-150":"#c2e8f3","color-base-cyan-200":"#aee0ef","color-base-cyan-300":"#92d4e7","color-base-cyan-400":"#70c7e0","color-base-cyan-450":"#43b4d6","color-base-cyan-500":"#19a3cb","color-base-cyan-600":"#0099c5","color-base-cyan-700":"#008ab2","color-base-cyan-800":"#007a9e","color-base-cyan-900":"#006b8a","color-base-blue-50":"#e7f1fa","color-base-blue-100":"#d6eeff","color-base-blue-150":"#c7e7ff","color-base-blue-200":"#b1deff","color-base-blue-300":"#8ecfff","color-base-blue-400":"#6ac0ff","color-base-blue-450":"#4ab2ff","color-base-blue-500":"#2ba4ff","color-base-blue-600":"#0d98ff","color-base-blue-700":"#0c88e6","color-base-blue-800":"#0a77ca","color-base-blue-900":"#0968af","color-base-dark-blue-50":"#e1ebf6","color-base-dark-blue-100":"#d3e6fa","color-base-dark-blue-150":"#b9d7f5","color-base-dark-blue-200":"#9bc6f2","color-base-dark-blue-300":"#77afe7","color-base-dark-blue-400":"#5198e0","color-base-dark-blue-450":"#3a85d1","color-base-dark-blue-500":"#2576c7","color-base-dark-blue-600":"#1467ba","color-base-dark-blue-700":"#125da8","color-base-dark-blue-800":"#105295","color-base-dark-blue-900":"#0e4883","color-base-pink-50":"#fce6f3","color-base-pink-100":"#fad5eb","color-base-pink-150":"#f7bbdd","color-base-pink-200":"#f2a1cf","color-base-pink-300":"#ec78ba","color-base-pink-400":"#e755a8","color-base-pink-450":"#d94397","color-base-pink-500":"#cc2f89","color-base-pink-600":"#c41579","color-base-pink-700":"#b4136e","color-base-pink-800":"#a01163","color-base-pink-900":"#8a0f55","color-base-purple-50":"#f4e2f6","color-base-purple-100":"#eccff0","color-base-purple-150":"#dab2e0","color-base-purple-200":"#c792cf","color-base-purple-300":"#ab66b4","color-base-purple-400":"#93459e","color-base-purple-450":"#823591","color-base-purple-500":"#772386","color-base-purple-600":"#6c127b","color-base-purple-700":"#5e106b","color-base-purple-800":"#530d5e","color-base-purple-900":"#450b4f","color-base-brown-50":"#f2eae4","color-base-brown-100":"#eadcd2","color-base-brown-150":"#d8c4b3","color-base-brown-200":"#bca38d","color-base-brown-300":"#a08165","color-base-brown-400":"#8b6747","color-base-brown-450":"#755438","color-base-brown-500":"#65472b","color-base-brown-600":"#593b20","color-base-brown-700":"#4f351d","color-base-brown-800":"#462f1b","color-base-brown-900":"#3f2915","color-base-grey-50":"#f9f9f9","color-base-grey-100":"#f3f3f3","color-base-grey-150":"#eeeeee","color-base-grey-200":"#e5e5e5","color-base-grey-300":"#d9d9d9","color-base-grey-400":"#cccccc","color-base-grey-450":"#bbbbbb","color-base-grey-500":"#aaaaaa","color-base-grey-600":"#999999","color-base-grey-700":"#777777","color-base-grey-800":"#666666","color-base-grey-900":"#555555","color-base-white":"#ffffff","color-base-black":"#111111","color-font-base":"#111111","color-font-secondary":"#555555","color-font-tertiary":"#999999","color-font-warn":"#555555","color-font-suggest":"#bf8800","color-font-error":"#cc0017","font-family-base":'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',"size-font-tiny":"12px","size-font-small":"13px","size-font-medium":"16px","size-font-large":"20px","size-font-xl":"24px","size-font-xxl":"32px","size-font-xxxl":"48px","size-font-base":"16px","time-transition-short":"275ms","time-transition-base":"300ms","time-transition-long":"600ms","time-transition-xl":"1000ms"}},470:function(s,i,l){function a(g){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},a(g)}l.r(i),l.d(i,{DOMException:function(){return j},Headers:function(){return y},Request:function(){return v},Response:function(){return D},fetch:function(){return C}});var u=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||u!==void 0&&u,d={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};if(d.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(g){return g&&c.indexOf(Object.prototype.toString.call(g))>-1};function m(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(g)||g==="")throw new TypeError('Invalid character in header field name: "'+g+'"');return g.toLowerCase()}function p(g){return typeof g!="string"&&(g=String(g)),g}function h(g){var w={next:function(){var B=g.shift();return{done:B===void 0,value:B}}};return d.iterable&&(w[Symbol.iterator]=function(){return w}),w}function y(g){this.map={},g instanceof y?g.forEach(function(w,B){this.append(B,w)},this):Array.isArray(g)?g.forEach(function(w){this.append(w[0],w[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(w){this.append(w,g[w])},this)}function b(g){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}function _(g){return new Promise(function(w,B){g.onload=function(){w(g.result)},g.onerror=function(){B(g.error)}})}function E(g){var w=new FileReader,B=_(w);return w.readAsArrayBuffer(g),B}function I(g){if(g.slice)return g.slice(0);var w=new Uint8Array(g.byteLength);return w.set(new Uint8Array(g)),w.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(g){var w;this.bodyUsed=this.bodyUsed,this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:d.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:d.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():d.arrayBuffer&&d.blob&&(w=g)&&DataView.prototype.isPrototypeOf(w)?(this._bodyArrayBuffer=I(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||f(g))?this._bodyArrayBuffer=I(g):this._bodyText=g=Object.prototype.toString.call(g):this._bodyText="",this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var g=b(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var g=b(this);return g||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(E)}),this.text=function(){var g,w,B,q=b(this);if(q)return q;if(this._bodyBlob)return g=this._bodyBlob,w=new FileReader,B=_(w),w.readAsText(g),B;if(this._bodyArrayBuffer)return Promise.resolve(function(H){for(var W=new Uint8Array(H),Ie=new Array(W.length),se=0;se<W.length;se++)Ie[se]=String.fromCharCode(W[se]);return Ie.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(R)}),this.json=function(){return this.text().then(JSON.parse)},this}y.prototype.append=function(g,w){g=m(g),w=p(w);var B=this.map[g];this.map[g]=B?B+", "+w:w},y.prototype.delete=function(g){delete this.map[m(g)]},y.prototype.get=function(g){return g=m(g),this.has(g)?this.map[g]:null},y.prototype.has=function(g){return this.map.hasOwnProperty(m(g))},y.prototype.set=function(g,w){this.map[m(g)]=p(w)},y.prototype.forEach=function(g,w){for(var B in this.map)this.map.hasOwnProperty(B)&&g.call(w,this.map[B],B,this)},y.prototype.keys=function(){var g=[];return this.forEach(function(w,B){g.push(B)}),h(g)},y.prototype.values=function(){var g=[];return this.forEach(function(w){g.push(w)}),h(g)},y.prototype.entries=function(){var g=[];return this.forEach(function(w,B){g.push([B,w])}),h(g)},d.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);var S=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(g,w){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var B,q,H=(w=w||{}).body;if(g instanceof v){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,w.headers||(this.headers=new y(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,H||g._bodyInit==null||(H=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=w.credentials||this.credentials||"same-origin",!w.headers&&this.headers||(this.headers=new y(w.headers)),this.method=(B=w.method||this.method||"GET",q=B.toUpperCase(),S.indexOf(q)>-1?q:B),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(H),!(this.method!=="GET"&&this.method!=="HEAD"||w.cache!=="no-store"&&w.cache!=="no-cache")){var W=/([?&])_=[^&]*/;W.test(this.url)?this.url=this.url.replace(W,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function R(g){var w=new FormData;return g.trim().split("&").forEach(function(B){if(B){var q=B.split("="),H=q.shift().replace(/\+/g," "),W=q.join("=").replace(/\+/g," ");w.append(decodeURIComponent(H),decodeURIComponent(W))}}),w}function D(g,w){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.ok=this.status>=200&&this.status<300,this.statusText=w.statusText===void 0?"":""+w.statusText,this.headers=new y(w.headers),this.url=w.url||"",this._initBody(g)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},A.call(v.prototype),A.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},D.error=function(){var g=new D(null,{status:0,statusText:""});return g.type="error",g};var k=[301,302,303,307,308];D.redirect=function(g,w){if(k.indexOf(w)===-1)throw new RangeError("Invalid status code");return new D(null,{status:w,headers:{location:g}})};var j=u.DOMException;try{new j}catch{(j=function(w,B){this.message=w,this.name=B;var q=Error(w);this.stack=q.stack}).prototype=Object.create(Error.prototype),j.prototype.constructor=j}function C(g,w){return new Promise(function(B,q){var H=new v(g,w);if(H.signal&&H.signal.aborted)return q(new j("Aborted","AbortError"));var W=new XMLHttpRequest;function Ie(){W.abort()}W.onload=function(){var se,Te,P={status:W.status,statusText:W.statusText,headers:(se=W.getAllResponseHeaders()||"",Te=new y,se.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(T){return T.indexOf(`
`)===0?T.substr(1,T.length):T}).forEach(function(T){var G=T.split(":"),L=G.shift().trim();if(L){var z=G.join(":").trim();Te.append(L,z)}}),Te)};P.url="responseURL"in W?W.responseURL:P.headers.get("X-Request-URL");var O="response"in W?W.response:W.responseText;setTimeout(function(){B(new D(O,P))},0)},W.onerror=function(){setTimeout(function(){q(new TypeError("Network request failed"))},0)},W.ontimeout=function(){setTimeout(function(){q(new TypeError("Network request failed"))},0)},W.onabort=function(){setTimeout(function(){q(new j("Aborted","AbortError"))},0)},W.open(H.method,function(se){try{return se===""&&u.location.href?u.location.href:se}catch{return se}}(H.url),!0),H.credentials==="include"?W.withCredentials=!0:H.credentials==="omit"&&(W.withCredentials=!1),"responseType"in W&&(d.blob?W.responseType="blob":d.arrayBuffer&&H.headers.get("Content-Type")&&H.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(W.responseType="arraybuffer")),!w||a(w.headers)!=="object"||w.headers instanceof y?H.headers.forEach(function(se,Te){W.setRequestHeader(Te,se)}):Object.getOwnPropertyNames(w.headers).forEach(function(se){W.setRequestHeader(se,p(w.headers[se]))}),H.signal&&(H.signal.addEventListener("abort",Ie),W.onreadystatechange=function(){W.readyState===4&&H.signal.removeEventListener("abort",Ie)}),W.send(H._bodyInit===void 0?null:H._bodyInit)})}C.polyfill=!0,u.fetch||(u.fetch=C,u.Headers=y,u.Request=v,u.Response=D)},519:function(s,i,l){var a=this&&this.__assign||function(){return a=Object.assign||function(P){for(var O,T=1,G=arguments.length;T<G;T++)for(var L in O=arguments[T])Object.prototype.hasOwnProperty.call(O,L)&&(P[L]=O[L]);return P},a.apply(this,arguments)},u=this&&this.__createBinding||(Object.create?function(P,O,T,G){G===void 0&&(G=T);var L=Object.getOwnPropertyDescriptor(O,T);L&&!("get"in L?!O.__esModule:L.writable||L.configurable)||(L={enumerable:!0,get:function(){return O[T]}}),Object.defineProperty(P,G,L)}:function(P,O,T,G){G===void 0&&(G=T),P[G]=O[T]}),d=this&&this.__exportStar||function(P,O){for(var T in P)T==="default"||Object.prototype.hasOwnProperty.call(O,T)||u(O,P,T)};Object.defineProperty(i,"__esModule",{value:!0}),i.isScriptedAggregation=i.isFieldAggregation=i.isAggregation=i.isContextItem=i.isStringTreeSuggestField=i.isMultiValueField=i.isSingleValueField=i.createTunnel=i.connect=void 0;var c=l(641),f=l(845),m=l(931),p=l(724);l(470);var h=l(21);d(l(801),i);var y=l(8),b=l(803),_=l(548);d(l(735),i),d(l(776),i);var E=l(613),I=l(867),A=l(826),S=l(26);d(l(805),i);var v=function(){function P(O){this.communicator=O}return P.prototype.navigate=function(O,T){return this.communicator.invokeRelaxed("navigate",O,T)},P.prototype.navigateWithRecord=function(O,T,G,L){return this.communicator.invokeRelaxed("navigateWithRecord",O,T,G,L)},P.prototype.navigateWithRecords=function(O,T,G,L){return this.communicator.invokeRelaxed("navigateWithRecords",O,T,G,L)},P.prototype.navigateToDossier=function(O,T,G,L,z){return this.communicator.invokeRelaxed("navigateToDossier",O,T,G,L,z)},P}(),R=function(){function P(O,T){this.communicator=T,this._navigationScheduler=function(G){return setTimeout(function(){G()},0)},this._intents=(O.intents||[]).slice(),this._reloadSupported=O.reloadSupported,this._supportedNavigationModes=(O.backNavigationModes||[]).slice(),this._navigator=new v(T)}return Object.defineProperty(P.prototype,"intents",{get:function(){return this._intents.slice()},enumerable:!1,configurable:!0}),P.prototype.isBackwardNavigationModeSupported=function(O){return O==="NONE"||this._supportedNavigationModes.indexOf(O)>-1},P.prototype.setBackwardNavigationMode=function(O){return this.isBackwardNavigationModeSupported(O)?this.communicator.invoke("setBackwardNavigationMode",O):Promise.reject(new Error("Navigation mode is not supported"))},P.prototype.navigate=function(){for(var O,T=[],G=0;G<arguments.length;G++)T[G]=arguments[G];T.length>=1&&(O=T[0]);var L=new p.NavigationBuilder(this._navigator).withIntent(O);return this.triggerNavigation(L),L},P.prototype.navigateWithRecord=function(){for(var O,T,G,L=[],z=0;z<arguments.length;z++)L[z]=arguments[z];L.length>=2&&(O=L[0],T=L[1]),L.length>=3&&(G=L[2]);var K=new p.NavigationWithRecordBuilder(this._navigator).withObjectType(O).withGguid(T).withIntent(G);return this.triggerNavigation(K),K},P.prototype.navigateWithRecords=function(){for(var O,T,G,L,z=[],K=0;K<arguments.length;K++)z[K]=arguments[K];z.length>=2&&(O=z[0],G=z[1]),z.length>=3&&(T=z[2]),z.length>=4&&(L=z[3]);var ie=new p.NavigationWithRecordsBuilder(this._navigator).withObjectType(O).withGguids(G).withSelectedGguid(T).withIntent(L);return this.triggerNavigation(ie),ie},P.prototype.navigateToDossier=function(){for(var O,T,G,L=[],z=0;z<arguments.length;z++)L[z]=arguments[z];L.length>=2&&(O=L[0],T=L[1]),L.length>=3&&(G=L[2]);var K=new p.NavigationWithDossierBuilder(this._navigator).withSourceGguid(T).withSourceObjectType(O).withIntent(G);return this.triggerNavigation(K),K},Object.defineProperty(P.prototype,"reloadSupported",{get:function(){return this._reloadSupported},enumerable:!1,configurable:!0}),P.prototype.reload=function(){return this.reloadSupported?this.communicator.invoke("reload"):Promise.reject(new Error("Reload is not supported"))},P.prototype.navigateBack=function(){return this.communicator.invoke("navigateBack")},P.prototype.navigateHome=function(){return this.communicator.invoke("navigateHome")},P.prototype.urlChanged=function(O){return this.communicator.invoke("urlChanged",O)},P.prototype.triggerNavigation=function(O){this._navigationScheduler(function(){return O.navigate()})},P}(),D=function(){function P(O,T){this.initParameters=O,this.communicator=T,this._openSearchSupported=O.openSearchSupported}return Object.defineProperty(P.prototype,"openSearchSupported",{get:function(){return this._openSearchSupported},enumerable:!1,configurable:!0}),P.prototype.openSearch=function(O,T){var G=this;if(!this.openSearchSupported)return Promise.reject(new Error("OpenSearch api method is not supported"));if(this.isSearchPending)return Promise.reject(new Error("The OpenSearch method can not be executed simultaneously, the operation is already in a pending state."));var L=this.communicator.invokeRelaxed("openSearch",O,T);return this.isSearchPending=!0,L.then(function(z){return G.isSearchPending=!1,z}).catch(function(z){throw G.isSearchPending=!1,z})},P}(),k=function(){function P(O,T){this.initparameters=O,this.communicator=T}return Object.defineProperty(P.prototype,"appSettingsSupported",{get:function(){return this.initparameters.appSettingsSupported},enumerable:!1,configurable:!0}),P.prototype.getAppSettings=function(O,T){if(O===void 0&&(O="EFFECTIVE"),T===void 0&&(T=null),!this.appSettingsSupported)throw new Error("App settings API is not supported");return new S.AppSettingsImpl(this.communicator,O,T)},P}(),j=function(){function P(O,T){this.initParameters=O,this.communicator=T,this._openSupported=O.openDialogSupported}return Object.defineProperty(P.prototype,"openSupported",{get:function(){return this._openSupported},enumerable:!1,configurable:!0}),P.prototype.alert=function(O,T,G){return this.open({title:O,message:T,style:G})},P.prototype.confirm=function(O,T,G){return this.open({title:O,message:T,buttons:y.DialogButtonPreset_YES_NO,style:G})},P.prototype.open=function(O){return this.openSupported?this.communicator.invokeRelaxed("openDialog",(0,b.getEffectiveOptions)(O)).then(function(T){return new b.DialogResultImpl(T)}):Promise.reject(new Error("Dialog API is not supported"))},P}(),C=function(){function P(O,T,G){var L=this;this.communicator=T,this.contextItemEnhancer=G,this._callbacks=[],this._updateSupported=O.stateUpdateSupported,this._onChangeSupported=O.stateOnChangeSupported,this._current=this.enhanceWithAPIMethods(O.state||{}),this.communicator.expose({setState:function(z){return L.setState(z)}},"setState"),setTimeout(function(){L.fireStateChange(!0)},0)}return Object.defineProperty(P.prototype,"onChangeSupported",{get:function(){return this._onChangeSupported},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"updateSupported",{get:function(){return this._updateSupported},enumerable:!1,configurable:!0}),P.prototype.onChange=function(O){var T=this;return this._callbacks.push(O),{dispose:function(){T._callbacks=T._callbacks.filter(function(G){return G!==O})}}},P.prototype.update=function(){var O=this;return this.updateSupported?this.communicator.invoke("updateState",this._current).then(function(){return O._current}):Promise.reject(new Error("UpdateState api method is not supported"))},Object.defineProperty(P.prototype,"current",{get:function(){return this._current},enumerable:!1,configurable:!0}),P.prototype.setState=function(O){this._current=this.enhanceWithAPIMethods(O),this.fireStateChange(!1)},P.prototype.enhanceWithAPIMethods=function(O){var T=this;return O&&Object.keys(O).forEach(function(G){var L=O[G];((0,i.isContextItem)(L)||(0,i.isFieldAggregation)(L)||(0,i.isScriptedAggregation)(L))&&(O[G]=T.contextItemEnhancer(L))}),O},P.prototype.fireStateChange=function(O){var T=this;this.onChangeSupported&&this._callbacks.forEach(function(G){return G(T._current,O)})},P}(),g=function(){function P(O){this.handler=O}return P.prototype.onActivationChanged=function(O){this.handler(O)},P}(),w=function(){function P(O){this.communicator=O}return P.prototype.registerListener=function(O){var T=this,G=new g(O),L=(0,h.getMethods)(G).map(function(z){return T.communicator.expose(G,z)});return{dispose:function(){L.forEach(function(z){return z()})}}},P}(),B=function(){function P(O){this.devicesSupported=O.devicesSupported}return P.prototype.getDevice=function(O){return O!="BarcodeScanner"&&O!="NFCReader"?Promise.reject(new Error('Accessing device with type "'.concat(O,'" is not supported!'))):this.devicesSupported?Promise.reject(new Error("Accessing devices are not implemented!")):Promise.reject(new Error("Accessing devices are not supported!"))},P}(),q=function(){function P(O,T,G,L){this.communicator=T,this.fieldValueChangeNotifier=G,this.contextItemChangeNotifier=L;var z=this.enhanceContextItemWithAPIMethods(O.primaryDataObject),K=this.enhanceContextItemWithAPIMethods(O.primaryMassData);this.primaryDataObject=(z==null?void 0:z.type)=="DataObject"?z:void 0,this.primaryMassData=(K==null?void 0:K.type)=="MassData"?K:void 0,this.primaryDataObjectAccessorSupported=O.primaryDataObjectAccessorSupported,this.primaryMassDataAccessorSupported=O.primaryMassDataAccessorSupported}return P.prototype.enhanceContextItemWithAPIMethods=function(O){if(O)return O.type=="DataObject"?new _.RuntimeDataObjectContextItem(O,this.contextItemChangeNotifier,this.fieldValueChangeNotifier,this.communicator):O.type=="MassData"?new _.RuntimeMassDataObjectContextItem(O,this.contextItemChangeNotifier,this.communicator):O.type=="DependentDataObjects"?new _.RuntimeDependentDataObjectsContextItem(O,this.contextItemChangeNotifier,this.communicator):(0,i.isScriptedAggregation)(O)?new _.RuntimeScriptedAggregation(O,this.contextItemChangeNotifier,this.communicator):(0,i.isFieldAggregation)(O)?new _.RuntimeFieldAggregation(O,this.contextItemChangeNotifier,this.communicator):O.type=="Aggregation"?O.grouped?new _.RuntimeGroupedAggregation(O,this.contextItemChangeNotifier,this.communicator):new _.RuntimeUngroupedAggregation(O,this.contextItemChangeNotifier,this.communicator):void 0},P.prototype.getPrimaryDataObject=function(){return this.primaryDataObjectAccessorSupported?Promise.resolve(this.primaryDataObject):Promise.reject(new Error("Accessing the primary data object is not supported"))},P.prototype.getPrimaryMassData=function(){return this.primaryMassDataAccessorSupported?Promise.resolve(this.primaryMassData):Promise.reject(new Error("Accessing the primary mass data is not supported"))},P}(),H=function(){function P(O,T){this.communicator=T,this.pointIds={actionMenu:I.ACTION_MENU_ID,viewMenu:I.VIEW_MENU_ID},this._commandRegistry=new A.CommandRegistry(this.communicator),this.commandsSupported=O.commandsSupported}return P.prototype.contributeGroup=function(O){return this.commandsSupported?this._commandRegistry.contributeGroup(O):{dispose:function(){}}},P.prototype.contributeCommand=function(O){return this.commandsSupported?this._commandRegistry.contributeCommand(O):{dispose:function(){}}},P}(),W=function(){function P(O,T){this.communicator=T,this.flyoutMenuSupported=O.flyoutMenuSupported,this.radialMenuSupported=O.radialMenuSupported}return P.prototype.openFlyoutMenu=function(O,T){if(!this.flyoutMenuSupported)return Promise.reject(new Error("Opening a flyout menu is not supported!"));var G=document.activeElement,L=this.communicator.invokeRelaxed("openFlyoutMenu",O,T);return L.then(function(z){return G&&G.focus&&G.focus(),z}),L},P.prototype.openRadialMenu=function(O,T,G){if(!this.radialMenuSupported)return Promise.reject(new Error("Opening a radial menu is not supported!"));var L=document.activeElement,z=this.communicator.invokeRelaxed("openRadialMenu",O,T,G);return z.then(function(K){return L&&L.focus&&L.focus(),K}),z},P}(),Ie=function(){function P(O,T){this.initParameters=O,this.communicator=T}return P.prototype.show=function(O){return this.communicator.invoke("showLoadingIndicator",O)},P.prototype.hide=function(){return this.communicator.invoke("hideLoadingIndicator")},P.prototype.showDuring=function(O,T){var G=this;return this.show(T).then(function(){return O.catch(function(){return null}).then(function(){return G.hide()})})},Object.defineProperty(P.prototype,"showSupported",{get:function(){return this.initParameters.loadingIndicatorShowSupported},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"blockSupported",{get:function(){return this.initParameters.loadingIndicatorBlockSupported},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"blockHostSupported",{get:function(){return this.initParameters.loadingIndicatorBlockHostSupported},enumerable:!1,configurable:!0}),P}(),se=function(){function P(O,T){this.initParameters=O,this.communicator=T,this._fieldValueChangeNotifier=new _.FieldValueChangeNotifier(this.communicator),this._contextItemChangeNotifier=new _.ContextItemChangeNotifier(this.communicator),this.Navigation=new R(this.initParameters,this.communicator),this.Search=new D(this.initParameters,this.communicator),this.Settings=new k(this.initParameters,this.communicator),this.Dialog=new j(this.initParameters,this.communicator),this.ActivationService=new w(this.communicator),this.InputDevice=new B(this.initParameters);var G=new q(this.initParameters,this.communicator,this._fieldValueChangeNotifier,this._contextItemChangeNotifier);this.Context=G,this.State=new C(this.initParameters,this.communicator,function(L){return G.enhanceContextItemWithAPIMethods(L)}),this.Overlay=new W(this.initParameters,this.communicator),this.LoadingIndicator=new Ie(this.initParameters,this.communicator),this.Command=new H(this.initParameters,this.communicator)}return Object.defineProperty(P.prototype,"locale",{get:function(){return this.initParameters.locale!=null?a({},this.initParameters.locale):null},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"restEnabled",{get:function(){return this.initParameters.restEnabled},enumerable:!1,configurable:!0}),P.prototype.inheritDesignTokens=function(O){O===void 0&&(O=!0);var T=a(a({},E.default),this.initParameters.designTokens||{});if(O){var G=Te(T),L=document.createElement("style");L.innerText=G,document.head.appendChild(L)}return T},P.prototype.provideCaption=function(O){return this.communicator.invoke("provideCaption",O)},P.prototype.fetch=function(O,T){return this.initParameters.restEnabled?(O=this.initParameters.baseUrl+O,(T=T||{}).mode="cors",T.headers=T.headers||[],this.addMissingHeader(T.headers,"SMARTDESIGN-TOKEN",this.initParameters.token),this.addMissingHeader(T.headers,"Accept","application/json"),T.body&&this.addMissingHeader(T.headers,"Content-Type","application/json"),fetch(O,T)):Promise.reject(new Error("Rest API is disabled"))},P.prototype.trackUrlChanges=function(){var O=this;(0,f.trackUrlChanges)(function(T){return O.Navigation.urlChanged(T)})},P.prototype.requestResize=function(O,T){return this.communicator.invoke("requestResize",O,T)},P.prototype.addMissingHeader=function(O,T,G){O instanceof Headers?O.has(T)||O.append(T,G):Array.isArray(O)?O.filter(function(L){return L[0].toLowerCase()===T.toLowerCase()}).length===0&&O.push([T,G]):O[T]||(O[T]=G)},P}();i.connect=function(P,O,T,G){return P===void 0&&(P=window.location.origin),G===void 0&&(G=1e4),new Promise(function(L){setTimeout(function(){window.SD_DIRECT?(window.SD_DIRECT.initApp(),function z(){window.SD_DIRECT_API?L(window.SD_DIRECT_API):requestAnimationFrame(z)}()):L(window.SD_DIRECT_API)},0)}).then(function(L){if(L)return Promise.resolve(L);var z=new Promise(function(ce){document.readyState==="complete"?ce(void 0):window.addEventListener("load",ce)}),K=T||function(){return window},ie=new c.Communicator(P,O||function(){return window.parent},K,G),M=K(),oe=M.location?M.location.origin:void 0;return z.then(function(){return ie.invoke("initApp",oe)}).then(function(ce){return new se(ce,ie)})})},i.createTunnel=function(P,O){return P===void 0&&(P=""),(0,m.createTunnel)(P,O)},i.isSingleValueField=function(P){return!Array.isArray(P.value)},i.isMultiValueField=function(P){return!(0,i.isStringTreeSuggestField)(P)&&Array.isArray(P.value)},i.isStringTreeSuggestField=function(P){return P.root!=null},i.isContextItem=function(P){var O=P,T=P,G=P;return O&&O.type!=null&&O.name!=null&&!T.fieldAggregation&&!G.scriptedAggregation},i.isAggregation=function(P){return!(!(0,i.isScriptedAggregation)(P)&&!(0,i.isFieldAggregation)(P))||(0,i.isContextItem)(P)&&P.type==="Aggregation"},i.isFieldAggregation=function(P){var O=P;return O&&O.type==="Aggregation"&&O.name!=null&&O.fieldAggregation},i.isScriptedAggregation=function(P){var O=P;return O&&O.type==="ScriptedAggregation"&&O.name!=null&&O.scriptedAggregation};var Te=function(P){return`:root * {
    `.concat(Object.keys(P).map(function(O){return"--".concat(O,": ").concat(P[O],";")}).join(`
`),`
    }`)}},845:function(s,i){var l=this&&this.__read||function(c,f){var m=typeof Symbol=="function"&&c[Symbol.iterator];if(!m)return c;var p,h,y=m.call(c),b=[];try{for(;(f===void 0||f-- >0)&&!(p=y.next()).done;)b.push(p.value)}catch(_){h={error:_}}finally{try{p&&!p.done&&(m=y.return)&&m.call(y)}finally{if(h)throw h.error}}return b},a=this&&this.__spreadArray||function(c,f,m){if(m||arguments.length===2)for(var p,h=0,y=f.length;h<y;h++)!p&&h in f||(p||(p=Array.prototype.slice.call(f,0,h)),p[h]=f[h]);return c.concat(p||Array.prototype.slice.call(f))};Object.defineProperty(i,"__esModule",{value:!0}),i.trackUrlChanges=i.UrlChangeTracker=void 0;var u=function(){function c(){}return c.prototype.track=function(f){var m=this;history.pushState&&window.addEventListener&&(this.path=this.getPath(),history.pushState=this.wrapWithHandleUrlChange(history,f,history.pushState),history.replaceState=this.wrapWithHandleUrlChange(history,f,history.replaceState),window.addEventListener("hashchange",function(){return m.handleUrlChange(f,!0)}),window.addEventListener("popstate",function(){return m.handleUrlChange(f,!0)}))},c.prototype.wrapWithHandleUrlChange=function(f,m,p){var h=this;return function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];p.apply.apply(p,a([f],l(y),!1)),h.handleUrlChange(m,!0)}},c.prototype.getPath=function(){return location.href},c.prototype.handleUrlChange=function(f,m){var p=this;setTimeout(function(){var h=p.path,y=p.getPath();h!==y&&(p.path=y,m&&f(y))},0)},c}();i.UrlChangeTracker=u;var d=new u;i.trackUrlChanges=function(c){d.track(c)}},867:function(s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.VIEW_MENU_ID=i.ACTION_MENU_ID=void 0,i.ACTION_MENU_ID="actionMenu",i.VIEW_MENU_ID="viewMenu"},826:function(s,i){var l=this&&this.__assign||function(){return l=Object.assign||function(u){for(var d,c=1,f=arguments.length;c<f;c++)for(var m in d=arguments[c])Object.prototype.hasOwnProperty.call(d,m)&&(u[m]=d[m]);return u},l.apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0}),i.CommandRegistry=void 0;var a=function(){function u(d){var c=this;this.communicator=d,this.commandRegistry=new Map,this.communicator.expose({invokeCommand:function(f){return c.invokeCommand(f)}},"invokeCommand")}return u.prototype.invokeCommand=function(d){var c=this.commandRegistry.get(d);c&&c.callback()},u.prototype.contributeGroup=function(d){return this.contributeCommand(l(l({},d),{group:!0}))},u.prototype.contributeCommand=function(d){var c=this;if(!d.id)throw new Error("Command must be defined with a non-empty, unique id!");if(this.commandRegistry.has(d.id))throw new Error('Command is already defined with the id "'.concat(d.id,'"!'));return this.isCommand(d)&&this.commandRegistry.set(d.id,d),this.communicator.invoke("contributeCommand",d),{dispose:function(){c.commandRegistry.delete(d.id),c.communicator.invoke("revokeCommand",d.id)}}},u.prototype.isCommand=function(d){return d&&!d.group&&d.callback!=null},u}();i.CommandRegistry=a},641:function(s,i,l){var a=this&&this.__read||function(m,p){var h=typeof Symbol=="function"&&m[Symbol.iterator];if(!h)return m;var y,b,_=h.call(m),E=[];try{for(;(p===void 0||p-- >0)&&!(y=_.next()).done;)E.push(y.value)}catch(I){b={error:I}}finally{try{y&&!y.done&&(h=_.return)&&h.call(_)}finally{if(b)throw b.error}}return E},u=this&&this.__spreadArray||function(m,p,h){if(h||arguments.length===2)for(var y,b=0,_=p.length;b<_;b++)!y&&b in p||(y||(y=Array.prototype.slice.call(p,0,b)),y[b]=p[b]);return m.concat(y||Array.prototype.slice.call(p))};Object.defineProperty(i,"__esModule",{value:!0}),i.Communicator=void 0;var d=l(73),c=l(991),f=function(){function m(p,h,y,b){b===void 0&&(b=1e4),this.targetOrigin=p,this.target=h,this.source=y,this.defaultTimeout=b}return m.prototype.parseJSON=function(p){try{return JSON.parse(p)}catch{return}},m.prototype.unwrapMessage=function(p){return this.parseJSON(p)},m.prototype.wrapMessage=function(p){return JSON.stringify(p)},m.prototype.expose=function(p,h){var y=this,b=function(_){if(_.source===y.target()){var E=y.unwrapMessage(_.data);if(E){var I=E.params;h===E.action&&function(A){return new Promise(function(S,v){try{S(p[h].apply(p,u([],a(A),!1)))}catch(R){v(R)}})}(I).then(function(A){return new c.SDMessage(h,void 0,void 0,void 0,d.MessageStatus.OK,A)}).catch(function(A){return console.error("Remote method invocation failed.",A),new c.SDMessage(h,void 0,void 0,A instanceof Error?A.message||"ERROR":A,d.MessageStatus.ERROR_UNKNOWN,void 0)}).then(function(A){A.tag=E.tag,A.source=E.source,A.target=E.target,y.target().postMessage(y.wrapMessage(A),y.targetOrigin)})}}};return this.source().addEventListener("message",b,!1),function(){return y.source().removeEventListener("message",b)}},m.prototype.invoke=function(p){for(var h=this,y=[],b=1;b<arguments.length;b++)y[b-1]=arguments[b];var _=null,E=new Promise(function(A,S){_=setTimeout(function(){S(new Error("Remote method ("+p+") invocation failed: Timeout"))},h.defaultTimeout)}),I=this.invokeRelaxed.apply(this,u([p],a(y),!1));return I.then(function(){return clearTimeout(_)},function(){return clearTimeout(_)}),Promise.race([E,I])},m.prototype.invokeRelaxed=function(p){for(var h=this,y=[],b=1;b<arguments.length;b++)y[b-1]=arguments[b];return new Promise(function(_,E){var I=h.postInternal.apply(h,u([p],a(y),!1));h.source().addEventListener("message",function A(S){if(S.source===h.target()){var v=h.unwrapMessage(S.data);if(v){if(I.tag!==v.tag)return;h.source().removeEventListener("message",A),v.status!==d.MessageStatus.OK||v.error?E(new Error(v.error||v.payload)):_(v.payload)}}},!1)})},m.prototype.postInternal=function(p){for(var h=[],y=1;y<arguments.length;y++)h[y-1]=arguments[y];var b=new c.SDMessage(p,h,void 0,void 0,void 0,void 0);return this.target().postMessage(this.wrapMessage(b),this.targetOrigin),b},m.prototype.post=function(p){for(var h=[],y=1;y<arguments.length;y++)h[y-1]=arguments[y];this.postInternal.apply(this,u([p],a(h),!1))},m}();i.Communicator=f},735:function(s,i){Object.defineProperty(i,"__esModule",{value:!0})},805:function(s,i){Object.defineProperty(i,"__esModule",{value:!0})},8:function(s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.DialogStyle_ERROR=i.DialogStyle_WARNING=i.DialogStyle_INFO=i.DialogButtonPreset_YES_NO_CANCEL=i.DialogButtonPreset_YES_NO=i.DialogButtonPreset_OK_CANCEL=i.DialogButtonPreset_OK=i.DialogButtonId_CANCEL=i.DialogButtonId_NO=i.DialogButtonId_YES=i.DialogButtonId_OK=void 0,i.DialogButtonId_OK="OK",i.DialogButtonId_YES="YES",i.DialogButtonId_NO="NO",i.DialogButtonId_CANCEL="CANCEL",i.DialogButtonPreset_OK="OK",i.DialogButtonPreset_OK_CANCEL="OK_CANCEL",i.DialogButtonPreset_YES_NO="YES_NO",i.DialogButtonPreset_YES_NO_CANCEL="YES_NO_CANCEL",i.DialogStyle_INFO="INFO",i.DialogStyle_WARNING="WARNING",i.DialogStyle_ERROR="ERROR"},803:function(s,i,l){var a=this&&this.__assign||function(){return a=Object.assign||function(f){for(var m,p=1,h=arguments.length;p<h;p++)for(var y in m=arguments[p])Object.prototype.hasOwnProperty.call(m,y)&&(f[y]=m[y]);return f},a.apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0}),i.getEffectiveOptions=i.DialogResultImpl=void 0;var u=l(8),d={title:null,message:null,buttons:u.DialogButtonPreset_OK,style:u.DialogStyle_INFO},c=function(){function f(m){this.buttonId=m.buttonId}return f.prototype.wasConfirmed=function(){return this.buttonId===u.DialogButtonId_OK||this.buttonId===u.DialogButtonId_YES},f}();i.DialogResultImpl=c,i.getEffectiveOptions=function(f){var m=a({},d);if(Object.keys(f||{}).filter(function(y){return f[y]!==void 0}).forEach(function(y){return m[y]=f[y]}),!(m.buttons instanceof Array)){var p=m.buttons||u.DialogButtonPreset_OK,h=[];p!==u.DialogButtonPreset_OK&&p!==u.DialogButtonPreset_OK_CANCEL||h.push({id:u.DialogButtonId_OK,caption:null,primary:p===u.DialogButtonPreset_OK}),p!==u.DialogButtonPreset_YES_NO&&p!==u.DialogButtonPreset_YES_NO_CANCEL||(h.push({id:u.DialogButtonId_YES,caption:null}),h.push({id:u.DialogButtonId_NO,caption:null,primary:p===u.DialogButtonPreset_YES_NO})),p!==u.DialogButtonPreset_YES_NO_CANCEL&&p!==u.DialogButtonPreset_OK_CANCEL||h.push({id:u.DialogButtonId_CANCEL,caption:null,primary:!0}),m.buttons=h}return m.buttons.forEach(function(y){y.caption=y.caption||null,y.id=y.id||null,y.primary=y.primary||!1}),m}},801:function(s,i){Object.defineProperty(i,"__esModule",{value:!0})},21:function(s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.getMethods=void 0,i.getMethods=function(l){for(var a=[],u=function(c){return!function(f){return f==="constructor"}(c)&&function(f){return typeof l[f]=="function"}(c)};(l=Object.getPrototypeOf(l))&&l!==Object.prototype;){var d=Object.getOwnPropertyNames(l).filter(function(c){return u(c)});a=a.concat(d)}return a.sort().filter(function(c,f,m){return c!==m[f+1]})}},73:function(s,i){var l,a;Object.defineProperty(i,"__esModule",{value:!0}),i.Message=i.MessageStatus=i.Tier=void 0,function(d){d[d.INTERAPP=0]="INTERAPP",d[d.CONTAINER=1]="CONTAINER",d[d.BROADCAST=2]="BROADCAST"}(l||(i.Tier=l={})),function(d){d[d.OK=0]="OK",d[d.NOT_INITIALIZED=1]="NOT_INITIALIZED",d[d.NOT_AUTHORIZED=2]="NOT_AUTHORIZED",d[d.INVALIDATED=3]="INVALIDATED",d[d.ERROR_NOT_AVAILABLE=248]="ERROR_NOT_AVAILABLE",d[d.ERROR_HOST=249]="ERROR_HOST",d[d.ERROR_TIMEOUT=250]="ERROR_TIMEOUT",d[d.ERROR_INVALID_PARAMS=251]="ERROR_INVALID_PARAMS",d[d.ERROR_NO_SUCH_METHOD=252]="ERROR_NO_SUCH_METHOD",d[d.ERROR_SERVICE=253]="ERROR_SERVICE",d[d.ERROR_PARSE=254]="ERROR_PARSE",d[d.ERROR_UNKNOWN=255]="ERROR_UNKNOWN"}(a||(i.MessageStatus=a={}));var u=function(){function d(c,f,m,p,h,y){f===void 0&&(f={}),y===void 0&&(y={}),this.action=c,this.params=f,this.meta=m,this.error=p,this.status=h,this.payload=y,this.tag=this.UUID(),this.meta={apiVersion:2,tier:l.INTERAPP,timestamp:new Date().getTime()}}return d.prototype.setTier=function(c){c&&(this.meta.tier=c)},d.prototype.UUID=function(){if(window.crypto!==void 0&&window.crypto.getRandomValues!==void 0){var c=new Uint16Array(8);window.crypto.getRandomValues(c);var f=function(p){for(var h=p.toString(16);h.length<4;)h="0"+h;return h};return f(c[0])+f(c[1])+"-"+f(c[2])+"-"+f(c[3])+"-"+f(c[4])+"-"+f(c[5])+f(c[6])+f(c[7])}var m=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return m()+m()+"-"+m()+"-"+m()+"-"+m()+"-"+m()+m()+m()},d}();i.Message=u},724:function(s,i){var l,a=this&&this.__extends||(l=function(m,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(h[b]=y[b])},l(m,p)},function(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function h(){this.constructor=m}l(m,p),m.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)});Object.defineProperty(i,"__esModule",{value:!0}),i.NavigationWithDossierBuilder=i.NavigationWithRecordsBuilder=i.NavigationWithRecordBuilder=i.NavigationBuilder=void 0;var u=function(){function m(p){this.navigator=p,this._newTab=!1}return m.prototype.navigate=function(){return this._navigation||(this._navigation=this.invokeNavigation()),this._navigation},m.prototype.withIntent=function(p){return this._intentName=p,this},m.prototype.openOnNewTab=function(p){return p===void 0&&(p=!0),this._newTab=p,this},m.prototype.invokeNavigation=function(){var p={newTab:this._newTab};return this.navigator.navigate(this._intentName,p)},m.prototype.then=function(p,h){return this.navigate().then(p,h)},m.prototype.catch=function(p){return this.navigate().then(null,p)},m}();i.NavigationBuilder=u;var d=function(m){function p(){var h=m!==null&&m.apply(this,arguments)||this;return h._editMode=!1,h}return a(p,m),p.prototype.openEditMode=function(h){return h===void 0&&(h=!0),this._editMode=h,this},p.prototype.withObjectType=function(h){return this._objectType=h,this},p.prototype.withGguid=function(h){return this._gguid=h,this},p.prototype.invokeNavigation=function(){var h={newTab:this._newTab,editMode:this._editMode};return this.navigator.navigateWithRecord(this._objectType,this._gguid,this._intentName,h)},p}(u);i.NavigationWithRecordBuilder=d;var c=function(m){function p(){return m!==null&&m.apply(this,arguments)||this}return a(p,m),p.prototype.withObjectType=function(h){return this._objectType=h,this},p.prototype.withSelectedGguid=function(h){return this._selectedGguid=h,this},p.prototype.withGguids=function(h){return this._gguids=h,this},p.prototype.invokeNavigation=function(){var h={newTab:this._newTab},y={selectedGuid:this._selectedGguid?this._selectedGguid:null,gguids:this._gguids};return this.navigator.navigateWithRecords(this._objectType,y,this._intentName,h)},p}(u);i.NavigationWithRecordsBuilder=c;var f=function(m){function p(){return m!==null&&m.apply(this,arguments)||this}return a(p,m),p.prototype.withSourceObjectType=function(h){return this._sourceObjectType=h,this},p.prototype.withSourceGguid=function(h){return this._sourceGguid=h,this},p.prototype.withSelectedObjectType=function(h){return this._selectedObjectType=h,this},p.prototype.withSelectedGguid=function(h){return this._selectedGguid=h,this},p.prototype.withTypeToShow=function(h){return this._typesToShow=h,this},p.prototype.invokeNavigation=function(){var h,y={newTab:this._newTab},b={gguid:this._sourceGguid,objectType:this._sourceObjectType};return this._selectedGguid&&this._selectedObjectType&&(h={gguid:this._selectedGguid,objectType:this._selectedObjectType}),this.navigator.navigateToDossier(b,h,this._intentName,this._typesToShow,y)},p}(u);i.NavigationWithDossierBuilder=f},776:function(s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.MenuItemSeparator=void 0,i.MenuItemSeparator={separator:!0}},548:function(s,i){var l,a=this&&this.__extends||(l=function(S,v){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,D){R.__proto__=D}||function(R,D){for(var k in D)Object.prototype.hasOwnProperty.call(D,k)&&(R[k]=D[k])},l(S,v)},function(S,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function R(){this.constructor=S}l(S,v),S.prototype=v===null?Object.create(v):(R.prototype=v.prototype,new R)}),u=this&&this.__read||function(S,v){var R=typeof Symbol=="function"&&S[Symbol.iterator];if(!R)return S;var D,k,j=R.call(S),C=[];try{for(;(v===void 0||v-- >0)&&!(D=j.next()).done;)C.push(D.value)}catch(g){k={error:g}}finally{try{D&&!D.done&&(R=j.return)&&R.call(j)}finally{if(k)throw k.error}}return C},d=this&&this.__spreadArray||function(S,v,R){if(R||arguments.length===2)for(var D,k=0,j=v.length;k<j;k++)!D&&k in v||(D||(D=Array.prototype.slice.call(v,0,k)),D[k]=v[k]);return S.concat(D||Array.prototype.slice.call(v))};function c(S){return S||[]}Object.defineProperty(i,"__esModule",{value:!0}),i.RuntimeScriptedAggregation=i.RuntimeFieldAggregation=i.RuntimeGroupedAggregation=i.RuntimeUngroupedAggregation=i.RuntimeMassDataObjectContextItem=i.RuntimeDependentDataObjectsContextItem=i.RuntimeDataObjectContextItem=i.FieldValueChangeNotifier=i.ContextItemChangeNotifier=void 0;var f=function(){function S(v){this.communicator=v,this.contextItemToListeners={},this.communicator.expose(this,"onContextItemInvalidate")}return S.prototype.onContextItemInvalidate=function(v){this.contextItemToListeners[v]=c(this.contextItemToListeners[v]),this.contextItemToListeners[v].forEach(function(R){return R()})},S.prototype.registerInvalidateInterest=function(v,R){var D=this;return this.contextItemToListeners[v]=c(this.contextItemToListeners[v]),this.contextItemToListeners[v].length==0&&this.communicator.invokeRelaxed("registerContextItemInvalidateInterest",v),this.contextItemToListeners[v].push(R),{dispose:function(){D.contextItemToListeners[v]=c(D.contextItemToListeners[v]),D.contextItemToListeners[v]=D.contextItemToListeners[v].filter(function(k){return k!=R}),D.contextItemToListeners[v].length==0&&D.communicator.invokeRelaxed("unregisterContextItemInvalidateInterest",v)}}},S}();i.ContextItemChangeNotifier=f;var m=function(){function S(v){this.communicator=v,this.aliasToListeners={},this.communicator.expose(this,"onFieldChange")}return S.prototype.onFieldChange=function(v,R,D){var k=this.getAlias(v,R);this.aliasToListeners[k]=c(this.aliasToListeners[k]),this.aliasToListeners[k].forEach(function(j){return j(D)})},S.prototype.getAlias=function(v,R){return"".concat(v,".").concat(R)},S.prototype.registerFieldInterest=function(v,R,D){var k=this,j=this.getAlias(v,R);return this.aliasToListeners[j]=c(this.aliasToListeners[j]),this.aliasToListeners[j].length==0&&this.communicator.invokeRelaxed("registerFieldInterest",v,R),this.aliasToListeners[j].push(D),{dispose:function(){k.aliasToListeners[j]=c(k.aliasToListeners[j]),k.aliasToListeners[j]=k.aliasToListeners[j].filter(function(C){return C!=D}),k.aliasToListeners[j].length==0&&k.communicator.invokeRelaxed("unregisterFieldInterest",v,R)}}},S}();i.FieldValueChangeNotifier=m;var p=function(){function S(v,R,D,k){this.contextItemChangeNotifier=R,this.fieldValueChangeNotifier=D,this.communicator=k,Object.assign(this,v)}return S.prototype.getMetadata=function(){return this.communicator.invokeRelaxed("getMetadata",this.objectTypeName)},S.prototype.onInvalidate=function(v){return this.contextItemChangeNotifier.registerInvalidateInterest(this.name,v)},S.prototype.bindField=function(v,R){return this.getField(v).then(function(D){return R(D)}),this.fieldValueChangeNotifier.registerFieldInterest(this.name,v,function(D){return R(D)})},S.prototype.getField=function(v){return this.communicator.invokeRelaxed("getField",this.name,v)},S.prototype.getFields=function(){for(var v,R=[],D=0;D<arguments.length;D++)R[D]=arguments[D];return(v=this.communicator).invokeRelaxed.apply(v,d(["getFields",this.name],u(R),!1))},S.prototype.updateField=function(v){return this.communicator.invokeRelaxed("updateField",this.name,v)},S.prototype.updateFields=function(v){return this.communicator.invokeRelaxed("updateFields",this.name,v)},S}();i.RuntimeDataObjectContextItem=p;var h=function(){function S(v,R,D){this.contextItemChangeNotifier=R,this.communicator=D,Object.assign(this,v)}return S.prototype.getMetadata=function(){return this.communicator.invokeRelaxed("getMetadata",this.objectTypeName)},S.prototype.onInvalidate=function(v){return this.contextItemChangeNotifier.registerInvalidateInterest(this.name,v)},S.prototype.load=function(v){return this.communicator.invokeRelaxed("dependentDataObjectsOperationLoad",this.name,v)},S}();i.RuntimeDependentDataObjectsContextItem=h;var y=function(){function S(v,R,D){this.contextItemChangeNotifier=R,this.communicator=D,Object.assign(this,v)}return S.prototype.getMetadata=function(){return this.communicator.invokeRelaxed("getMetadata",this.objectTypeName)},S.prototype.onInvalidate=function(v){return this.contextItemChangeNotifier.registerInvalidateInterest(this.name,v)},S.prototype.load=function(v,R,D,k){return this.communicator.invokeRelaxed("massDataOperationLoad",this.name,v,R,D,k)},S.prototype.count=function(){return this.communicator.invokeRelaxed("massDataOperationCount",this.name)},S.prototype.sum=function(v){return this.communicator.invokeRelaxed("massDataOperationSum",this.name,v)},S.prototype.min=function(v){return this.communicator.invokeRelaxed("massDataOperationMin",this.name,v)},S.prototype.max=function(v){return this.communicator.invokeRelaxed("massDataOperationMax",this.name,v)},S.prototype.average=function(v){return this.communicator.invokeRelaxed("massDataOperationAverage",this.name,v)},S}();i.RuntimeMassDataObjectContextItem=y;var b=function(){function S(v,R,D){this.contextItemChangeNotifier=R,this.communicator=D,Object.assign(this,v)}return S.prototype.onInvalidate=function(v){return this.contextItemChangeNotifier.registerInvalidateInterest(this.name,v)},S}(),_=function(S){function v(){return S!==null&&S.apply(this,arguments)||this}return a(v,S),v.prototype.get=function(){return this.communicator.invokeRelaxed("aggregationOperationGet",this.name)},v}(b);i.RuntimeUngroupedAggregation=_;var E=function(S){function v(){return S!==null&&S.apply(this,arguments)||this}return a(v,S),v.prototype.get=function(){return this.communicator.invokeRelaxed("aggregationOperationGet",this.name)},v}(b);i.RuntimeGroupedAggregation=E;var I=function(S){function v(){return S!==null&&S.apply(this,arguments)||this}return a(v,S),v.prototype.get=function(){return this.communicator.invokeRelaxed("aggregationOperationGet",this.name)},v.prototype.getMetadata=function(){return this.communicator.invokeRelaxed("fieldAggregationGetMetadata",this.name)},v}(b);i.RuntimeFieldAggregation=I;var A=function(){function S(v,R,D){this.contextItemChangeNotifier=R,this.communicator=D,Object.assign(this,v)}return S.prototype.onInvalidate=function(v){return this.contextItemChangeNotifier.registerInvalidateInterest(this.name,v)},S.prototype.get=function(){return this.communicator.invokeRelaxed("scriptedAggregationGet",this.name)},S}();i.RuntimeScriptedAggregation=A},26:function(s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.AppSettingsImpl=void 0;var l=function(){function a(u,d,c){this.communicator=u,this.scope=d,this.appId=c}return a.prototype.getAll=function(){return this.communicator.invokeRelaxed("getAllAppSettings",this.appId,this.scope)},a.prototype.setAll=function(u,d){return d===void 0&&(d="EXTEND"),this.communicator.invokeRelaxed("setAllAppSettings",this.appId,this.scope,d,u)},a.prototype.get=function(u){return this.communicator.invokeRelaxed("getAppSettings",this.appId,this.scope,u)},a.prototype.set=function(u,d){var c={};return c[u]=d,this.communicator.invokeRelaxed("setAllAppSettings",this.appId,this.scope,"EXTEND",c)},a.prototype.delete=function(u){return this.communicator.invokeRelaxed("deleteAppSettings",this.appId,this.scope,u)},a}();i.AppSettingsImpl=l},991:function(s,i,l){var a,u=this&&this.__extends||(a=function(c,f){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(m[h]=p[h])},a(c,f)},function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function m(){this.constructor=c}a(c,f),c.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)});Object.defineProperty(i,"__esModule",{value:!0}),i.SDMessage=void 0;var d=function(c){function f(){return c!==null&&c.apply(this,arguments)||this}return u(f,c),f}(l(73).Message);i.SDMessage=d},931:function(s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.createTunnel=void 0,i.createTunnel=function(l,a){l===void 0&&(l="");var u=document.createElement("iframe");return u.tabIndex=-1,u.style.width="0",u.style.height="0",u.style.margin="0",u.style.padding="0",u.style.border="none",u.style.position="absolute",u.style.zIndex="-1",u.style.pointerEvents="none",l.lastIndexOf("/")===l.length-1&&(l=l.substring(0,l.length-1)),u.setAttribute("src",l+"/apps/content/api/tunnel.html"),window.addEventListener("message",function(d){d.data==="ready"&&a&&a()}),u}}},n={};function o(s){var i=n[s];if(i!==void 0)return i.exports;var l=n[s]={exports:{}};return t[s].call(l.exports,l,l.exports,o),l.exports}return o.d=function(s,i){for(var l in i)o.o(i,l)&&!o.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:i[l]})},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o(519)}()})})(pi);var vs=pi.exports,gi={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(self,()=>(()=>{var t={303:function(s,i,l){var a=this&&this.__createBinding||(Object.create?function(R,D,k,j){j===void 0&&(j=k);var C=Object.getOwnPropertyDescriptor(D,k);C&&!("get"in C?!D.__esModule:C.writable||C.configurable)||(C={enumerable:!0,get:function(){return D[k]}}),Object.defineProperty(R,j,C)}:function(R,D,k,j){j===void 0&&(j=k),R[j]=D[k]}),u=this&&this.__exportStar||function(R,D){for(var k in R)k==="default"||Object.prototype.hasOwnProperty.call(D,k)||a(D,R,k)};Object.defineProperty(i,"__esModule",{value:!0}),i.create=void 0;const d=l(195),c=l(151),f=l(493),m=l(246),p=l(711),h=l(348),y=l(146),b=l(764),_=l(560),E=l(399),I=l(37),A=l(345),S=l(26);u(l(389),i);class v{constructor(D,k,j){this.api=new d.RestypedFetch(k,j,D),this.dataObjectService=new c.DataObjectService(this.api,new c.DataObjectNormalizer),this.linkingService=new f.LinkingService(this.api),this.addressService=new p.AddressService(this.api),this.userService=new m.UserService(this.api,this.addressService),this.appointmentService=new h.AppointmentService(this.api),this.serverInformationService=new y.ServerInformationService(this.api),this.emailStoreService=new b.EmailStoreService(this.api,this.dataObjectService),this.viewService=new _.ViewService(this.api),this.groupService=new E.GroupService(this.api),this.resourceService=new I.ResourceService(this.api),this.documentService=new A.DocumentService(this.api,this.dataObjectService),this.settingsService=new S.SettingsService(this.api)}}i.create=function(R,D="6.0",k="common"){return new v(R,D,k)}},711:(s,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GetPartialAddressListRequestBuilder=i.GetAddressListRequestBuilder=i.PutAddressImageRequestBuilder=i.DeleteAddressImageRequestBuilder=i.GetAddressImageAsBlobRequestBuilder=i.GetAddressImageRequestBuilder=i.AddressService=void 0;const a=l(962),u=l(151),d=l(310);i.AddressService=class{constructor(b){this.typedFetch=b}getAddressList(){return new h(this.typedFetch,"address")}getPartialAddressList(){return new y(this.typedFetch,"address")}getAddressImage(b){return new c(this.typedFetch,b)}getAddressImageAsBlob(b){return new f(this.typedFetch,b)}updateAddressImage(b,_){return new p(this.typedFetch,b,_)}deleteAddressImage(b){return new m(this.typedFetch,b)}};class c extends a.RequestBuilder{constructor(_,E){super(_,"/type/address/:dataObjectGGUID/image","GET",{dataObjectGGUID:E},I=>I.arrayBuffer()),this.setAcceptHeader("image/*")}withMaxWidth(_){return this._query.maxWidth=_,this}withMaxHeight(_){return this._query.maxHeight=_,this}}i.GetAddressImageRequestBuilder=c;class f extends a.RequestBuilder{constructor(_,E){super(_,"/type/address/:dataObjectGGUID/image","GET",{dataObjectGGUID:E},I=>I.blob()),this.setAcceptHeader("image/*")}withMaxWidth(_){return this._query.maxWidth=_,this}withMaxHeight(_){return this._query.maxHeight=_,this}}i.GetAddressImageAsBlobRequestBuilder=f;class m extends a.RequestBuilder{constructor(_,E){super(_,"/type/address/:dataObjectGGUID/image","DELETE",{dataObjectGGUID:E})}}i.DeleteAddressImageRequestBuilder=m;class p extends a.RequestBuilder{constructor(_,E,I){super(_,"/type/address/:dataObjectGGUID/image","PUT",{dataObjectGGUID:E}),this.setHeader("IF-MATCH",I),this.binaryLoader=new d.BinaryLoader}setImageFromArrayBuffer(_,E){return this.binaryLoader.setContentFromArrayBuffer(_,E),this}setImageFromUInt8Array(_,E){return this.binaryLoader.setContentFromUInt8Array(_,E),this}setImageFromBase64String(_,E){return this.binaryLoader.setContentFromBase64String(_,E),this}setImageFromFile(_,E=_.type){return this.binaryLoader.setContentFromFile(_,E),this}execute(){return this.binaryLoader.getBinary().then(_=>{this.setContentType(_.contentType),this.setBody(_.buffer)}).then(_=>super.execute())}}i.PutAddressImageRequestBuilder=p;class h extends u.GetFullObjectListRequestBuilder{usersOnly(_=!0){return this._query.isUser=_,this}whenBirthdayIsOn(_){return this._query.hasBirthdayOn=_,this}}i.GetAddressListRequestBuilder=h;class y extends u.GetPartialObjectListRequestBuilder{usersOnly(_=!0){return this._query.isUser=_,this}whenBirthdayIsOn(_){return this._query.hasBirthdayOn=_,this}}i.GetPartialAddressListRequestBuilder=y},348:(s,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GetParticipantInfoCountRequestBuilder=i.GetParticipantInfoRequestBuilder=i.GetParticipantDetailsRequestBuilder=i.AppointmentService=void 0;const a=l(962);i.AppointmentService=class{constructor(f){this.typedFetch=f}getParticipantDetails(f,m){return new u(this.typedFetch,f,m)}getParticipantInfo(f){return new d(this.typedFetch,f)}getParticipantInfoCount(f){return new c(this.typedFetch,f)}};class u extends a.RequestBuilder{constructor(m,p,h){super(m,"/type/appointment/:dataObjectGGUID/participant/:participantGGUID","GET",{dataObjectGGUID:p,participantGGUID:h})}}i.GetParticipantDetailsRequestBuilder=u;class d extends a.RequestBuilder{constructor(m,p){super(m,"/type/appointment/:dataObjectGGUID/participant/full","GET",{dataObjectGGUID:p})}}i.GetParticipantInfoRequestBuilder=d;class c extends a.RequestBuilder{constructor(m,p){super(m,"/type/appointment/:dataObjectGGUID/participant/count","GET",{dataObjectGGUID:p})}}i.GetParticipantInfoCountRequestBuilder=c},151:(s,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MaskAsRecentlyUsedDataObjectRequestBuilder=i.GetRecentlyUsedObjectListRequestBuilder=i.GetRecordTypeImageRequestBuilder=i.QueryRequestBuilder=i.GetObjectDescriptionRequestBuilder=i.GetObjectSchemaRequestBuilder=i.GetPermissionInfoCountRequestBuilder=i.GetPermissionInfoRequestBuilder=i.GetPermissionDetailsRequestBuilder=i.CreateObjectRequestBuilder=i.GetObjectListCountRequestBuilder=i.GetPartialObjectListRequestBuilder=i.GetFullObjectListRequestBuilder=i.GetObjectListRequestBuilder=i.GetObjectRequestBuilder=i.DeleteObjectRequestBuilder=i.PutObjectRequestBuilder=i.DataObjectNormalizer=i.DataObjectService=void 0;const a=l(389),u=l(962),d=l(241);i.DataObjectService=class{constructor(C,g){this.typedFetch=C,this.dataObjectNormalizer=g}deleteObject(C,g){return new f(this.typedFetch,C,g)}getObject(C,g){return new m(this.typedFetch,C,g)}getObjectList(C){return new h(this.typedFetch,C)}getPartialObjectList(C){return new y(this.typedFetch,C)}getObjectListCount(C){return new b(this.typedFetch,C)}saveObject(C){return new c(this.typedFetch,this.dataObjectNormalizer,C,()=>Promise.resolve())}saveAndReturnObject(C){return new c(this.typedFetch,this.dataObjectNormalizer,C,()=>this.getObject(C.objectType,C.id).then(g=>g.data))}createObject(C){return new _(this.typedFetch,this.dataObjectNormalizer,C)}getPermissionInfo(C,g){return new I(this.typedFetch,C,g)}getPermissionInfoCount(C,g){return new A(this.typedFetch,C,g)}getPermissionDetails(C,g,w){return new E(this.typedFetch,C,g,w)}getObjectSchema(C){return new S(this.typedFetch,C)}getObjectDescription(C){return new v(this.typedFetch,C)}getRecordTypeImage(C){return new D(this.typedFetch,C,g=>g.arrayBuffer())}getRecordTypeImageBlob(C){return new D(this.typedFetch,C,g=>g.blob())}query(C){return new R(this.typedFetch,C)}getRecentlyUsedObjectList(C){return new k(this.typedFetch,C)}maskAsRecentlyUsedDataObject(C,g){return new j(this.typedFetch,C,g)}},i.DataObjectNormalizer=class{normalizeDataObject(C){const g={fields:(C=C||{fields:{}}).fields||{},foreignEditPermission:C.foreignEditPermission==null?a.ForeignEditPermission.PRIVATE:C.foreignEditPermission};return C.permissions&&(g.permissions=this.normalizePermissions(C.permissions)),g}normalizePermissions(C){return C.map(g=>({RIGHTOWNERGGUID:g.RIGHTOWNERGGUID,ACCESSRIGHT:g.ACCESSRIGHT,ROLE:g.ROLE}))}};class c extends u.RequestBuilder{constructor(g,w,B,q){super(g,"/type/:dataObjectType/:dataObjectGGUID","PUT",{dataObjectType:B.objectType,dataObjectGGUID:B.id},q),this.setBody(JSON.stringify(w.normalizeDataObject(B))),this.setHeader("IF-MATCH",B.ETAG),this.setContentType("application/json")}tagAsRecentlyUsed(g=!0){return this._query.tagAsRecentlyUsed=g,this}}i.PutObjectRequestBuilder=c;class f extends u.RequestBuilder{constructor(g,w,B){super(g,"/type/:dataObjectType/:dataObjectGGUID","DELETE",{dataObjectType:w,dataObjectGGUID:B})}}i.DeleteObjectRequestBuilder=f;class m extends u.RequestBuilder{constructor(g,w,B){super(g,"/type/:dataObjectType/:dataObjectGGUID","GET",{dataObjectType:w,dataObjectGGUID:B},q=>q.json().then(H=>(0,d.getETag)(q).then(W=>H.ETAG=W).then(()=>H,()=>H)))}withPreconfiguredFields(g){return this._query.fields=g,this}withFields(g){return this._query.fields=g,this}includePermissions(g=!0){return this._query.includePermissions=g,this}includeSyncrecordPermissions(g=!0){return this._query.includeSyncrecordPermissions=g,this}tagAsRecentlyUsed(g=!0){return this._query.tagAsRecentlyUsed=g,this}includeMaxjournalid(g=!0){return this._query.includeMaxjournalid=g,this}isFavorite(g=!0){return this._query.isfavorite=g,this}}i.GetObjectRequestBuilder=m;class p extends u.RequestBuilder{constructor(g,w,B="GET",q={}){super(g,w,B,q)}forPage(g){return this._query.page=g,this}withEntriesPerPage(g){return this._query.entriesPerPage=g,this}withPreconfiguredFields(g){return this._query.fields=g,this}withFields(g){return this._query.fields=g,this}withPreconfiguredTeamFilter(g){return this._query.teamFilter=g,this}withTeamFilter(g){return this._query.teamFilter=new a.TeamFilter(g),this}whenUpdatedAfter(g){return this._query.updatedAfter=g,this}whenInsertedAfter(g){return this._query.insertedAfter=g,this}withIntervalStart(g){return this._query.intervalStart=g,this}withIntervalEnd(g){return this._query.intervalEnd=g,this}withSearchTerm(g){return this._query.search=g,this}withPreconfiguredOrderBy(g){return this._query.orderBy=g,this}orderBy(g,w=!0){const B=w?"ASC":"DESC";return this._query.orderBy=this._query.orderBy||[],this._query.orderBy.push(`${g} ${B}`),this}whenLinkedTo(g,w,B){return this._query.linkedToType=g,this._query.linkedTo=w,this._query.linkedToAttributes=B,this}}i.GetObjectListRequestBuilder=p;class h extends p{constructor(g,w){super(g,"/type/:dataObjectType/full","GET",{dataObjectType:w}),this.withEntriesPerPage(100)}}i.GetFullObjectListRequestBuilder=h;class y extends p{constructor(g,w){super(g,"/type/:dataObjectType/list","GET",{dataObjectType:w}),this.withEntriesPerPage(100)}}i.GetPartialObjectListRequestBuilder=y;class b extends u.RequestBuilder{constructor(g,w){super(g,"/type/:dataObjectType/count","GET",{dataObjectType:w})}withPreconfiguredTeamFilter(g){return this._query.teamFilter=g,this}withTeamFilter(g){return this._query.teamFilter=new a.TeamFilter(g),this}whenUpdatedAfter(g){return this._query.updatedAfter=g,this}whenInsertedAfter(g){return this._query.insertedAfter=g,this}withIntervalStart(g){return this._query.intervalStart=g,this}withIntervalEnd(g){return this._query.intervalEnd=g,this}withSearchTerm(g){return this._query.search=g,this}whenLinkedTo(g,w,B){return this._query.linkedToType=g,this._query.linkedTo=w,this._query.linkedToAttributes=B,this}}i.GetObjectListCountRequestBuilder=b;class _ extends u.RequestBuilder{constructor(g,w,B){super(g,"/type/:dataObjectType","POST",{dataObjectType:B},q=>d.locationHelper.createForPath("/type/:dataObjectType/:dataObjectGGUID").extract(q,"dataObjectGGUID").then(H=>new m(g,B,H).then(W=>W.data)).catch(()=>{throw new Error("Data object location is unkown!")})),this.dataObjectNormalizer=w,this.setDataObject({objectType:B,fields:{}})}withTemplateGguid(g){return this._query.templateGguid=g,this}tagAsRecentlyUsed(g=!0){return this._query.tagAsRecentlyUsed=g,this}setDataObject(g){return this.setBody(JSON.stringify(this.dataObjectNormalizer.normalizeDataObject(g))),this}}i.CreateObjectRequestBuilder=_;class E extends u.RequestBuilder{constructor(g,w,B,q){super(g,"/type/:dataObjectType/:dataObjectGGUID/permission/:permissionGGUID","GET",{dataObjectType:w,dataObjectGGUID:B,permissionGGUID:q})}}i.GetPermissionDetailsRequestBuilder=E;class I extends u.RequestBuilder{constructor(g,w,B){super(g,"/type/:dataObjectType/:dataObjectGGUID/permission/full","GET",{dataObjectType:w,dataObjectGGUID:B})}}i.GetPermissionInfoRequestBuilder=I;class A extends u.RequestBuilder{constructor(g,w,B){super(g,"/type/:dataObjectType/:dataObjectGGUID/permission/count","GET",{dataObjectType:w,dataObjectGGUID:B})}}i.GetPermissionInfoCountRequestBuilder=A;class S extends u.RequestBuilder{constructor(g,w){super(g,"/type/:dataObjectType/schema","GET",{dataObjectType:w},B=>B.json().then(q=>(Object.keys(q.properties.fields).map(H=>q.properties.fields[H]).forEach(H=>this.normalizeMandatoryAndOptionalFlag(H)),q)))}normalizeMandatoryAndOptionalFlag(g){return g.mandatory==null&&(g.mandatory=!g.optional),g.optional==null&&(g.optional=!g.mandatory),g}}i.GetObjectSchemaRequestBuilder=S;class v extends u.RequestBuilder{constructor(g,w){super(g,"/type/:dataObjectType/description","GET",{dataObjectType:w})}}i.GetObjectDescriptionRequestBuilder=v;class R extends u.RequestBuilder{constructor(g,w){super(g,"/query","POST",{},B=>B.json().catch(()=>null).then(q=>this.normalizeMassData(q))),this.setBody(JSON.stringify({query:w}))}normalizeMassData(g){let w=null;return this.isLegacyGwResponse(g)?g.length>0&&(w=g[0]):w=g,w==null&&(w={}),{displayNames:w.displayNames||w.displaynames||{},rows:w.rows||[],types:w.types||{}}}isLegacyGwResponse(g){return Array.isArray(g)}forPage(g){return this._query.page=g,this}withEntriesPerPage(g){return this._query.entriesPerPage=g,this}includePrivateForeignrecords(g){return this._query.includePrivateForeignrecords=g,this}}i.QueryRequestBuilder=R;class D extends u.RequestBuilder{constructor(g,w,B){super(g,"/type/:dataObjectType/image","GET",{dataObjectType:w},B),this.setAcceptHeader("image/*")}forIconType(g){return this._query.iconType=g,this}}i.GetRecordTypeImageRequestBuilder=D;class k extends u.RequestBuilder{constructor(g,w){super(g,"/type/:dataObjectType/recent/list","GET",{dataObjectType:w})}withFields(g){return this._query.fields=g,this}withWhereString(g){return this._query.whereString=g,this}}i.GetRecentlyUsedObjectListRequestBuilder=k;class j extends u.RequestBuilder{constructor(g,w,B){super(g,"/type/:dataObjectType/:dataObjectGGUID/recent","POST",{dataObjectType:w,dataObjectGGUID:B})}}i.MaskAsRecentlyUsedDataObjectRequestBuilder=j},345:(s,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PutDocumentRequestBuilder=i.GetDocumentRequestBuilder=i.PostDocumentRequestBuilder=i.DocumentService=void 0;const a=l(962),u=l(241),d=l(310);i.DocumentService=class{constructor(p,h){this.typedFetch=p,this.dataObjectService=h}createDocument(){return new c(this.typedFetch,this.dataObjectService)}getDocument(p){return new f(this.typedFetch,p)}uploadDocument(p,h,y){return new m(this.typedFetch,p,h,y)}};class c extends a.RequestBuilder{constructor(h,y){super(h,"/type/document/file","POST",{},b=>u.locationHelper.createForPath("/type/:dataObjectType/:dataObjectGGUID").extract(b,"dataObjectGGUID").then(_=>y.getObject("DOCUMENT",_).then(E=>E.data))),this.binaryLoader=new d.BinaryLoader}setContentFromArrayBuffer(h,y){return this.binaryLoader.setContentFromArrayBuffer(h,y),this}setContentFromUInt8Array(h,y){return this.binaryLoader.setContentFromUInt8Array(h,y),this}setContentFromBase64String(h,y){return this.binaryLoader.setContentFromBase64String(h,y),this}setContentFromFile(h,y=h.type){return this.binaryLoader.setContentFromFile(h,y),this}execute(){return this.binaryLoader.getBinary().then(h=>{this.setContentType(h.contentType),this.setBody(h.buffer)}).then(h=>super.execute())}}i.PostDocumentRequestBuilder=c;class f extends a.RequestBuilder{constructor(h,y){super(h,"/type/document/:dataObjectGGUID/file","GET",{dataObjectGGUID:y},b=>b.arrayBuffer()),this.withReadOnlyInterest(),this.setAcceptHeader("*/*")}withReadOnlyInterest(h=!0){return this._query.readOnly=h,this}withVersion(h){return this._query.version=h,this}}i.GetDocumentRequestBuilder=f;class m extends a.RequestBuilder{constructor(h,y,b,_){super(h,"/type/document/:dataObjectGGUID/file","PUT",{dataObjectGGUID:y}),this.eTagOfRecord=b,this.fileExtension=_,this.binaryLoader=new d.BinaryLoader}setContentFromArrayBuffer(h,y){return this.binaryLoader.setContentFromArrayBuffer(h,y),this}setContentFromUInt8Array(h,y){return this.binaryLoader.setContentFromUInt8Array(h,y),this}setContentFromBase64String(h,y){return this.binaryLoader.setContentFromBase64String(h,y),this}setContentFromFile(h,y=h.type){return this.binaryLoader.setContentFromFile(h,y),this}execute(){return this.binaryLoader.getBinary().then(h=>{this.setHeader("IF-MATCH",this.eTagOfRecord),this.setHeader("CAS-FILE-EXTENSION",this.fileExtension),this.setContentType(h.contentType),this.setBody(h.buffer)}).then(h=>super.execute())}keepCheckedOut(h=!0){return this._query.keepCheckedOut=h,this}createNewVersion(h=!0){return this._query.createNewVersion=h,this}withVersionComment(h){return this._query.versionComment=h,this}}i.PutDocumentRequestBuilder=m},764:(s,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GetEmailStoreRequestBuilder=i.PostEmailStoreRequestBuilder=i.EmailStoreService=void 0;const a=l(962),u=l(389),d=l(241),c=l(310);i.EmailStoreService=class{constructor(p,h){this.typedFetch=p,this.dataObjectService=h}getEmail(p){return new m(this.typedFetch,p)}archiveEmail(){return new f(this.typedFetch,this.dataObjectService)}};class f extends a.RequestBuilder{constructor(h,y){super(h,"/type/emailstore/file","POST",{},b=>d.locationHelper.createForPath("/type/:dataObjectType/:dataObjectGGUID").extract(b,"dataObjectGGUID").then(_=>y.getObject("EMAILSTORE",_).then(E=>E.data))),this.setHeader("EXPECT","100-continue"),this.withForeignEditPermissionRestriction(u.ForeignEditPermission.PRIVATE),this.binaryLoader=new c.BinaryLoader}withForeignEditPermissionRestriction(h){return this._query.foreignEditPermissionRestriction=h,this}setContentFromArrayBuffer(h,y=f.DEFAULT_MESSAGE_MIME_TYPE){return this.binaryLoader.setContentFromArrayBuffer(y,h),this}setContentFromUInt8Array(h,y=f.DEFAULT_MESSAGE_MIME_TYPE){return this.binaryLoader.setContentFromUInt8Array(y,h),this}setContentFromBase64String(h,y=f.DEFAULT_MESSAGE_MIME_TYPE){return this.binaryLoader.setContentFromBase64String(y,h),this}setContentFromFile(h,y=f.DEFAULT_MESSAGE_MIME_TYPE){return this.binaryLoader.setContentFromFile(h,y),this}setContent(h,y=f.DEFAULT_MESSAGE_MIME_TYPE){return this.binaryLoader.setContent(y,h),this}execute(){return this.binaryLoader.getBinary().then(h=>{this.setContentType(h.contentType),this.setBody(h.buffer)}).then(h=>super.execute())}}i.PostEmailStoreRequestBuilder=f,f.DEFAULT_MESSAGE_MIME_TYPE="message/rfc822";class m extends a.RequestBuilder{constructor(h,y){super(h,"/type/emailstore/:dataObjectGGUID/file","GET",{dataObjectGGUID:y},b=>b.arrayBuffer()),this.setAcceptHeader("*/*")}withHtmlFilter(h){return this._query.htmlFilter=h,this}}i.GetEmailStoreRequestBuilder=m},399:(s,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GetPartialGroupListRequestBuilder=i.GetFullGroupListRequestBuilder=i.GetGroupListRequestBuilder=i.GetGroupCountRequestBuilder=i.GetGroupRequestBuilder=i.GroupService=void 0;const a=l(962);i.GroupService=class{constructor(p){this.typedFetch=p}getGroup(p){return new u(this.typedFetch,p)}getGroupCount(){return new d(this.typedFetch)}getGroupList(){return new f(this.typedFetch)}getPartialGroupList(){return new m(this.typedFetch)}};class u extends a.RequestBuilder{constructor(h,y){super(h,"/group/:GGUID","GET",{GGUID:y})}withPreconfiguredFields(h){return this._query.fields=h,this}withFields(h){return this._query.fields=h,this}}i.GetGroupRequestBuilder=u;class d extends a.RequestBuilder{constructor(h){super(h,"/group/count")}forObjectType(h){return this._query.objectType=h,this}withMinimumPermission(h){return this._query.minPermission=h,this}}i.GetGroupCountRequestBuilder=d;class c extends a.RequestBuilder{constructor(h,y,b="GET",_={}){super(h,y,b,_)}forPage(h){return this._query.page=h,this}withEntriesPerPage(h){return this._query.entriesPerPage=h,this}withPreconfiguredFields(h){return this._query.fields=h,this}withFields(h){return this._query.fields=h,this}forObjectType(h){return this._query.objectType=h,this}withMinimumPermission(h){return this._query.minPermission=h,this}withDomainGuid(h){return this._query.domainGuid=h,this}}i.GetGroupListRequestBuilder=c;class f extends c{constructor(h){super(h,"/group/full")}}i.GetFullGroupListRequestBuilder=f;class m extends c{constructor(h){super(h,"/group/list")}}i.GetPartialGroupListRequestBuilder=m},493:(s,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GetPrimaryParentsListRequestBuilder=i.DeleteLinkRequestBuilder=i.GetDossierRequestBuilder=i.GetDossierCountRequestBuilder=i.GetDossierEntryRequestBuilder=i.PostDossierRequestBuilder=i.LinkingService=void 0;const a=l(962),u=l(241);class d{constructor(_){this.typedFetch=_}linkDataObject(_,E){return new c(this.typedFetch,_,E)}deleteLink(_,E,I){let A;return d.isDossierEntry(_)?(A=_.fields.OBJECTTYPE1,E=_.fields.GGUID1,I=_.id):A=_,new h(this.typedFetch,A,E,I)}getDossierEntry(_,E,I){return new f(this.typedFetch,_,E,I)}getDossierCount(_,E){return new m(this.typedFetch,_,E)}getDossier(_,E){return new p(this.typedFetch,_,E)}getPrimaryLinkParentsList(_,E){return new y(this.typedFetch,_,E)}static isDossierEntry(_){return _&&_.id!=null}}i.LinkingService=d;class c extends a.RequestBuilder{constructor(_,E,I){super(_,"/type/:dataObjectType/:dataObjectGGUID/dossier","POST",{dataObjectGGUID:I,dataObjectType:E},A=>u.locationHelper.createForPath("/type/:dataObjectType/:dataObjectGGUID/dossier/:dossierentryGGUID").extract(A,"dossierentryGGUID").then(S=>new f(_,E,I,S).then(v=>v.data)).catch(()=>{throw new Error("Dossier entry location is unkown!")}))}withDataObject(_,E){return this._query.objectType2=_,this._query.gguid2=E,this}withLinkAttribute(_){return this._query.attribute=_,this}withRole1(_){return this._query.role1=_,this}withRole2(_){return this._query.role2=_,this}withLinkDirection(_){return this._query.linkDirection=_,this}withAdditionalField1(_){return this._query.additionalField1=_,this}withAdditionalField2(_){return this._query.additionalField2=_,this}}i.PostDossierRequestBuilder=c;class f extends a.RequestBuilder{constructor(_,E,I,A){super(_,"/type/:dataObjectType/:dataObjectGGUID/dossier/:dossierentryGGUID","GET",{dataObjectType:E,dataObjectGGUID:I,dossierentryGGUID:A},S=>S.json().then(v=>(0,u.getETag)(S).then(R=>v.ETAG=R).then(()=>v,()=>v)))}}i.GetDossierEntryRequestBuilder=f;class m extends a.RequestBuilder{constructor(_,E,I){super(_,"/type/:dataObjectType/:dataObjectGGUID/dossier/count","GET",{dataObjectType:E,dataObjectGGUID:I})}}i.GetDossierCountRequestBuilder=m;class p extends a.RequestBuilder{constructor(_,E,I){super(_,"/type/:dataObjectType/:dataObjectGGUID/dossier/full","GET",{dataObjectType:E,dataObjectGGUID:I})}forPage(_){return this._query.page=_,this}withEntriesPerPage(_){return this._query.entriesPerPage=_,this}forObjectTypes(_){return this._query.objectTypes=_,this}}i.GetDossierRequestBuilder=p;class h extends a.RequestBuilder{constructor(_,E,I,A){super(_,"/type/:dataObjectType/:dataObjectGGUID/dossier/:dossierentryGGUID","DELETE",{dataObjectType:E,dataObjectGGUID:I,dossierentryGGUID:A})}}i.DeleteLinkRequestBuilder=h;class y extends a.RequestBuilder{constructor(_,E,I){super(_,"/type/:dataObjectType/:dataObjectGGUID/primarylinkparents","GET",{dataObjectType:E,dataObjectGGUID:I})}}i.GetPrimaryParentsListRequestBuilder=y},310:(s,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BinaryLoader=void 0,i.BinaryLoader=class{setContent(l,a){this._binaryInfo=Promise.resolve({buffer:a,contentType:l})}setContentFromArrayBuffer(l,a){this._binaryInfo=Promise.resolve({buffer:a,contentType:l})}setContentFromUInt8Array(l,a){this.setContentFromArrayBuffer(l,a.buffer)}setContentFromBase64String(l,a){const u=window.atob(a),d=u.length,c=new Uint8Array(d);for(let f=0;f<d;f++)c[f]=u.charCodeAt(f);this.setContentFromUInt8Array(l,c)}setContentFromFile(l,a=l.type){const u=new Promise((d,c)=>{const f=new FileReader;f.addEventListener("loadend",()=>{d(f.result)}),f.addEventListener("error",()=>{c(f.error)}),f.readAsArrayBuffer(l)});this._binaryInfo=u.then(d=>({buffer:d,contentType:a}))}getBinary(){return this._binaryInfo?this._binaryInfo:Promise.reject(new Error("No binary was configured!"))}}},962:(s,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.RequestBuilder=i.FetchError=void 0;class l extends Error{constructor(u,d,c=null){super("Server returned non ok response."),this.status=u,this.statusText=d,this.text=c}}i.FetchError=l,i.RequestBuilder=class{constructor(a,u,d="GET",c={},f=m=>m.json().then(p=>p).catch(p=>({}))){this.typedFetch=a,this._path=u,this._method=d,this._parameters=c,this._transform=f,this._query={},this._headers={},this.setAcceptHeader("application/json")}setQueryParameter(a,u){return this._query[a]=u,this}setBody(a){return this._body=a,this}setAcceptHeader(a){return this.setHeader("Accept",a)}setContentType(a){return this.setHeader("Content-Type",a)}setHeader(a,u){return this._headers[a]=u,this}prepareRequest(){return this.typedFetch.proxy(this._path,this._method,{query:this._query,params:this._parameters,body:this._body,headers:this._headers})}execute(){return this._execution||(this._execution=this.prepareRequest().then(a=>a.ok?this.transformStream(a).then(u=>({headers:a.headers,data:u})):this.handleErrorResponse(a).then(u=>({headers:a.headers,data:u})))),this._execution}then(a,u){return this.execute().then(a,u)}catch(a){return this.execute().then(null,a)}transformStream(a){return this._transform(a)}handleErrorResponse(a){return a.text().catch(()=>{throw new l(a.status,a.statusText)}).then(u=>{throw new l(a.status,a.statusText,u)})}}},37:(s,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GetPartialResourceListRequestBuilder=i.GetFullResourceListRequestBuilder=i.GetResourceListRequestBuilder=i.GetResourceCountRequestBuilder=i.GetResourceRequestBuilder=i.ResourceService=void 0;const a=l(962);i.ResourceService=class{constructor(p){this.typedFetch=p}getResource(p){return new u(this.typedFetch,p)}getResourceCount(){return new d(this.typedFetch)}getResourceList(){return new f(this.typedFetch)}getPartialResourceList(){return new m(this.typedFetch)}};class u extends a.RequestBuilder{constructor(h,y){super(h,"/resource/:guid","GET",{guid:y})}withPreconfiguredFields(h){return this._query.fields=h,this}withFields(h){return this._query.fields=h,this}}i.GetResourceRequestBuilder=u;class d extends a.RequestBuilder{constructor(h){super(h,"/resource/count")}forObjectType(h){return this._query.objectType=h,this}withMinimumPermission(h){return this._query.minPermission=h,this}}i.GetResourceCountRequestBuilder=d;class c extends a.RequestBuilder{constructor(h,y,b="GET",_={}){super(h,y,b,_)}forPage(h){return this._query.page=h,this}withEntriesPerPage(h){return this._query.entriesPerPage=h,this}withPreconfiguredFields(h){return this._query.fields=h,this}withFields(h){return this._query.fields=h,this}forObjectType(h){return this._query.objectType=h,this}withMinimumPermission(h){return this._query.minPermission=h,this}withDomainGuid(h){return this._query.domainGuid=h,this}}i.GetResourceListRequestBuilder=c;class f extends c{constructor(h){super(h,"/resource/full")}}i.GetFullResourceListRequestBuilder=f;class m extends c{constructor(h){super(h,"/resource/list")}}i.GetPartialResourceListRequestBuilder=m},241:(s,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.locationHelper=i.LocationHelper=i.getETag=void 0,i.getETag=a=>{let u,d=a.headers.get("etag");return d?(d=`"${d.replace(/"/g,"").split("--")[0]}"`,u=Promise.resolve(d)):u=Promise.reject(new Error("ETag header not found")),u};class l{createForPath(u){return{extract:(d,c)=>this.getIdFromLocation(d,u,c)}}getIdFromLocation(u,d,c){const f=u.headers.get("location")||"";let m,p=d.toString().replace(":"+c,"([^/]+)").replace(/:([^/]+)(\/?)/g,"[^/]+$2").replace(/\//g,"\\/");p=".*"+p;const h=new RegExp(p).exec(f);return m=h&&h.length>0?Promise.resolve(h[1]):Promise.reject(new Error("Location header not found or it did not matched the given pattern")),m}}i.LocationHelper=l,i.locationHelper=new l},146:(s,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ServerVersionRequestBuilder=i.ServerInformationService=void 0;const a=l(962);i.ServerInformationService=class{constructor(d){this.typedFetch=d}getServerVersion(){return new u(this.typedFetch)}};class u extends a.RequestBuilder{constructor(c){super(c,"/version/server","GET",{},f=>f.json().then(m=>this.isGwResponse(m)?m.fields:m))}isGwResponse(c){return c.fields!=null}}i.ServerVersionRequestBuilder=u},26:(s,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ExtendAppSettingsRequestBuilder=i.SetAppSettingsRequestBuilder=i.GetAppSettingsRequestBuilder=i.GetSchemaRequestBuilder=i.GetSchemaListRequestBuilder=i.SettingsService=void 0;const a=l(962);i.SettingsService=class{constructor(p){this.typedFetch=p}getSchemaList(){return new u(this.typedFetch)}getSchema(p){return new d(this.typedFetch,p)}getAppSettings(p){return new c(this.typedFetch,"/settings/app/:appId",p)}setAppSettings(p,h){return new f(this.typedFetch,"/settings/app/:appId/user",p,{_apiVersion:"v1",properties:h??{}})}changeAppSettings(p,h){return new m(this.typedFetch,"/settings/app/:appId/user",p,{_apiVersion:"v1",properties:h??{},removedProperties:Object.keys(h).filter(y=>h[y]===void 0)})}};class u extends a.RequestBuilder{constructor(h){super(h,"/settings/app/list","GET")}}i.GetSchemaListRequestBuilder=u;class d extends a.RequestBuilder{constructor(h,y){super(h,"/settings/app/:appId/schema","GET",{appId:y})}handleErrorResponse(h){return h.status==404?Promise.resolve({_apiVersion:"v1",properties:{}}):super.handleErrorResponse(h)}}i.GetSchemaRequestBuilder=d;class c extends a.RequestBuilder{constructor(h,y,b){super(h,y,"GET",{appId:b}),this.appId=b}withScope(h){return new c(this.typedFetch,h=="global"?"/settings/app/:appId/global":"/settings/app/:appId/user",this.appId)}handleErrorResponse(h){return h.status==404?Promise.resolve({_apiVersion:"v1",properties:{}}):super.handleErrorResponse(h)}}i.GetAppSettingsRequestBuilder=c;class f extends a.RequestBuilder{constructor(h,y,b,_){super(h,y,"PUT",{appId:b}),this.appId=b,this.settings=_,this.setBody(JSON.stringify(_))}withScope(h){return new f(this.typedFetch,h=="global"?"/settings/app/:appId/global":"/settings/app/:appId/user",this.appId,this.settings)}}i.SetAppSettingsRequestBuilder=f;class m extends a.RequestBuilder{constructor(h,y,b,_){super(h,y,"POST",{appId:b}),this.appId=b,this.settings=_,this.setBody(JSON.stringify(_))}withScope(h){return new m(this.typedFetch,h=="global"?"/settings/app/:appId/global":"/settings/app/:appId/user",this.appId,this.settings)}}i.ExtendAppSettingsRequestBuilder=m},246:(s,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GetLoginInformationRequestBuilder=i.GetLoggedInUserInfoRequestBuilder=i.GetPartialUserListRequestBuilder=i.GetFullUserListRequestBuilder=i.GetUserListRequestBuilder=i.GetUserCountRequestBuilder=i.GetUserRequestBuilder=i.UserService=void 0;const a=l(962);i.UserService=class{constructor(y,b){this.typedFetch=y,this.addressService=b}getUser(y){return new u(this.typedFetch,y)}getUserImage(y){return this.addressService.getAddressImage(y.fields.GGUIDOFADDRESSRECORD)}getUserImageAsBlob(y){return this.addressService.getAddressImageAsBlob(y.fields.GGUIDOFADDRESSRECORD)}getUserCount(){return new d(this.typedFetch)}getUserList(){return new f(this.typedFetch)}getPartialUserList(){return new m(this.typedFetch)}getLoggedInUser(){return new p(this.typedFetch)}getLoginInformation(){return new h(this.typedFetch)}};class u extends a.RequestBuilder{constructor(b,_){super(b,"/user/:GGUID","GET",{GGUID:_})}withPreconfiguredFields(b){return this._query.fields=b,this}withFields(b){return this._query.fields=b,this}includePrivilegedOperations(b=!0){return this._query.includePrivilegedOperations=b,this}}i.GetUserRequestBuilder=u;class d extends a.RequestBuilder{constructor(b){super(b,"/user/count")}forObjectType(b){return this._query.objectType=b,this}withMinimumPermission(b){return this._query.minPermission=b,this}}i.GetUserCountRequestBuilder=d;class c extends a.RequestBuilder{constructor(b,_,E="GET",I={}){super(b,_,E,I)}forPage(b){return this._query.page=b,this}withEntriesPerPage(b){return this._query.entriesPerPage=b,this}withPreconfiguredFields(b){return this._query.fields=b,this}withFields(b){return this._query.fields=b,this}forObjectType(b){return this._query.objectType=b,this}withMinimumPermission(b){return this._query.minPermission=b,this}withDomainGuid(b){return this._query.domainGuid=b,this}}i.GetUserListRequestBuilder=c;class f extends c{constructor(b){super(b,"/user/full")}}i.GetFullUserListRequestBuilder=f;class m extends c{constructor(b){super(b,"/user/list")}}i.GetPartialUserListRequestBuilder=m;class p extends a.RequestBuilder{constructor(b){super(b,"/user/self")}withPreconfiguredFields(b){return this._query.fields=b,this}withFields(b){return this._query.fields=b,this}includePrivilegedOperations(b=!0){return this._query.includePrivilegedOperations=b,this}}i.GetLoggedInUserInfoRequestBuilder=p;class h extends a.RequestBuilder{constructor(b){super(b,"/user/self/logininformation")}}i.GetLoginInformationRequestBuilder=h},560:(s,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GetItemCountForViewRequestBuilder=i.GetItemsForViewRequestBuilder=i.GetPartialItemsForViewRequestBuilder=i.GetViewForTypeRequestBuilder=i.GetViewCountForTypeRequestBuilder=i.GetViewsForTypeRequestBuilder=i.GetViewItemsRequestBuilder=i.ViewService=void 0;const a=l(962);i.ViewService=class{constructor(y){this.typedFetch=y}getViewsForType(y){return new d(this.typedFetch,y)}getViewCountForType(y){return new c(this.typedFetch,y)}getViewDetails(y,b){return new f(this.typedFetch,y,b)}getPartialItemsForView(y,b){return new m(this.typedFetch,y,b)}getItemsForView(y,b){return new p(this.typedFetch,y,b)}getItemCountForView(y,b){return new h(this.typedFetch,y,b)}};class u extends a.RequestBuilder{constructor(b,_,E="GET",I={}){super(b,_,E,I)}forPage(b){return this._query.page=b,this}withEntriesPerPage(b){return this._query.entriesPerPage=b,this}withPreconfiguredFields(b){return this._query.fields=b,this}withFields(b){return this._query.fields=b,this}whenUpdatedAfter(b){return this._query.updatedAfter=b,this}whenInsertedAfter(b){return this._query.insertedAfter=b,this}withIntervalStart(b){return this._query.intervalStart=b,this}withIntervalEnd(b){return this._query.intervalEnd=b,this}withSearchTerm(b){return this._query.search=b,this}withPreconfiguredOrderBy(b){return this._query.orderBy=b,this}orderBy(b,_=!0){const E=_?"ASC":"DESC";return this._query.orderBy=this._query.orderBy||[],this._query.orderBy.push(`${b} ${E}`),this}whenLinkedTo(b,_,E){return this._query.linkedToType=b,this._query.linkedTo=_,this._query.linkedToAttributes=E,this}}i.GetViewItemsRequestBuilder=u;class d extends a.RequestBuilder{constructor(b,_){super(b,"/type/:dataObjectType/view/list","GET",{dataObjectType:_})}forPage(b){return this._query.page=b,this}withEntriesPerPage(b){return this._query.entriesPerPage=b,this}forViewKind(b){return this._query.viewKind=b,this}}i.GetViewsForTypeRequestBuilder=d;class c extends a.RequestBuilder{constructor(b,_){super(b,"/type/:dataObjectType/view/count","GET",{dataObjectType:_})}}i.GetViewCountForTypeRequestBuilder=c;class f extends a.RequestBuilder{constructor(b,_,E){super(b,"/type/:dataObjectType/view/:viewID","GET",{dataObjectType:_,viewID:E})}}i.GetViewForTypeRequestBuilder=f;class m extends u{constructor(b,_,E){super(b,"/type/:dataObjectType/view/:viewID/list","GET",{dataObjectType:_,viewID:E})}}i.GetPartialItemsForViewRequestBuilder=m;class p extends u{constructor(b,_,E){super(b,"/type/:dataObjectType/view/:viewID/full","GET",{dataObjectType:_,viewID:E})}}i.GetItemsForViewRequestBuilder=p;class h extends a.RequestBuilder{constructor(b,_,E){super(b,"/type/:dataObjectType/view/:viewID/count","GET",{dataObjectType:_,viewID:E})}whenUpdatedAfter(b){return this._query.updatedAfter=b,this}whenInsertedAfter(b){return this._query.insertedAfter=b,this}withIntervalStart(b){return this._query.intervalStart=b,this}withIntervalEnd(b){return this._query.intervalEnd=b,this}withSearchTerm(b){return this._query.search=b,this}}i.GetItemCountForViewRequestBuilder=h},389:(s,i)=>{var l,a,u,d,c;Object.defineProperty(i,"__esModule",{value:!0}),i.DatePrecision=i.PrimaryLinkedParent=i.HtmlFilter=i.AccessRight=i.ForeignEditPermission=i.TeamFilter=i.TeamFilterConstant=i.ALL_PUBLIC_PERMISSION_GGUID=void 0,i.ALL_PUBLIC_PERMISSION_GGUID="00000000000000000000000000000000",function(f){f.ExternalAccess="CASExternalAccess",f.LoggedInUser="CASLoggedInUser",f.PublicRecords="CASPublicRecords"}(l||(i.TeamFilterConstant=l={})),i.TeamFilter=class{constructor(f){this.teamFilterIds=[],f&&(this.teamFilterIds=f.teamFilterIds.slice(),this.role=f.role)}convertToQueryParameterValue(){let f=this.teamFilterIds.join(",");return this.role&&(f+=`;${this.role}`),f}},function(f){f[f.PRIVATE=-1]="PRIVATE",f[f.CONFIDENTIAL=0]="CONFIDENTIAL",f[f.READ=64]="READ",f[f.DUPLICATE=256]="DUPLICATE",f[f.READ_CHANGE_TIMES=512]="READ_CHANGE_TIMES",f[f.EDIT=2048]="EDIT",f[f.DELETE=8192]="DELETE",f[f.IN_EFFECT=65535]="IN_EFFECT"}(a||(i.ForeignEditPermission=a={})),function(f){f[f.NO_ACCESS=0]="NO_ACCESS",f[f.READ=64]="READ",f[f.INSERT=128]="INSERT",f[f.DUPLICATE=256]="DUPLICATE",f[f.READ_CHANGE_TIMES=512]="READ_CHANGE_TIMES",f[f.EDIT=2048]="EDIT",f[f.DELETE=8192]="DELETE",f[f.FULL_ACCESS=32768]="FULL_ACCESS"}(u||(i.AccessRight=u={})),function(f){f[f.NOTHING=0]="NOTHING",f[f.EXTERNAL_IMAGES=1]="EXTERNAL_IMAGES",f[f.ALL_IMAGES=2]="ALL_IMAGES",f[f.DANGEROUS_TAGS_AND_ATTRIBUTES=4]="DANGEROUS_TAGS_AND_ATTRIBUTES",f[f.DANGEROUS_TAGS_AND_ATTRIBUTES_EXCLUDE_STYLES=8]="DANGEROUS_TAGS_AND_ATTRIBUTES_EXCLUDE_STYLES",f[f.ALL=2147483647]="ALL"}(d||(i.HtmlFilter=d={})),i.PrimaryLinkedParent=class{},function(f){f[f.COMPLETE=2048]="COMPLETE",f[f.NO_TIME=512]="NO_TIME",f[f.NO_SECONDS=64]="NO_SECONDS",f[f.NO_MILLISECONDS=0]="NO_MILLISECONDS",f[f.NO_DATE=4096]="NO_DATE"}(c||(i.DatePrecision=c={}))},195:(s,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.RestypedFetch=void 0;const a=l(389);i.RestypedFetch=class{constructor(u="6.0",d="common",c){this.version=u,this.server=d,this.fetcher=c}get(u,d){return this.proxy(u,"GET",d)}post(u,d){return this.proxy(u,"POST",d)}put(u,d){return this.proxy(u,"PUT",d)}delete(u,d){return this.proxy(u,"DELETE",d)}patch(u,d){return this.proxy(u,"PATCH",d)}options(u,d){return this.proxy(u,"OPTIONS",d)}head(u,d){return this.proxy(u,"HEAD",d)}camelToDash(u){return u.replace(/(^[A-Z])/,d=>d.toLowerCase()).replace(/([A-Z])/g,d=>`-${d.toLowerCase()}`)}isBoolean(u){return u===!0||u===!1}proxy(u,d,c){c=Object.assign({},c||{},{method:d});let f=u,m="";c.params&&Object.keys(c.params).forEach(y=>{f=f.toString().replace(new RegExp(":"+y,"g"),c.params[y])});const p=y=>{let b;return b=y instanceof a.TeamFilter?y.convertToQueryParameterValue():y instanceof Date?y.toJSON():Array.isArray(y)?y.map(_=>p(_)).join(","):y,b};c.query&&(m=Object.keys(c.query).map(y=>{const b=c.query[y],_=p(b);if(_==null)return null;if(this.isBoolean(_)){if(y==="includePermissions"||y==="isUser")return`${this.camelToDash(y)}=${!!_}`;if(_===!0)return`${this.camelToDash(y)}`;if(_===!1)return null}return`${this.camelToDash(y)}=${encodeURIComponent(_)}`}).filter(y=>y!=null).join("&"),m.length>0&&(m="?"+m));const h=(this.version.indexOf("v")===0?"":"v")+this.version;return(this.fetcher||window).fetch(h+f+m,c)}}}},n={},o=function s(i){var l=n[i];if(l!==void 0)return l.exports;var a=n[i]={exports:{}};return t[i].call(a.exports,a,a.exports,s),a.exports}(303);return o})())})(gi);var ws=gi.exports;function ge(r){return console.error(r),Promise.reject(r)}class Es{constructor(e){We(this,"api");We(this,"version","v6.0");We(this,"hash","");We(this,"needsLogin",!0);We(this,"dataaccess",null);We(this,"user",null);We(this,"userObjectPermissionsObjects",[]);We(this,"eTag",null);e&&(console.log("Connecting to Smartdesign"),this.connect())}isNumber(e){return typeof e=="number"&&isFinite(e)}isString(e){return typeof e=="string"}isEmpty(e,t){return e==null||(t?!1:e==="")||Array.isArray(e)&&e.length===0}cleanArray(e){const t=this;for(var n=[],o=0,s=e.length,i;o<s;o++)i=e[o],t.isEmpty(i)||n.push(i);return n}onlyUnique(e,t,n){return n.indexOf(e)===t}unique(e){return e.filter(this.onlyUnique)}async connect(){const e=this;return new Promise(function(t,n){vs.connect().then(o=>{e.api=o,e.hash=o==null?void 0:o.communicator.target().location.hash.substr(2),console.log(`Smartdesign connected || hash is ${e.hash}`),e.needsLogin=!1;const s=ws.create(o,"6.0");e.dataaccess=s,s.userService.getLoggedInUser().then(i=>i.data).then(i=>{e.user=i,console.log("DataAccess granted || got user"),t(e.api)}).catch(i=>{console.error(`DataAccess Error: ${i}`),n(i)})}).catch(o=>{console.error(`CASHelper says: Es konnte keine Verbindung zum SmartDesign hergestellt werden: ${o}`),e.needsLogin=!0,n(o)})})}async read(e,t,n){let o=this,s=n||"";return new Promise(function(i,l){o.api.fetch(`${o.version}/${e&&t?`type/${e}/${t}${s&&typeof s!="object"?`?fields=${n}`:""}`:o.hash}`,{fields:n}).then(function(a){if(!a.ok)return a.text().then(function(u){throw Error(a.statusText+"<br>"+u)});o.eTag=a.headers.get("eTag"),i(a.json())}).catch(ge)})}async create(e,t,n,o){const s=this;return new Promise(function(i,l){s.api.fetch(`${s.version}/${e?`type/${e}`:s.hash}?tag-as-recently-used`,{method:"POST",dataType:"json",disableCaching:!1,crossDomain:!0,body:`{"fields":${typeof t=="string"?t:JSON.stringify(t)}${n?`,"permissions":${typeof n=="string"?n:JSON.stringify(n)}`:""}${o||s.isNumber(o)?`,"foreignEditPermission": ${o}`:""}}`}).then(a=>{if(!a.ok)return a.text().then(function(d){throw Error(a.statusText+"<br>"+d)});let u=a.headers.get("location");if(!u)i(!0);else{let d=u.substr(u.lastIndexOf("/")+1);i(d)}}).catch(ge)})}async update(e,t,n,o,s){let i=this;await i.read.apply(i,arguments);let l=i.eTag;return new Promise(function(a,u){i.api.fetch(`${i.version}/${e&&t?`type/${e}/${t}`:this.hash}?tag-as-recently-used`,{method:"PUT",body:`{"fields":${typeof n=="string"?n:JSON.stringify(n)}${o?`,"permissions":${typeof o=="string"?o:JSON.stringify(o)}`:""}${s||i.isNumber(s)?`,"foreignEditPermission": ${s}`:""}}`,headers:{"Content-Type":"application/json; charset=utf-8","If-Match":l||i.eTag}}).then(function(d){d.ok?(i.eTag=d.headers.get("eTag"),a(t)):(u(d),d.text().then(function(c){throw Error(d.statusText+"<br>"+c)}))}).catch(ge)})}async saveOrUpdate(e="ADDRESS",t=[],n,o){const s=this;var i=[],l=Array.isArray(t)?t:[t];return l.reduce(async(a,u)=>(await a,u.GGUID?s.update(e,u.GGUID,u,n,o).then(d=>(console.log("data is updated.."),i.push(d),i)):s.create(e,u,n,o).then(d=>(console.log("data is saved.."),i.push(d),i))),Promise.resolve()).then(function(){return i}).catch(ge)}async duplicate(e="DOCUMENT",t,n={},o,s,i=!1,l=!0,a=!1){const u=this;return new Promise(function(d,c){u.api.fetch(`${u.version}/${e?`type/${e}`:u.hash}/duplicate?gguid=${t}${i?`&copy-links=${i}`:""}${l?`&copy-permissions=${l}`:""}${a?`&duplicate-as-template=${a}`:""}`,{method:"POST",dataType:"json",disableCaching:!1,crossDomain:!0}).then(f=>f.ok?(u.eTag=f.headers.get("eTag"),f.json()):f.text().then(function(m){throw Error(f.statusText+"<br>"+m)})).then(f=>{let m=f.id;u.api.fetch(`${u.version}/${e?`type/${e}`:u.hash}/duplicate/${m}`,{method:"POST",dataType:"json",disableCaching:!1,crossDomain:!0,...n?{body:`{"fields":${typeof n=="string"?n:JSON.stringify(n)}${o?`,"permissions":${typeof o=="string"?o:JSON.stringify(o)}`:""}${s||u.isNumber(s)?`,"foreignEditPermission": ${s}`:""}}`}:{}}).then(async p=>{if(!p.ok)return p.text().then(function(h){throw Error(p.statusText+"<br>"+h)});d(m)}).catch(ge)}).catch(ge)})}async query(e,t,n,o,s,i){const l=this;let a=[],u=s&&s.currentPage?s.currentPage:1,d=s&&s.lastPage?s.lastPage:null,c=s&&s.pageSize?s.pageSize:1e3,f=[],m=n?` WHERE ${n}`:"",p=i?` ORDER BY ${i}`:"",h=o?o==="false"?"":` TEAMFILTER(${e};${o})`:` TEAMFILTER(${e};CASLoggedInUser,CASPublicRecords,CASExternalAccess)`,y,b;b=t?(typeof t=="string"?t.split(","):t).map(E=>E.trim()):[],t&&!b.includes("GGUID")&&b.unshift("GGUID"),b=b.join(),s&&s.params?y=JSON.stringify({query:`${s.params}${h}${p}`}):y=JSON.stringify({query:`SELECT ${b?"DISTINCT ":""}${b||"*"} FROM ${e}${m}${h}${p}`});function _(){return new Promise(function(E,I){l.api.fetch(`${l.version}/query?page=${u}&entries-per-page=${c}`,{method:"POST",dataType:"json",disableCaching:!1,crossDomain:!0,body:y}).then(function(A){if(!l.isString(A)&&!A.ok)I(A),A.text().then(function(S){throw Error(A.statusText+"<br>"+S)});else if(l.isString(A)||A.ok)return typeof A.json=="function"?A.json():JSON.parse(A)}).then(async A=>{let S=A;return S=A&&A[0]?A[0].rows:null,S&&(f=[...f,...S]),S&&S.length===Number(c)&&(!d||u<=d)?(++u,await _.apply(this,arguments)):(A&&A[0]&&(A[0].rows=f),A&&A[0]?A[0]:[])}).then(A=>{E(A)}).catch(ge)})}return a.push(_()),new Promise(function(E,I){Promise.all(a).then(A=>{let S=A&&A[0]?A[0]:[];E(S)}).catch(ge)})}async getDependentDataObjects(e="GWOPPORTUNITY",t,n="list"){let o=this,s=e.toUpperCase()+"POS";return new Promise(function(i,l){o.api.fetch(`${o.version}/${e&&t?`type/${e}/${t}/dependenttype/${s}/${n}`:this.hash}`).then(function(a){a.ok?i(a.json()):(l(a),a.text().then(function(u){throw Error(a.statusText+"<br>"+u)}))}).catch(ge)})}async transferLink(e,t,n,o){const s=this;let i={obj:e,id:t},l={obj:n,id:o},a=await s.getUserObjecttypePermissions(!0),u=await s.getPrimarylinkparents(i.obj,i.id),d=[],c=[];u.length||(i={obj:n,id:o},l={obj:e,id:t},u=await s.getPrimarylinkparents(i.obj,i.id));try{let f=JSON.search(a,`//*[DataObject="${l.obj}"]`)[0];c=f.links,d=f.primaryLinkParents.parentObjectTypes}catch{}u.forEach(async f=>{let m=f.objectType,p=f.gguid,h=c[m],y,b;if(h)try{y=JSON.search(h,'//*[ contains(linkAttribute, "ITD")  or sourceRole = "Primärverknüpfung"]')[0]}catch{}y&&(b=y.linkAttribute,console.log(`Creating primarylinkParent: ${b}`),await s.createLink({obj1:m,obj2:l.obj,gguid1:p,gguid2:l.id,linkName:b},!1))})}async getPrimarylinkparents(e,t){const n=this;return new Promise(o=>{n.api.fetch(`${n.version}/type/${e}/${t}/primarylinkparents`,{method:"GET"}).then(function(s){o(s.json())}).catch(ge)})}async createLink(e,t=!0){var p,h;const n=this;n.options;var{obj1:o,obj2:s,gguid1:i,gguid2:l,linkName:a}=e;let u=o,d=s,c=i,f=l,m;if(!a){let y=await n.getUserObjecttypePermissions(!0,[u,d]);try{if(typeof Defiant<"u"){let b=Defiant.getSnapshot(y),_=JSON.search(b,`//*[DataObject="${u}"]`)[0];m=_.tableSign,a=JSON.search(_,`//*/links/${d}[ contains(linkAttribute, "ITD")  or sourceRole = "Primärverknüpfung"]/linkAttribute`)[0],!a&&((h=(p=_==null?void 0:_.primaryLinkParents)==null?void 0:p.parentObjectTypes)!=null&&h.includes(d))&&(a="PRIMARYLINKPLUS"),console.log(`%c"${u}" will be linked to ${d}, with linkName "${a}"`,"color:white; background: rgb(131,58,180); background: linear-gradient(90deg, rgba(131,58,180,1) 0%, rgba(253,29,29,1) 50%, rgba(252,176,69,1) 100%); padding:.5em; border-radius: 1em;")}}catch{}}return m&&a&&a.startsWith("ITD")&&(a.slice(3).startsWith(m)||(u=s,d=o,c=l,f=i)),new Promise(y=>{n.api.fetch(`${n.version}/type/${u}/${c}/dossier?gguid2=${f}&object-type2=${d}${a?"&attribute="+a:""}`,{method:"POST",headers:{"content-type":"application/json; charset=utf-8"}}).then(async function(b){a==="PRIMARYLINKPLUS"&&await n.saveOrUpdate(d,{GGUID:Array.isArray(f)?f[0]:f,[`PARENT${u}GUID`]:Array.isArray(c)?c[0]:c}),t&&await n.transferLink(u,c,d,f),y(b)}).catch(ge)})}async createLinks(e=[],t){const n=this;var o=[],s=Array.isArray(e)?e:[e];return s.reduce(async(i,l)=>(await i,n.createLink(l,t).then(a=>(console.log("link created"),o.push(a),o))),Promise.resolve()).then(function(){return o}).catch(ge)}async deleteLink(e){const t=this;t.options;var{obj1:n,gguid1:o,obj2:s,gguid2:i}=e;return new Promise(l=>{t.api.fetch(`${t.version}/type/${n}/${o}/dossier/${o}@${n}@${i}@${s}`,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){l(a)}).catch(ge)})}async search(e="ADDRESS",t="",n=""){const o=this;return new Promise(s=>{o.api.Search.openSearch(e,{orderBy:n,where:t,showResultsWithEmptySearchTerm:!0}).then(i=>s(i.objectGguids))})}async getMetadata(e){const t=this;return new Promise(n=>{typeof t.metadata>"u"&&(t.metadata={}),t.metadata[e]?n(t.metadata[e]):t.api.fetch(`${t.version}/metadata?object-types=${e}`).then(o=>o.json()).then(o=>{t.metadata[e]=o,n(o)}).catch(ge)})}async getUserObjecttypePermissions(e=!1,t=[]){let n=this,o=(s=[],i)=>i.every(l=>s.includes(l));return e&&n.userObjectPermissions&&(!t||o(n.userObjectPermissionsObjects,t))?n.userObjectPermissions:new Promise(function(s,i){n.api.fetch(`${n.version}/user/self/dataobjecttypepermission/list`).then(async function(l){if(!l.ok)return l.text().then(function(a){throw Error(l.statusText+"<br>"+a)});if(e){let a=await l.json(),u=[];n.userObjectPermissionsObjects||(n.userObjectPermissionsObjects=[]),n.userObjectPermissionsObjects=n.unique([...n.userObjectPermissionsObjects,...t]),console.log(`USEROBJECTPERMISSIONOBJECTS: ${n.userObjectPermissionsObjects.join(", ")}`),await Promise.all(a.map(async d=>{let c=d.DataObject,f={[c]:{}};t&&t.length>0?n.userObjectPermissionsObjects.includes(c)&&(f=await n.getMetadata(c)):f=await n.getMetadata(c),u.push({...d,...f[c]})})),n.userObjectPermissions||(n.userObjectPermissions=[]),n.userObjectPermissions=[...n.userObjectPermissions,...u],s(u)}else s(l.json())}).catch(ge)})}async getObjectPermissions(e="ADDRESS",t,n=!1){let o=this;return new Promise(function(s,i){o.api.fetch(`${o.version}/type/${e}/${t}/permission/full`).then(function(l){if(!l.ok)return l.text().then(function(a){throw Error(l.statusText+"<br>"+a)});s(l.json())}).catch(ge)})}async getSelf(e){let t=this,n=e||"";return new Promise(function(o,s){t.api.fetch(`${t.version}/user/self${n&&typeof n!="object"?`?fields=${e}`:""}`,{fields:e}).then(function(i){if(!i.ok)return i.text().then(function(l){throw Error(i.statusText+"<br>"+l)});o(i.json())}).catch(ge)})}async getSchema(e){let t=this,n=e;if(typeof t.schemas>"u"&&(t.schemas={}),!n&&t.hash)try{n=CASConnector.hash.split("/")[1].toUpperCase()}catch{n="ADDRESS"}else n||(n="ADDRESS");return new Promise(function(o,s){t.schemas[n]?o(t.schemas[n]):t.api.fetch(`${t.version}/type/${n.toUpperCase()}/schema`).then(function(i){return i.ok?i.json():i.text().then(function(l){throw Error(i.statusText+"<br>"+l)})}).then(i=>{let l=i?i.properties.fields:{};t.schemas[n]=l,o(l)}).catch(ge)})}async getList(e,t="full",n,o={}){let s=this,i=e&&e.includes("suggested")?"suggestedValues":e,l=[],a=n&&typeof n=="string"?n.replace(" "," ").replace(", ",",").replace(" ,",",").split(","):null,u=s.groups&&a?JSON.search(s.groups,`//*[${a.map(f=>`DISPLAYNAME="${f}"`).join(" or ")}]/GGUID`):[],d={"entries-per-page":1e3,...o},c="";return o&&(o.hasOwnProperty("object-type")&&(d={"min-permission":16,...d}),c+=Object.keys(d).map(f=>`${f}=${d[f]}`).join("&")),n&&i!=="group"&&i.toLowerCase()!=="suggestedvalues"&&!s.groups&&(s.groups=await s.getList("group"),u=JSON.search(s.groups,`//*[${a.map(f=>`DISPLAYNAME="${f}"`).join(" or ")}]/GGUID`)),new Promise(f=>{if(i&&i.toLowerCase()==="suggestedvalues")s.getSchema(t).then(p=>{let h=n,y=p[h].suggestedValues;y||(h==="GWSSTATUS"&&(h="GWSTYPE"),y=s.unique(JSON.search(p[h],`//${e}/value`))),console.log(`Eigabehilfen: ${JSON.stringify(y)}`),f(y)});else if(!c)s.api.fetch(`${s.version}/${i}/${t}${c}`).then(function(p){return p.ok?p.json():p.text().then(function(h){throw Error(p.statusText+"<br>"+h)})}).then(function(p){if(a&&a.length&&i!=="group"){for(let h=0,y=p.length;h<y;h++){let b=p[h],_=b.directSuperGroups;_.some(E=>u.includes(E))&&l.push({directSuperGroups:_,self:b.links.self,id:b.id,...b.fields})}f(l)}else f(p)}).catch(ge);else{let b=function(){s.api.fetch(`${s.version}/${i}/${t}?page=${h}&${c}`).then(function(_){if(!_.ok)reject(_),_.text().then(function(E){throw Error(_.statusText+"<br>"+E)});else if(_.ok)return _.json()}).then(_=>{let E=_;E=_||null,E&&(p=[...p,...E]),E&&E.length===Number(y)?(console.log(E.length+" Datensätze geladen"),++h,b.apply(this,arguments)):(console.log(`ALLE ${p.length} DATENSÄTZE GELADEN!!!`),(_&&_.length||p&&p.length)&&(_=p),f(_||[]))}).catch(ge)};var m=b;let p=[],h=1,y=d["entries-per-page"];b()}})}}function Ss(r){let e,t,n,o,s=(typeof r[21]=="object"?JSON.stringify(r[21]):r[21])+"",i,l,a,u;const d=[r[6],{data:r[0]},r[5]];let c={};for(let f=0;f<d.length;f+=1)c=Ne(c,d[f]);return a=new hi({props:c}),{c(){e=V("sd-group"),t=V("div"),t.textContent="Es ist ein Fehler aufgetreten",n=x(),o=V("pre"),i=ne(s),l=x(),Ee(a.$$.fragment),Oe(t,"text-align","left"),Oe(t,"flex","1"),Oe(t,"padding-bottom","0px"),N(t,"class","sd-content-heading")},m(f,m){X(f,e,m),F(e,t),F(e,n),F(e,o),F(o,i),F(e,l),_e(a,e,null),u=!0},p(f,m){(!u||m&4)&&s!==(s=(typeof f[21]=="object"?JSON.stringify(f[21]):f[21])+"")&&ye(i,s);const p=m&97?qt(d,[m&64&&St(f[6]),m&1&&{data:f[0]},m&32&&St(f[5])]):{};a.$set(p)},i(f){u||(Q(a.$$.fragment,f),u=!0)},o(f){ee(a.$$.fragment,f),u=!1},d(f){f&&Y(e),ve(a)}}}function Os(r){let e,t,n,o;const s=[As,Ts],i=[];function l(a,u){return!a[0]||!a[0].length?0:1}return e=l(r),t=i[e]=s[e](r),{c(){t.c(),n=He()},m(a,u){i[e].m(a,u),X(a,n,u),o=!0},p(a,u){let d=e;e=l(a),e===d?i[e].p(a,u):(ft(),ee(i[d],1,1,()=>{i[d]=null}),dt(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),Q(t,1),t.m(n.parentNode,n))},i(a){o||(Q(t),o=!0)},o(a){ee(t),o=!1},d(a){a&&Y(n),i[e].d(a)}}}function Ts(r){let e,t,n,o,s,i,l,a,u,d,c,f,m,p,h;const y=[r[6],{data:r[0]}];let b={};for(let _=0;_<y.length;_+=1)b=Ne(b,y[_]);return f=new hi({props:b}),{c(){e=V("h1"),t=ne(r[1]),n=x(),o=V("div"),s=V("label"),i=ne("Zeige Elemente"),l=x(),a=V("input"),c=x(),Ee(f.$$.fragment),Oe(e,"text-align","left"),Oe(e,"flex","1"),Oe(e,"margin","0px"),Oe(e,"padding-bottom","0px"),N(e,"class","sd-content-heading"),N(s,"class","sd-primary-text mr-4 inline-block pl-[0.15rem] hover:cursor-pointer"),N(s,"for",r[3]),N(a,"class","mr-2 mt-[0.3rem] h-3.5 w-8 appearance-none rounded-[0.4375rem] bg-neutral-300 before:pointer-events-none before:absolute before:h-3.5 before:w-3.5 before:rounded-full before:bg-transparent before:content-[''] after:absolute after:z-[2] after:-mt-[0.1875rem] after:h-5 after:w-5 after:rounded-full after:border-none after:bg-neutral-100 after:shadow-[0_0px_3px_0_rgb(0_0_0_/_7%),_0_2px_2px_0_rgb(0_0_0_/_4%)] after:transition-[background-color_0.2s,transform_0.2s] after:content-[''] checked:bg-primary checked:after:absolute checked:after:z-[2] checked:after:-mt-[3px] checked:after:ml-[1.0625rem] checked:after:h-5 checked:after:w-5 checked:after:rounded-full checked:after:border-none checked:after:bg-primary checked:after:shadow-[0_3px_1px_-2px_rgba(0,0,0,0.2),_0_2px_2px_0_rgba(0,0,0,0.14),_0_1px_5px_0_rgba(0,0,0,0.12)] checked:after:transition-[background-color_0.2s,transform_0.2s] checked:after:content-[''] hover:cursor-pointer focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[3px_-1px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-5 focus:after:w-5 focus:after:rounded-full focus:after:content-[''] checked:focus:border-primary checked:focus:bg-primary checked:focus:before:ml-[1.0625rem] checked:focus:before:scale-100 checked:focus:before:shadow-[3px_-1px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] dark:bg-neutral-600 dark:after:bg-neutral-400 dark:checked:bg-primary dark:checked:after:bg-primary dark:focus:before:shadow-[3px_-1px_0px_13px_rgba(255,255,255,0.4)] dark:checked:focus:before:shadow-[3px_-1px_0px_13px_#3b71ca] svelte-1i9sq3y"),N(a,"type","checkbox"),N(a,"role","switch"),a.checked=u=!r[4],a.value=d=!r[4],N(o,"class","gidToggle hover:border-none flex h-11 items-center")},m(_,E){X(_,e,E),F(e,t),X(_,n,E),X(_,o,E),F(o,s),F(s,i),F(o,l),F(o,a),r[10](a),X(_,c,E),_e(f,_,E),m=!0,p||(h=ue(a,"change",r[7]),p=!0)},p(_,E){(!m||E&2)&&ye(t,_[1]),(!m||E&8)&&N(s,"for",_[3]),(!m||E&16&&u!==(u=!_[4]))&&(a.checked=u),(!m||E&16&&d!==(d=!_[4]))&&(a.value=d);const I=E&65?qt(y,[E&64&&St(_[6]),E&1&&{data:_[0]}]):{};f.$set(I)},i(_){m||(Q(f.$$.fragment,_),m=!0)},o(_){ee(f.$$.fragment,_),m=!1},d(_){_&&(Y(e),Y(n),Y(o),Y(c)),r[10](null),ve(f,_),p=!1,h()}}}function As(r){let e;return{c(){e=V("sd-group"),e.innerHTML='<div style="text-align: left; flex: 1; padding-bottom: 0px;" class="sd-content-heading">Es sind keine Daten vorhanden</div>'},m(t,n){X(t,e,n)},p:he,i:he,o:he,d(t){t&&Y(e)}}}function Ds(r){let e;return{c(){e=V("sd-group"),e.innerHTML='<div style="text-align: left; flex: 1; padding-bottom: 0px;" class="sd-content-heading">Daten werden geladen</div>'},m(t,n){X(t,e,n)},p:he,i:he,o:he,d(t){t&&Y(e)}}}function Is(r){let e,t,n,o={ctx:r,current:null,token:null,hasCatch:!0,pending:Ds,then:Os,catch:Ss,value:9,error:21,blocks:[,,,]};return Ur(t=r[2],o),{c(){e=V("main"),o.block.c(),N(e,"class","container bg-white w-full h-full"),N(e,"id","firstCon")},m(s,i){X(s,e,i),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,n=!0},p(s,[i]){r=s,o.ctx=r,i&4&&t!==(t=r[2])&&Ur(t,o)||Di(o,r,i)},i(s){n||(Q(o.block),n=!0)},o(s){for(let i=0;i<3;i+=1){const l=o.blocks[i];ee(l)}n=!1},d(s){s&&Y(e),o.block.d(),o.token=null,o=null}}}function Cs(r){return r.flatMap(e=>{const t=new Date(e.OKEY).toLocaleDateString("de-DE",{month:"long"}),n=new Date(e.OKEY).toLocaleDateString("de-DE",{year:"numeric"}),o=new Date(e.OKEY).toLocaleDateString("de-DE",{day:"2-digit"});return e.messungen.map(s=>({Datum:t,Jahr:n,Tag:o,Substrat:s.KEYWORD,Menge:s.GID_WERT,Einheit:s.GID_EINHEIT}))})}function Rs(r,e,t){let n,o,s,i,l=new Es;globalThis.CASConnector=l,new URLSearchParams(window.location.search).has("gguid");let u=null,d,c,f,m;const p={kaaaboooommmm:()=>()=>({sum:0,push(I){this.sum+=I.value},value(){return this.sum},format(I){return I.toString()}})},h={rows:["Jahr","Datum"],cols:["Substrat"],locale:"de",aggregatorName:"Sum",vals:["Menge"],rendererName:"Table"},y=async()=>new Promise(async(I,A)=>{var S;if(f=await l.query("GID_SUBSTRATE",void 0,void 0,void 0,{params:`SELECT DISTINCT sub.GGUID as OGGUID, sub.KEYWORD as OKEY FROM GID_SUBSTRATE AS sub WHERE sub.IsLinkedToWhere(ANLAGEN as a :WHERE a.GGUID = 0x${globalThis.gguid})`}).then(v=>(v==null?void 0:v.rows)??[]),m=await l.query("BETRIEBSTAGEBUCH",void 0,void 0,void 0,{params:`SELECT DISTINCT sub.GGUID as OGGUID, sub.DATUM as OKEY FROM BETRIEBSTAGEBUCH AS sub WHERE sub.IsLinkedToWhere(ANLAGEN as a :WHERE a.GGUID = 0x${globalThis.gguid})`}).then(v=>(v==null?void 0:v.rows)??[]),(S=f==null?void 0:f.map(v=>v.OKEY))==null||S.sort(),m&&Array.isArray(m))for(const v of m){debugger;let R=await l.query("MESSUNG",void 0,void 0,void 0,{params:`SELECT DISTINCT me.GGUID as MGGUID,me.GID_WERT, me.GID_EINHEIT FROM MESSUNG AS me WHERE me.IsLinkedToWhere(BETRIEBSTAGEBUCH as d :WHERE d.GGUID = 0x${v.OGGUID})`}).then(D=>(D==null?void 0:D.rows)??[]);delete v.OGGUID;for(let D of R){debugger;let k=await l.query("GID_SUBSTRATE",void 0,void 0,void 0,{params:`SELECT DISTINCT me.KEYWORD FROM GID_SUBSTRATE AS me WHERE me.IsLinkedToWhere(MESSUNG as d :WHERE d.GGUID = 0x${D.MGGUID})`}).then(j=>{var C;return((C=j==null?void 0:j.rows)==null?void 0:C[0])??[]});delete D.MGGUID,D.KEYWORD=k.KEYWORD}v.messungen=R}m!=null&&m.length&&t(9,o=m),I(o??[])});function b(){t(4,i=!i);const I=document.querySelectorAll(".pvtAxisContainer, .pvtVals, .pvtRenderers");console.log({elements:I}),I.forEach(A=>{i?A.style.display="none":A.style.display="table-cell"})}xn(async()=>{t(2,c=location.port==="8080"?{}:l.connect().then(async I=>{var k,j,C,g;const A=(j=(k=l==null?void 0:l.api)==null?void 0:k.Context)==null?void 0:j.primaryDataObject;let S=(C=l==null?void 0:l.api)==null?void 0:C.State,v=S==null?void 0:S.current;t(8,n=v==null?void 0:v.editMode),u=v==null?void 0:v.ref,t(1,d=(v==null?void 0:v.caption)??(u==null?void 0:u.label)??"Pivot-Tabelle");let R=globalThis.gguid=A==null?void 0:A.id,D=globalThis.object=A==null?void 0:A.objectTypeName;if(!R||!D){let w=l.hash.split("/");D=globalThis.object=(g=w[1])==null?void 0:g.toUpperCase(),R=globalThis.gguid=w[2]}return S.onChangeSupported?S.onChange(w=>{console.log({newValue:w.ref.value})}):console.error("Method 'onChange' is not supported."),globalThis.CASConnector=l,await y(),l.user})),b()});let _;function E(I){Lt[I?"unshift":"push"](()=>{_=I,t(3,_)})}return r.$$.update=()=>{r.$$.dirty&256,r.$$.dirty&512&&t(0,s=Cs(o)),r.$$.dirty&1&&console.log(s)},t(8,n=location.port==="8080"),t(9,o=[]),t(4,i=!1),[s,d,c,_,i,p,h,b,n,o,E]}class Ps extends Me{constructor(e){super(),qe(this,e,Rs,Is,Le,{})}}new Ps({target:document.getElementById("app")});
